var KG=Object.defineProperty;var XG=(t,e,n)=>e in t?KG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rn=(t,e,n)=>XG(t,typeof e!="symbol"?e+"":e,n);function ZG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r1={exports:{}},If={},i1={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP;function QG(){if(bP)return Et;bP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(q){return q===null||typeof q!="object"?null:(q=d&&q[d]||q["@@iterator"],typeof q=="function"?q:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function w(q,U,j){this.props=q,this.context=U,this.refs=v,this.updater=j||m}w.prototype.isReactComponent={},w.prototype.setState=function(q,U){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,U,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=w.prototype;function k(q,U,j){this.props=q,this.context=U,this.refs=v,this.updater=j||m}var C=k.prototype=new b;C.constructor=k,y(C,w.prototype),C.isPureReactComponent=!0;var N=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function R(q,U,j){var K,X={},J=null,Z=null;if(U!=null)for(K in U.ref!==void 0&&(Z=U.ref),U.key!==void 0&&(J=""+U.key),U)_.call(U,K)&&!M.hasOwnProperty(K)&&(X[K]=U[K]);var oe=arguments.length-2;if(oe===1)X.children=j;else if(1<oe){for(var fe=Array(oe),me=0;me<oe;me++)fe[me]=arguments[me+2];X.children=fe}if(q&&q.defaultProps)for(K in oe=q.defaultProps,oe)X[K]===void 0&&(X[K]=oe[K]);return{$$typeof:t,type:q,key:J,ref:Z,props:X,_owner:A.current}}function D(q,U){return{$$typeof:t,type:q.type,key:U,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function B(q){var U={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(j){return U[j]})}var F=/\/+/g;function W(q,U){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):U.toString(36)}function I(q,U,j,K,X){var J=typeof q;(J==="undefined"||J==="boolean")&&(q=null);var Z=!1;if(q===null)Z=!0;else switch(J){case"string":case"number":Z=!0;break;case"object":switch(q.$$typeof){case t:case e:Z=!0}}if(Z)return Z=q,X=X(Z),q=K===""?"."+W(Z,0):K,N(X)?(j="",q!=null&&(j=q.replace(F,"$&/")+"/"),I(X,U,j,"",function(me){return me})):X!=null&&(O(X)&&(X=D(X,j+(!X.key||Z&&Z.key===X.key?"":(""+X.key).replace(F,"$&/")+"/")+q)),U.push(X)),1;if(Z=0,K=K===""?".":K+":",N(q))for(var oe=0;oe<q.length;oe++){J=q[oe];var fe=K+W(J,oe);Z+=I(J,U,j,fe,X)}else if(fe=h(q),typeof fe=="function")for(q=fe.call(q),oe=0;!(J=q.next()).done;)J=J.value,fe=K+W(J,oe++),Z+=I(J,U,j,fe,X);else if(J==="object")throw U=String(q),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Z}function Y(q,U,j){if(q==null)return q;var K=[],X=0;return I(q,K,"","",function(J){return U.call(j,J,X++)}),K}function V(q){if(q._status===-1){var U=q._result;U=U(),U.then(function(j){(q._status===0||q._status===-1)&&(q._status=1,q._result=j)},function(j){(q._status===0||q._status===-1)&&(q._status=2,q._result=j)}),q._status===-1&&(q._status=0,q._result=U)}if(q._status===1)return q._result.default;throw q._result}var G={current:null},H={transition:null},$={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:H,ReactCurrentOwner:A};function L(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:Y,forEach:function(q,U,j){Y(q,function(){U.apply(this,arguments)},j)},count:function(q){var U=0;return Y(q,function(){U++}),U},toArray:function(q){return Y(q,function(U){return U})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Et.Component=w,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=k,Et.StrictMode=r,Et.Suspense=l,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Et.act=L,Et.cloneElement=function(q,U,j){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var K=y({},q.props),X=q.key,J=q.ref,Z=q._owner;if(U!=null){if(U.ref!==void 0&&(J=U.ref,Z=A.current),U.key!==void 0&&(X=""+U.key),q.type&&q.type.defaultProps)var oe=q.type.defaultProps;for(fe in U)_.call(U,fe)&&!M.hasOwnProperty(fe)&&(K[fe]=U[fe]===void 0&&oe!==void 0?oe[fe]:U[fe])}var fe=arguments.length-2;if(fe===1)K.children=j;else if(1<fe){oe=Array(fe);for(var me=0;me<fe;me++)oe[me]=arguments[me+2];K.children=oe}return{$$typeof:t,type:q.type,key:X,ref:J,props:K,_owner:Z}},Et.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Et.createElement=R,Et.createFactory=function(q){var U=R.bind(null,q);return U.type=q,U},Et.createRef=function(){return{current:null}},Et.forwardRef=function(q){return{$$typeof:a,render:q}},Et.isValidElement=O,Et.lazy=function(q){return{$$typeof:u,_payload:{_status:-1,_result:q},_init:V}},Et.memo=function(q,U){return{$$typeof:c,type:q,compare:U===void 0?null:U}},Et.startTransition=function(q){var U=H.transition;H.transition={};try{q()}finally{H.transition=U}},Et.unstable_act=L,Et.useCallback=function(q,U){return G.current.useCallback(q,U)},Et.useContext=function(q){return G.current.useContext(q)},Et.useDebugValue=function(){},Et.useDeferredValue=function(q){return G.current.useDeferredValue(q)},Et.useEffect=function(q,U){return G.current.useEffect(q,U)},Et.useId=function(){return G.current.useId()},Et.useImperativeHandle=function(q,U,j){return G.current.useImperativeHandle(q,U,j)},Et.useInsertionEffect=function(q,U){return G.current.useInsertionEffect(q,U)},Et.useLayoutEffect=function(q,U){return G.current.useLayoutEffect(q,U)},Et.useMemo=function(q,U){return G.current.useMemo(q,U)},Et.useReducer=function(q,U,j){return G.current.useReducer(q,U,j)},Et.useRef=function(q){return G.current.useRef(q)},Et.useState=function(q){return G.current.useState(q)},Et.useSyncExternalStore=function(q,U,j){return G.current.useSyncExternalStore(q,U,j)},Et.useTransition=function(){return G.current.useTransition()},Et.version="18.3.1",Et}var kP;function Dd(){return kP||(kP=1,i1.exports=QG()),i1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function JG(){if(SP)return If;SP=1;var t=Dd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,d={},h=null,m=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(d[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:a,key:h,ref:m,props:d,_owner:i.current}}return If.Fragment=n,If.jsx=o,If.jsxs=o,If}var CP;function eK(){return CP||(CP=1,r1.exports=JG()),r1.exports}var g=eK(),S=Dd();const ne=Od(S),tK=ZG({__proto__:null,default:ne},[S]);var Wg={},s1={exports:{}},Qr={},o1={exports:{}},a1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP;function nK(){return EP||(EP=1,function(t){function e(H,$){var L=H.length;H.push($);e:for(;0<L;){var q=L-1>>>1,U=H[q];if(0<i(U,$))H[q]=$,H[L]=U,L=q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],L=H.pop();if(L!==$){H[0]=L;e:for(var q=0,U=H.length,j=U>>>1;q<j;){var K=2*(q+1)-1,X=H[K],J=K+1,Z=H[J];if(0>i(X,L))J<U&&0>i(Z,X)?(H[q]=Z,H[J]=L,q=J):(H[q]=X,H[K]=L,q=K);else if(J<U&&0>i(Z,L))H[q]=Z,H[J]=L,q=J;else break e}}return $}function i(H,$){var L=H.sortIndex-$.sortIndex;return L!==0?L:H.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=H)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function N(H){if(v=!1,C(H),!y)if(n(l)!==null)y=!0,V(_);else{var $=n(c);$!==null&&G(N,$.startTime-H)}}function _(H,$){y=!1,v&&(v=!1,b(R),R=-1),m=!0;var L=h;try{for(C($),d=n(l);d!==null&&(!(d.expirationTime>$)||H&&!B());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var U=q(d.expirationTime<=$);$=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),C($)}else r(l);d=n(l)}if(d!==null)var j=!0;else{var K=n(c);K!==null&&G(N,K.startTime-$),j=!1}return j}finally{d=null,h=L,m=!1}}var A=!1,M=null,R=-1,D=5,O=-1;function B(){return!(t.unstable_now()-O<D)}function F(){if(M!==null){var H=t.unstable_now();O=H;var $=!0;try{$=M(!0,H)}finally{$?W():(A=!1,M=null)}}else A=!1}var W;if(typeof k=="function")W=function(){k(F)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Y=I.port2;I.port1.onmessage=F,W=function(){Y.postMessage(null)}}else W=function(){w(F,0)};function V(H){M=H,A||(A=!0,W())}function G(H,$){R=w(function(){H(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,V(_))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return H()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var L=h;h=H;try{return $()}finally{h=L}},t.unstable_scheduleCallback=function(H,$,L){var q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,H={id:u++,callback:$,priorityLevel:H,startTime:L,expirationTime:U,sortIndex:-1},L>q?(H.sortIndex=L,e(c,H),n(l)===null&&H===n(c)&&(v?(b(R),R=-1):v=!0,G(N,L-q))):(H.sortIndex=U,e(l,H),y||m||(y=!0,V(_))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var $=h;return function(){var L=h;h=$;try{return H.apply(this,arguments)}finally{h=L}}}}(a1)),a1}var NP;function rK(){return NP||(NP=1,o1.exports=nK()),o1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP;function iK(){if(TP)return Qr;TP=1;var t=Dd(),e=rK();function n(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(f,p){o(f,p),o(f+"Capture",p)}function o(f,p){for(i[f]=p,f=0;f<p.length;f++)r.add(p[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function h(f){return l.call(d,f)?!0:l.call(u,f)?!1:c.test(f)?d[f]=!0:(u[f]=!0,!1)}function m(f,p,x,E){if(x!==null&&x.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return E?!1:x!==null?!x.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,p,x,E){if(p===null||typeof p>"u"||m(f,p,x,E))return!0;if(E)return!1;if(x!==null)switch(x.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function v(f,p,x,E,T,P,z){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=E,this.attributeNamespace=T,this.mustUseProperty=x,this.propertyName=f,this.type=p,this.sanitizeURL=P,this.removeEmptyString=z}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){w[f]=new v(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];w[p]=new v(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){w[f]=new v(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){w[f]=new v(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){w[f]=new v(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){w[f]=new v(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){w[f]=new v(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){w[f]=new v(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){w[f]=new v(f,5,!1,f.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function k(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(b,k);w[p]=new v(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(b,k);w[p]=new v(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(b,k);w[p]=new v(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){w[f]=new v(f,1,!1,f.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){w[f]=new v(f,1,!1,f.toLowerCase(),null,!0,!0)});function C(f,p,x,E){var T=w.hasOwnProperty(p)?w[p]:null;(T!==null?T.type!==0:E||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(y(p,x,T,E)&&(x=null),E||T===null?h(p)&&(x===null?f.removeAttribute(p):f.setAttribute(p,""+x)):T.mustUseProperty?f[T.propertyName]=x===null?T.type===3?!1:"":x:(p=T.attributeName,E=T.attributeNamespace,x===null?f.removeAttribute(p):(T=T.type,x=T===3||T===4&&x===!0?"":""+x,E?f.setAttributeNS(E,p,x):f.setAttribute(p,x))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),H=Symbol.iterator;function $(f){return f===null||typeof f!="object"?null:(f=H&&f[H]||f["@@iterator"],typeof f=="function"?f:null)}var L=Object.assign,q;function U(f){if(q===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);q=p&&p[1]||""}return`
`+q+f}var j=!1;function K(f,p){if(!f||j)return"";j=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(de){var E=de}Reflect.construct(f,[],p)}else{try{p.call()}catch(de){E=de}f.call(p.prototype)}else{try{throw Error()}catch(de){E=de}f()}}catch(de){if(de&&E&&typeof de.stack=="string"){for(var T=de.stack.split(`
`),P=E.stack.split(`
`),z=T.length-1,Q=P.length-1;1<=z&&0<=Q&&T[z]!==P[Q];)Q--;for(;1<=z&&0<=Q;z--,Q--)if(T[z]!==P[Q]){if(z!==1||Q!==1)do if(z--,Q--,0>Q||T[z]!==P[Q]){var te=`
`+T[z].replace(" at new "," at ");return f.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",f.displayName)),te}while(1<=z&&0<=Q);break}}}finally{j=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?U(f):""}function X(f){switch(f.tag){case 5:return U(f.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return f=K(f.type,!1),f;case 11:return f=K(f.type.render,!1),f;case 1:return f=K(f.type,!0),f;default:return""}}function J(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case M:return"Fragment";case A:return"Portal";case D:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case I:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case B:return(f.displayName||"Context")+".Consumer";case O:return(f._context.displayName||"Context")+".Provider";case F:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Y:return p=f.displayName||null,p!==null?p:J(f.type)||"Memo";case V:p=f._payload,f=f._init;try{return J(f(p))}catch{}}return null}function Z(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(p);case 8:return p===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function oe(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function fe(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function me(f){var p=fe(f)?"checked":"value",x=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),E=""+f[p];if(!f.hasOwnProperty(p)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,P=x.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return T.call(this)},set:function(z){E=""+z,P.call(this,z)}}),Object.defineProperty(f,p,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(z){E=""+z},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Te(f){f._valueTracker||(f._valueTracker=me(f))}function xe(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var x=p.getValue(),E="";return f&&(E=fe(f)?f.checked?"true":"false":f.value),f=E,f!==x?(p.setValue(f),!0):!1}function be(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Pe(f,p){var x=p.checked;return L({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??f._wrapperState.initialChecked})}function Ze(f,p){var x=p.defaultValue==null?"":p.defaultValue,E=p.checked!=null?p.checked:p.defaultChecked;x=oe(p.value!=null?p.value:x),f._wrapperState={initialChecked:E,initialValue:x,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Qe(f,p){p=p.checked,p!=null&&C(f,"checked",p,!1)}function Dt(f,p){Qe(f,p);var x=oe(p.value),E=p.type;if(x!=null)E==="number"?(x===0&&f.value===""||f.value!=x)&&(f.value=""+x):f.value!==""+x&&(f.value=""+x);else if(E==="submit"||E==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?se(f,p.type,x):p.hasOwnProperty("defaultValue")&&se(f,p.type,oe(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function ee(f,p,x){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var E=p.type;if(!(E!=="submit"&&E!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,x||p===f.value||(f.value=p),f.defaultValue=p}x=f.name,x!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,x!==""&&(f.name=x)}function se(f,p,x){(p!=="number"||be(f.ownerDocument)!==f)&&(x==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+x&&(f.defaultValue=""+x))}var ce=Array.isArray;function ke(f,p,x,E){if(f=f.options,p){p={};for(var T=0;T<x.length;T++)p["$"+x[T]]=!0;for(x=0;x<f.length;x++)T=p.hasOwnProperty("$"+f[x].value),f[x].selected!==T&&(f[x].selected=T),T&&E&&(f[x].defaultSelected=!0)}else{for(x=""+oe(x),p=null,T=0;T<f.length;T++){if(f[T].value===x){f[T].selected=!0,E&&(f[T].defaultSelected=!0);return}p!==null||f[T].disabled||(p=f[T])}p!==null&&(p.selected=!0)}}function Ce(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function ye(f,p){var x=p.value;if(x==null){if(x=p.children,p=p.defaultValue,x!=null){if(p!=null)throw Error(n(92));if(ce(x)){if(1<x.length)throw Error(n(93));x=x[0]}p=x}p==null&&(p=""),x=p}f._wrapperState={initialValue:oe(x)}}function ze(f,p){var x=oe(p.value),E=oe(p.defaultValue);x!=null&&(x=""+x,x!==f.value&&(f.value=x),p.defaultValue==null&&f.defaultValue!==x&&(f.defaultValue=x)),E!=null&&(f.defaultValue=""+E)}function $e(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function ae(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?ae(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var We,et=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,x,E,T){MSApp.execUnsafeLocalFunction(function(){return f(p,x,E,T)})}:f}(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=We.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function ft(f,p){if(p){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=p;return}}f.textContent=p}var qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(qt).forEach(function(f){st.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),qt[p]=qt[f]})});function mt(f,p,x){return p==null||typeof p=="boolean"||p===""?"":x||typeof p!="number"||p===0||qt.hasOwnProperty(f)&&qt[f]?(""+p).trim():p+"px"}function ht(f,p){f=f.style;for(var x in p)if(p.hasOwnProperty(x)){var E=x.indexOf("--")===0,T=mt(x,p[x],E);x==="float"&&(x="cssFloat"),E?f.setProperty(x,T):f[x]=T}}var hn=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(f,p){if(p){if(hn[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Hn(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function Un(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var St=null,Di=null,qr=null;function jr(f){if(f=bf(f)){if(typeof St!="function")throw Error(n(280));var p=f.stateNode;p&&(p=ig(p),St(f.stateNode,f.type,p))}}function ss(f){Di?qr?qr.push(f):qr=[f]:Di=f}function tt(){if(Di){var f=Di,p=qr;if(qr=Di=null,jr(f),p)for(f=0;f<p.length;f++)jr(p[f])}}function jt(f,p){return f(p)}function Wt(){}var lr=!1;function yr(f,p,x){if(lr)return f(p,x);lr=!0;try{return jt(f,p,x)}finally{lr=!1,(Di!==null||qr!==null)&&(Wt(),tt())}}function xr(f,p){var x=f.stateNode;if(x===null)return null;var E=ig(x);if(E===null)return null;x=E[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(n(231,p,typeof x));return x}var di=!1;if(a)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){di=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{di=!1}function ji(f,p,x,E,T,P,z,Q,te){var de=Array.prototype.slice.call(arguments,3);try{p.apply(x,de)}catch(Se){this.onError(Se)}}var Dl=!1,Bc=null,zc=!1,ef=null,hw={onError:function(f){Dl=!0,Bc=f}};function pw(f,p,x,E,T,P,z,Q,te){Dl=!1,Bc=null,ji.apply(hw,arguments)}function Dm(f,p,x,E,T,P,z,Q,te){if(pw.apply(this,arguments),Dl){if(Dl){var de=Bc;Dl=!1,Bc=null}else throw Error(n(198));zc||(zc=!0,ef=de)}}function Ds(f){var p=f,x=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(x=p.return),f=p.return;while(f)}return p.tag===3?x:null}function jm(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function Im(f){if(Ds(f)!==f)throw Error(n(188))}function mw(f){var p=f.alternate;if(!p){if(p=Ds(f),p===null)throw Error(n(188));return p!==f?null:f}for(var x=f,E=p;;){var T=x.return;if(T===null)break;var P=T.alternate;if(P===null){if(E=T.return,E!==null){x=E;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===x)return Im(T),f;if(P===E)return Im(T),p;P=P.sibling}throw Error(n(188))}if(x.return!==E.return)x=T,E=P;else{for(var z=!1,Q=T.child;Q;){if(Q===x){z=!0,x=T,E=P;break}if(Q===E){z=!0,E=T,x=P;break}Q=Q.sibling}if(!z){for(Q=P.child;Q;){if(Q===x){z=!0,x=P,E=T;break}if(Q===E){z=!0,E=P,x=T;break}Q=Q.sibling}if(!z)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?f:p}function Lm(f){return f=mw(f),f!==null?Fm(f):null}function Fm(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Fm(f);if(p!==null)return p;f=f.sibling}return null}var Bm=e.unstable_scheduleCallback,zm=e.unstable_cancelCallback,$m=e.unstable_shouldYield,gw=e.unstable_requestPaint,xn=e.unstable_now,yw=e.unstable_getCurrentPriorityLevel,tf=e.unstable_ImmediatePriority,Vm=e.unstable_UserBlockingPriority,$c=e.unstable_NormalPriority,xw=e.unstable_LowPriority,nf=e.unstable_IdlePriority,Vc=null,Ii=null;function vw(f){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Vc,f,void 0,(f.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:kw,ww=Math.log,bw=Math.LN2;function kw(f){return f>>>=0,f===0?32:31-(ww(f)/bw|0)|0}var Mo=64,Wc=4194304;function jl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function wa(f,p){var x=f.pendingLanes;if(x===0)return 0;var E=0,T=f.suspendedLanes,P=f.pingedLanes,z=x&268435455;if(z!==0){var Q=z&~T;Q!==0?E=jl(Q):(P&=z,P!==0&&(E=jl(P)))}else z=x&~T,z!==0?E=jl(z):P!==0&&(E=jl(P));if(E===0)return 0;if(p!==0&&p!==E&&!(p&T)&&(T=E&-E,P=p&-p,T>=P||T===16&&(P&4194240)!==0))return p;if(E&4&&(E|=x&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=E;0<p;)x=31-fi(p),T=1<<x,E|=f[x],p&=~T;return E}function Sw(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cw(f,p){for(var x=f.suspendedLanes,E=f.pingedLanes,T=f.expirationTimes,P=f.pendingLanes;0<P;){var z=31-fi(P),Q=1<<z,te=T[z];te===-1?(!(Q&x)||Q&E)&&(T[z]=Sw(Q,p)):te<=p&&(f.expiredLanes|=Q),P&=~Q}}function Hc(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Q2(){var f=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),f}function Ew(f){for(var p=[],x=0;31>x;x++)p.push(f);return p}function rf(f,p,x){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-fi(p),f[p]=x}function gY(f,p){var x=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var E=f.eventTimes;for(f=f.expirationTimes;0<x;){var T=31-fi(x),P=1<<T;p[T]=0,E[T]=-1,f[T]=-1,x&=~P}}function Nw(f,p){var x=f.entangledLanes|=p;for(f=f.entanglements;x;){var E=31-fi(x),T=1<<E;T&p|f[E]&p&&(f[E]|=p),x&=~T}}var Ht=0;function J2(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var e_,Tw,t_,n_,r_,Aw=!1,Wm=[],ba=null,ka=null,Sa=null,sf=new Map,of=new Map,Ca=[],yY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i_(f,p){switch(f){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":sf.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(p.pointerId)}}function af(f,p,x,E,T,P){return f===null||f.nativeEvent!==P?(f={blockedOn:p,domEventName:x,eventSystemFlags:E,nativeEvent:P,targetContainers:[T]},p!==null&&(p=bf(p),p!==null&&Tw(p)),f):(f.eventSystemFlags|=E,p=f.targetContainers,T!==null&&p.indexOf(T)===-1&&p.push(T),f)}function xY(f,p,x,E,T){switch(p){case"focusin":return ba=af(ba,f,p,x,E,T),!0;case"dragenter":return ka=af(ka,f,p,x,E,T),!0;case"mouseover":return Sa=af(Sa,f,p,x,E,T),!0;case"pointerover":var P=T.pointerId;return sf.set(P,af(sf.get(P)||null,f,p,x,E,T)),!0;case"gotpointercapture":return P=T.pointerId,of.set(P,af(of.get(P)||null,f,p,x,E,T)),!0}return!1}function s_(f){var p=Il(f.target);if(p!==null){var x=Ds(p);if(x!==null){if(p=x.tag,p===13){if(p=jm(x),p!==null){f.blockedOn=p,r_(f.priority,function(){t_(x)});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Hm(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var x=Mw(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(x===null){x=f.nativeEvent;var E=new x.constructor(x.type,x);_t=E,x.target.dispatchEvent(E),_t=null}else return p=bf(x),p!==null&&Tw(p),f.blockedOn=x,!1;p.shift()}return!0}function o_(f,p,x){Hm(f)&&x.delete(p)}function vY(){Aw=!1,ba!==null&&Hm(ba)&&(ba=null),ka!==null&&Hm(ka)&&(ka=null),Sa!==null&&Hm(Sa)&&(Sa=null),sf.forEach(o_),of.forEach(o_)}function lf(f,p){f.blockedOn===p&&(f.blockedOn=null,Aw||(Aw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vY)))}function cf(f){function p(T){return lf(T,f)}if(0<Wm.length){lf(Wm[0],f);for(var x=1;x<Wm.length;x++){var E=Wm[x];E.blockedOn===f&&(E.blockedOn=null)}}for(ba!==null&&lf(ba,f),ka!==null&&lf(ka,f),Sa!==null&&lf(Sa,f),sf.forEach(p),of.forEach(p),x=0;x<Ca.length;x++)E=Ca[x],E.blockedOn===f&&(E.blockedOn=null);for(;0<Ca.length&&(x=Ca[0],x.blockedOn===null);)s_(x),x.blockedOn===null&&Ca.shift()}var Uc=N.ReactCurrentBatchConfig,Um=!0;function wY(f,p,x,E){var T=Ht,P=Uc.transition;Uc.transition=null;try{Ht=1,_w(f,p,x,E)}finally{Ht=T,Uc.transition=P}}function bY(f,p,x,E){var T=Ht,P=Uc.transition;Uc.transition=null;try{Ht=4,_w(f,p,x,E)}finally{Ht=T,Uc.transition=P}}function _w(f,p,x,E){if(Um){var T=Mw(f,p,x,E);if(T===null)Yw(f,p,E,qm,x),i_(f,E);else if(xY(T,f,p,x,E))E.stopPropagation();else if(i_(f,E),p&4&&-1<yY.indexOf(f)){for(;T!==null;){var P=bf(T);if(P!==null&&e_(P),P=Mw(f,p,x,E),P===null&&Yw(f,p,E,qm,x),P===T)break;T=P}T!==null&&E.stopPropagation()}else Yw(f,p,E,null,x)}}var qm=null;function Mw(f,p,x,E){if(qm=null,f=Un(E),f=Il(f),f!==null)if(p=Ds(f),p===null)f=null;else if(x=p.tag,x===13){if(f=jm(p),f!==null)return f;f=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return qm=f,null}function a_(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yw()){case tf:return 1;case Vm:return 4;case $c:case xw:return 16;case nf:return 536870912;default:return 16}default:return 16}}var Ea=null,Pw=null,Ym=null;function l_(){if(Ym)return Ym;var f,p=Pw,x=p.length,E,T="value"in Ea?Ea.value:Ea.textContent,P=T.length;for(f=0;f<x&&p[f]===T[f];f++);var z=x-f;for(E=1;E<=z&&p[x-E]===T[P-E];E++);return Ym=T.slice(f,1<E?1-E:void 0)}function Gm(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function Km(){return!0}function c_(){return!1}function hi(f){function p(x,E,T,P,z){this._reactName=x,this._targetInst=T,this.type=E,this.nativeEvent=P,this.target=z,this.currentTarget=null;for(var Q in f)f.hasOwnProperty(Q)&&(x=f[Q],this[Q]=x?x(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Km:c_,this.isPropagationStopped=c_,this}return L(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Km)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Km)},persist:function(){},isPersistent:Km}),p}var qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rw=hi(qc),uf=L({},qc,{view:0,detail:0}),kY=hi(uf),Ow,Dw,df,Xm=L({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iw,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==df&&(df&&f.type==="mousemove"?(Ow=f.screenX-df.screenX,Dw=f.screenY-df.screenY):Dw=Ow=0,df=f),Ow)},movementY:function(f){return"movementY"in f?f.movementY:Dw}}),u_=hi(Xm),SY=L({},Xm,{dataTransfer:0}),CY=hi(SY),EY=L({},uf,{relatedTarget:0}),jw=hi(EY),NY=L({},qc,{animationName:0,elapsedTime:0,pseudoElement:0}),TY=hi(NY),AY=L({},qc,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),_Y=hi(AY),MY=L({},qc,{data:0}),d_=hi(MY),PY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DY(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=OY[f])?!!p[f]:!1}function Iw(){return DY}var jY=L({},uf,{key:function(f){if(f.key){var p=PY[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Gm(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?RY[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iw,charCode:function(f){return f.type==="keypress"?Gm(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Gm(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),IY=hi(jY),LY=L({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f_=hi(LY),FY=L({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iw}),BY=hi(FY),zY=L({},qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$Y=hi(zY),VY=L({},Xm,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),WY=hi(VY),HY=[9,13,27,32],Lw=a&&"CompositionEvent"in window,ff=null;a&&"documentMode"in document&&(ff=document.documentMode);var UY=a&&"TextEvent"in window&&!ff,h_=a&&(!Lw||ff&&8<ff&&11>=ff),p_=" ",m_=!1;function g_(f,p){switch(f){case"keyup":return HY.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y_(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Yc=!1;function qY(f,p){switch(f){case"compositionend":return y_(p);case"keypress":return p.which!==32?null:(m_=!0,p_);case"textInput":return f=p.data,f===p_&&m_?null:f;default:return null}}function YY(f,p){if(Yc)return f==="compositionend"||!Lw&&g_(f,p)?(f=l_(),Ym=Pw=Ea=null,Yc=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return h_&&p.locale!=="ko"?null:p.data;default:return null}}var GY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x_(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!GY[f.type]:p==="textarea"}function v_(f,p,x,E){ss(E),p=tg(p,"onChange"),0<p.length&&(x=new Rw("onChange","change",null,x,E),f.push({event:x,listeners:p}))}var hf=null,pf=null;function KY(f){L_(f,0)}function Zm(f){var p=Qc(f);if(xe(p))return f}function XY(f,p){if(f==="change")return p}var w_=!1;if(a){var Fw;if(a){var Bw="oninput"in document;if(!Bw){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),Bw=typeof b_.oninput=="function"}Fw=Bw}else Fw=!1;w_=Fw&&(!document.documentMode||9<document.documentMode)}function k_(){hf&&(hf.detachEvent("onpropertychange",S_),pf=hf=null)}function S_(f){if(f.propertyName==="value"&&Zm(pf)){var p=[];v_(p,pf,f,Un(f)),yr(KY,p)}}function ZY(f,p,x){f==="focusin"?(k_(),hf=p,pf=x,hf.attachEvent("onpropertychange",S_)):f==="focusout"&&k_()}function QY(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Zm(pf)}function JY(f,p){if(f==="click")return Zm(p)}function eG(f,p){if(f==="input"||f==="change")return Zm(p)}function tG(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var os=typeof Object.is=="function"?Object.is:tG;function mf(f,p){if(os(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var x=Object.keys(f),E=Object.keys(p);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var T=x[E];if(!l.call(p,T)||!os(f[T],p[T]))return!1}return!0}function C_(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function E_(f,p){var x=C_(f);f=0;for(var E;x;){if(x.nodeType===3){if(E=f+x.textContent.length,f<=p&&E>=p)return{node:x,offset:p-f};f=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=C_(x)}}function N_(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?N_(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function T_(){for(var f=window,p=be();p instanceof f.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href=="string"}catch{x=!1}if(x)f=p.contentWindow;else break;p=be(f.document)}return p}function zw(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function nG(f){var p=T_(),x=f.focusedElem,E=f.selectionRange;if(p!==x&&x&&x.ownerDocument&&N_(x.ownerDocument.documentElement,x)){if(E!==null&&zw(x)){if(p=E.start,f=E.end,f===void 0&&(f=p),"selectionStart"in x)x.selectionStart=p,x.selectionEnd=Math.min(f,x.value.length);else if(f=(p=x.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var T=x.textContent.length,P=Math.min(E.start,T);E=E.end===void 0?P:Math.min(E.end,T),!f.extend&&P>E&&(T=E,E=P,P=T),T=E_(x,P);var z=E_(x,E);T&&z&&(f.rangeCount!==1||f.anchorNode!==T.node||f.anchorOffset!==T.offset||f.focusNode!==z.node||f.focusOffset!==z.offset)&&(p=p.createRange(),p.setStart(T.node,T.offset),f.removeAllRanges(),P>E?(f.addRange(p),f.extend(z.node,z.offset)):(p.setEnd(z.node,z.offset),f.addRange(p)))}}for(p=[],f=x;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<p.length;x++)f=p[x],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var rG=a&&"documentMode"in document&&11>=document.documentMode,Gc=null,$w=null,gf=null,Vw=!1;function A_(f,p,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Vw||Gc==null||Gc!==be(E)||(E=Gc,"selectionStart"in E&&zw(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),gf&&mf(gf,E)||(gf=E,E=tg($w,"onSelect"),0<E.length&&(p=new Rw("onSelect","select",null,p,x),f.push({event:p,listeners:E}),p.target=Gc)))}function Qm(f,p){var x={};return x[f.toLowerCase()]=p.toLowerCase(),x["Webkit"+f]="webkit"+p,x["Moz"+f]="moz"+p,x}var Kc={animationend:Qm("Animation","AnimationEnd"),animationiteration:Qm("Animation","AnimationIteration"),animationstart:Qm("Animation","AnimationStart"),transitionend:Qm("Transition","TransitionEnd")},Ww={},__={};a&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Jm(f){if(Ww[f])return Ww[f];if(!Kc[f])return f;var p=Kc[f],x;for(x in p)if(p.hasOwnProperty(x)&&x in __)return Ww[f]=p[x];return f}var M_=Jm("animationend"),P_=Jm("animationiteration"),R_=Jm("animationstart"),O_=Jm("transitionend"),D_=new Map,j_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(f,p){D_.set(f,p),s(p,[f])}for(var Hw=0;Hw<j_.length;Hw++){var Uw=j_[Hw],iG=Uw.toLowerCase(),sG=Uw[0].toUpperCase()+Uw.slice(1);Na(iG,"on"+sG)}Na(M_,"onAnimationEnd"),Na(P_,"onAnimationIteration"),Na(R_,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(O_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oG=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function I_(f,p,x){var E=f.type||"unknown-event";f.currentTarget=x,Dm(E,p,void 0,f),f.currentTarget=null}function L_(f,p){p=(p&4)!==0;for(var x=0;x<f.length;x++){var E=f[x],T=E.event;E=E.listeners;e:{var P=void 0;if(p)for(var z=E.length-1;0<=z;z--){var Q=E[z],te=Q.instance,de=Q.currentTarget;if(Q=Q.listener,te!==P&&T.isPropagationStopped())break e;I_(T,Q,de),P=te}else for(z=0;z<E.length;z++){if(Q=E[z],te=Q.instance,de=Q.currentTarget,Q=Q.listener,te!==P&&T.isPropagationStopped())break e;I_(T,Q,de),P=te}}}if(zc)throw f=ef,zc=!1,ef=null,f}function rn(f,p){var x=p[Jw];x===void 0&&(x=p[Jw]=new Set);var E=f+"__bubble";x.has(E)||(F_(p,f,2,!1),x.add(E))}function qw(f,p,x){var E=0;p&&(E|=4),F_(x,f,E,p)}var eg="_reactListening"+Math.random().toString(36).slice(2);function xf(f){if(!f[eg]){f[eg]=!0,r.forEach(function(x){x!=="selectionchange"&&(oG.has(x)||qw(x,!1,f),qw(x,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[eg]||(p[eg]=!0,qw("selectionchange",!1,p))}}function F_(f,p,x,E){switch(a_(p)){case 1:var T=wY;break;case 4:T=bY;break;default:T=_w}x=T.bind(null,p,x,f),T=void 0,!di||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(T=!0),E?T!==void 0?f.addEventListener(p,x,{capture:!0,passive:T}):f.addEventListener(p,x,!0):T!==void 0?f.addEventListener(p,x,{passive:T}):f.addEventListener(p,x,!1)}function Yw(f,p,x,E,T){var P=E;if(!(p&1)&&!(p&2)&&E!==null)e:for(;;){if(E===null)return;var z=E.tag;if(z===3||z===4){var Q=E.stateNode.containerInfo;if(Q===T||Q.nodeType===8&&Q.parentNode===T)break;if(z===4)for(z=E.return;z!==null;){var te=z.tag;if((te===3||te===4)&&(te=z.stateNode.containerInfo,te===T||te.nodeType===8&&te.parentNode===T))return;z=z.return}for(;Q!==null;){if(z=Il(Q),z===null)return;if(te=z.tag,te===5||te===6){E=P=z;continue e}Q=Q.parentNode}}E=E.return}yr(function(){var de=P,Se=Un(x),Ee=[];e:{var we=D_.get(f);if(we!==void 0){var Le=Rw,He=f;switch(f){case"keypress":if(Gm(x)===0)break e;case"keydown":case"keyup":Le=IY;break;case"focusin":He="focus",Le=jw;break;case"focusout":He="blur",Le=jw;break;case"beforeblur":case"afterblur":Le=jw;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=u_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=CY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=BY;break;case M_:case P_:case R_:Le=TY;break;case O_:Le=$Y;break;case"scroll":Le=kY;break;case"wheel":Le=WY;break;case"copy":case"cut":case"paste":Le=_Y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=f_}var qe=(p&4)!==0,Nn=!qe&&f==="scroll",le=qe?we!==null?we+"Capture":null:we;qe=[];for(var ie=de,ue;ie!==null;){ue=ie;var _e=ue.stateNode;if(ue.tag===5&&_e!==null&&(ue=_e,le!==null&&(_e=xr(ie,le),_e!=null&&qe.push(vf(ie,_e,ue)))),Nn)break;ie=ie.return}0<qe.length&&(we=new Le(we,He,null,x,Se),Ee.push({event:we,listeners:qe}))}}if(!(p&7)){e:{if(we=f==="mouseover"||f==="pointerover",Le=f==="mouseout"||f==="pointerout",we&&x!==_t&&(He=x.relatedTarget||x.fromElement)&&(Il(He)||He[Po]))break e;if((Le||we)&&(we=Se.window===Se?Se:(we=Se.ownerDocument)?we.defaultView||we.parentWindow:window,Le?(He=x.relatedTarget||x.toElement,Le=de,He=He?Il(He):null,He!==null&&(Nn=Ds(He),He!==Nn||He.tag!==5&&He.tag!==6)&&(He=null)):(Le=null,He=de),Le!==He)){if(qe=u_,_e="onMouseLeave",le="onMouseEnter",ie="mouse",(f==="pointerout"||f==="pointerover")&&(qe=f_,_e="onPointerLeave",le="onPointerEnter",ie="pointer"),Nn=Le==null?we:Qc(Le),ue=He==null?we:Qc(He),we=new qe(_e,ie+"leave",Le,x,Se),we.target=Nn,we.relatedTarget=ue,_e=null,Il(Se)===de&&(qe=new qe(le,ie+"enter",He,x,Se),qe.target=ue,qe.relatedTarget=Nn,_e=qe),Nn=_e,Le&&He)t:{for(qe=Le,le=He,ie=0,ue=qe;ue;ue=Xc(ue))ie++;for(ue=0,_e=le;_e;_e=Xc(_e))ue++;for(;0<ie-ue;)qe=Xc(qe),ie--;for(;0<ue-ie;)le=Xc(le),ue--;for(;ie--;){if(qe===le||le!==null&&qe===le.alternate)break t;qe=Xc(qe),le=Xc(le)}qe=null}else qe=null;Le!==null&&B_(Ee,we,Le,qe,!1),He!==null&&Nn!==null&&B_(Ee,Nn,He,qe,!0)}}e:{if(we=de?Qc(de):window,Le=we.nodeName&&we.nodeName.toLowerCase(),Le==="select"||Le==="input"&&we.type==="file")var Ye=XY;else if(x_(we))if(w_)Ye=eG;else{Ye=QY;var nt=ZY}else(Le=we.nodeName)&&Le.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Ye=JY);if(Ye&&(Ye=Ye(f,de))){v_(Ee,Ye,x,Se);break e}nt&&nt(f,we,de),f==="focusout"&&(nt=we._wrapperState)&&nt.controlled&&we.type==="number"&&se(we,"number",we.value)}switch(nt=de?Qc(de):window,f){case"focusin":(x_(nt)||nt.contentEditable==="true")&&(Gc=nt,$w=de,gf=null);break;case"focusout":gf=$w=Gc=null;break;case"mousedown":Vw=!0;break;case"contextmenu":case"mouseup":case"dragend":Vw=!1,A_(Ee,x,Se);break;case"selectionchange":if(rG)break;case"keydown":case"keyup":A_(Ee,x,Se)}var rt;if(Lw)e:{switch(f){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Yc?g_(f,x)&&(dt="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(dt="onCompositionStart");dt&&(h_&&x.locale!=="ko"&&(Yc||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Yc&&(rt=l_()):(Ea=Se,Pw="value"in Ea?Ea.value:Ea.textContent,Yc=!0)),nt=tg(de,dt),0<nt.length&&(dt=new d_(dt,f,null,x,Se),Ee.push({event:dt,listeners:nt}),rt?dt.data=rt:(rt=y_(x),rt!==null&&(dt.data=rt)))),(rt=UY?qY(f,x):YY(f,x))&&(de=tg(de,"onBeforeInput"),0<de.length&&(Se=new d_("onBeforeInput","beforeinput",null,x,Se),Ee.push({event:Se,listeners:de}),Se.data=rt))}L_(Ee,p)})}function vf(f,p,x){return{instance:f,listener:p,currentTarget:x}}function tg(f,p){for(var x=p+"Capture",E=[];f!==null;){var T=f,P=T.stateNode;T.tag===5&&P!==null&&(T=P,P=xr(f,x),P!=null&&E.unshift(vf(f,P,T)),P=xr(f,p),P!=null&&E.push(vf(f,P,T))),f=f.return}return E}function Xc(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function B_(f,p,x,E,T){for(var P=p._reactName,z=[];x!==null&&x!==E;){var Q=x,te=Q.alternate,de=Q.stateNode;if(te!==null&&te===E)break;Q.tag===5&&de!==null&&(Q=de,T?(te=xr(x,P),te!=null&&z.unshift(vf(x,te,Q))):T||(te=xr(x,P),te!=null&&z.push(vf(x,te,Q)))),x=x.return}z.length!==0&&f.push({event:p,listeners:z})}var aG=/\r\n?/g,lG=/\u0000|\uFFFD/g;function z_(f){return(typeof f=="string"?f:""+f).replace(aG,`
`).replace(lG,"")}function ng(f,p,x){if(p=z_(p),z_(f)!==p&&x)throw Error(n(425))}function rg(){}var Gw=null,Kw=null;function Xw(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Zw=typeof setTimeout=="function"?setTimeout:void 0,cG=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,uG=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(f){return $_.resolve(null).then(f).catch(dG)}:Zw;function dG(f){setTimeout(function(){throw f})}function Qw(f,p){var x=p,E=0;do{var T=x.nextSibling;if(f.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"){if(E===0){f.removeChild(T),cf(p);return}E--}else x!=="$"&&x!=="$?"&&x!=="$!"||E++;x=T}while(x);cf(p)}function Ta(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function V_(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"){if(p===0)return f;p--}else x==="/$"&&p++}f=f.previousSibling}return null}var Zc=Math.random().toString(36).slice(2),js="__reactFiber$"+Zc,wf="__reactProps$"+Zc,Po="__reactContainer$"+Zc,Jw="__reactEvents$"+Zc,fG="__reactListeners$"+Zc,hG="__reactHandles$"+Zc;function Il(f){var p=f[js];if(p)return p;for(var x=f.parentNode;x;){if(p=x[Po]||x[js]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(f=V_(f);f!==null;){if(x=f[js])return x;f=V_(f)}return p}f=x,x=f.parentNode}return null}function bf(f){return f=f[js]||f[Po],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function Qc(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function ig(f){return f[wf]||null}var eb=[],Jc=-1;function Aa(f){return{current:f}}function sn(f){0>Jc||(f.current=eb[Jc],eb[Jc]=null,Jc--)}function Qt(f,p){Jc++,eb[Jc]=f.current,f.current=p}var _a={},vr=Aa(_a),Yr=Aa(!1),Ll=_a;function eu(f,p){var x=f.type.contextTypes;if(!x)return _a;var E=f.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===p)return E.__reactInternalMemoizedMaskedChildContext;var T={},P;for(P in x)T[P]=p[P];return E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=T),T}function Gr(f){return f=f.childContextTypes,f!=null}function sg(){sn(Yr),sn(vr)}function W_(f,p,x){if(vr.current!==_a)throw Error(n(168));Qt(vr,p),Qt(Yr,x)}function H_(f,p,x){var E=f.stateNode;if(p=p.childContextTypes,typeof E.getChildContext!="function")return x;E=E.getChildContext();for(var T in E)if(!(T in p))throw Error(n(108,Z(f)||"Unknown",T));return L({},x,E)}function og(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||_a,Ll=vr.current,Qt(vr,f),Qt(Yr,Yr.current),!0}function U_(f,p,x){var E=f.stateNode;if(!E)throw Error(n(169));x?(f=H_(f,p,Ll),E.__reactInternalMemoizedMergedChildContext=f,sn(Yr),sn(vr),Qt(vr,f)):sn(Yr),Qt(Yr,x)}var Ro=null,ag=!1,tb=!1;function q_(f){Ro===null?Ro=[f]:Ro.push(f)}function pG(f){ag=!0,q_(f)}function Ma(){if(!tb&&Ro!==null){tb=!0;var f=0,p=Ht;try{var x=Ro;for(Ht=1;f<x.length;f++){var E=x[f];do E=E(!0);while(E!==null)}Ro=null,ag=!1}catch(T){throw Ro!==null&&(Ro=Ro.slice(f+1)),Bm(tf,Ma),T}finally{Ht=p,tb=!1}}return null}var tu=[],nu=0,lg=null,cg=0,Li=[],Fi=0,Fl=null,Oo=1,Do="";function Bl(f,p){tu[nu++]=cg,tu[nu++]=lg,lg=f,cg=p}function Y_(f,p,x){Li[Fi++]=Oo,Li[Fi++]=Do,Li[Fi++]=Fl,Fl=f;var E=Oo;f=Do;var T=32-fi(E)-1;E&=~(1<<T),x+=1;var P=32-fi(p)+T;if(30<P){var z=T-T%5;P=(E&(1<<z)-1).toString(32),E>>=z,T-=z,Oo=1<<32-fi(p)+T|x<<T|E,Do=P+f}else Oo=1<<P|x<<T|E,Do=f}function nb(f){f.return!==null&&(Bl(f,1),Y_(f,1,0))}function rb(f){for(;f===lg;)lg=tu[--nu],tu[nu]=null,cg=tu[--nu],tu[nu]=null;for(;f===Fl;)Fl=Li[--Fi],Li[Fi]=null,Do=Li[--Fi],Li[Fi]=null,Oo=Li[--Fi],Li[Fi]=null}var pi=null,mi=null,pn=!1,as=null;function G_(f,p){var x=Vi(5,null,null,0);x.elementType="DELETED",x.stateNode=p,x.return=f,p=f.deletions,p===null?(f.deletions=[x],f.flags|=16):p.push(x)}function K_(f,p){switch(f.tag){case 5:var x=f.type;return p=p.nodeType!==1||x.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,pi=f,mi=Ta(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,pi=f,mi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(x=Fl!==null?{id:Oo,overflow:Do}:null,f.memoizedState={dehydrated:p,treeContext:x,retryLane:1073741824},x=Vi(18,null,null,0),x.stateNode=p,x.return=f,f.child=x,pi=f,mi=null,!0):!1;default:return!1}}function ib(f){return(f.mode&1)!==0&&(f.flags&128)===0}function sb(f){if(pn){var p=mi;if(p){var x=p;if(!K_(f,p)){if(ib(f))throw Error(n(418));p=Ta(x.nextSibling);var E=pi;p&&K_(f,p)?G_(E,x):(f.flags=f.flags&-4097|2,pn=!1,pi=f)}}else{if(ib(f))throw Error(n(418));f.flags=f.flags&-4097|2,pn=!1,pi=f}}}function X_(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;pi=f}function ug(f){if(f!==pi)return!1;if(!pn)return X_(f),pn=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!Xw(f.type,f.memoizedProps)),p&&(p=mi)){if(ib(f))throw Z_(),Error(n(418));for(;p;)G_(f,p),p=Ta(p.nextSibling)}if(X_(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var x=f.data;if(x==="/$"){if(p===0){mi=Ta(f.nextSibling);break e}p--}else x!=="$"&&x!=="$!"&&x!=="$?"||p++}f=f.nextSibling}mi=null}}else mi=pi?Ta(f.stateNode.nextSibling):null;return!0}function Z_(){for(var f=mi;f;)f=Ta(f.nextSibling)}function ru(){mi=pi=null,pn=!1}function ob(f){as===null?as=[f]:as.push(f)}var mG=N.ReactCurrentBatchConfig;function kf(f,p,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var E=x.stateNode}if(!E)throw Error(n(147,f));var T=E,P=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===P?p.ref:(p=function(z){var Q=T.refs;z===null?delete Q[P]:Q[P]=z},p._stringRef=P,p)}if(typeof f!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,f))}return f}function dg(f,p){throw f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function Q_(f){var p=f._init;return p(f._payload)}function J_(f){function p(le,ie){if(f){var ue=le.deletions;ue===null?(le.deletions=[ie],le.flags|=16):ue.push(ie)}}function x(le,ie){if(!f)return null;for(;ie!==null;)p(le,ie),ie=ie.sibling;return null}function E(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function T(le,ie){return le=Fa(le,ie),le.index=0,le.sibling=null,le}function P(le,ie,ue){return le.index=ue,f?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ie?(le.flags|=2,ie):ue):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function z(le){return f&&le.alternate===null&&(le.flags|=2),le}function Q(le,ie,ue,_e){return ie===null||ie.tag!==6?(ie=Zb(ue,le.mode,_e),ie.return=le,ie):(ie=T(ie,ue),ie.return=le,ie)}function te(le,ie,ue,_e){var Ye=ue.type;return Ye===M?Se(le,ie,ue.props.children,_e,ue.key):ie!==null&&(ie.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===V&&Q_(Ye)===ie.type)?(_e=T(ie,ue.props),_e.ref=kf(le,ie,ue),_e.return=le,_e):(_e=jg(ue.type,ue.key,ue.props,null,le.mode,_e),_e.ref=kf(le,ie,ue),_e.return=le,_e)}function de(le,ie,ue,_e){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=Qb(ue,le.mode,_e),ie.return=le,ie):(ie=T(ie,ue.children||[]),ie.return=le,ie)}function Se(le,ie,ue,_e,Ye){return ie===null||ie.tag!==7?(ie=Yl(ue,le.mode,_e,Ye),ie.return=le,ie):(ie=T(ie,ue),ie.return=le,ie)}function Ee(le,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Zb(""+ie,le.mode,ue),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return ue=jg(ie.type,ie.key,ie.props,null,le.mode,ue),ue.ref=kf(le,null,ie),ue.return=le,ue;case A:return ie=Qb(ie,le.mode,ue),ie.return=le,ie;case V:var _e=ie._init;return Ee(le,_e(ie._payload),ue)}if(ce(ie)||$(ie))return ie=Yl(ie,le.mode,ue,null),ie.return=le,ie;dg(le,ie)}return null}function we(le,ie,ue,_e){var Ye=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ye!==null?null:Q(le,ie,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return ue.key===Ye?te(le,ie,ue,_e):null;case A:return ue.key===Ye?de(le,ie,ue,_e):null;case V:return Ye=ue._init,we(le,ie,Ye(ue._payload),_e)}if(ce(ue)||$(ue))return Ye!==null?null:Se(le,ie,ue,_e,null);dg(le,ue)}return null}function Le(le,ie,ue,_e,Ye){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return le=le.get(ue)||null,Q(ie,le,""+_e,Ye);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return le=le.get(_e.key===null?ue:_e.key)||null,te(ie,le,_e,Ye);case A:return le=le.get(_e.key===null?ue:_e.key)||null,de(ie,le,_e,Ye);case V:var nt=_e._init;return Le(le,ie,ue,nt(_e._payload),Ye)}if(ce(_e)||$(_e))return le=le.get(ue)||null,Se(ie,le,_e,Ye,null);dg(ie,_e)}return null}function He(le,ie,ue,_e){for(var Ye=null,nt=null,rt=ie,dt=ie=0,nr=null;rt!==null&&dt<ue.length;dt++){rt.index>dt?(nr=rt,rt=null):nr=rt.sibling;var zt=we(le,rt,ue[dt],_e);if(zt===null){rt===null&&(rt=nr);break}f&&rt&&zt.alternate===null&&p(le,rt),ie=P(zt,ie,dt),nt===null?Ye=zt:nt.sibling=zt,nt=zt,rt=nr}if(dt===ue.length)return x(le,rt),pn&&Bl(le,dt),Ye;if(rt===null){for(;dt<ue.length;dt++)rt=Ee(le,ue[dt],_e),rt!==null&&(ie=P(rt,ie,dt),nt===null?Ye=rt:nt.sibling=rt,nt=rt);return pn&&Bl(le,dt),Ye}for(rt=E(le,rt);dt<ue.length;dt++)nr=Le(rt,le,dt,ue[dt],_e),nr!==null&&(f&&nr.alternate!==null&&rt.delete(nr.key===null?dt:nr.key),ie=P(nr,ie,dt),nt===null?Ye=nr:nt.sibling=nr,nt=nr);return f&&rt.forEach(function(Ba){return p(le,Ba)}),pn&&Bl(le,dt),Ye}function qe(le,ie,ue,_e){var Ye=$(ue);if(typeof Ye!="function")throw Error(n(150));if(ue=Ye.call(ue),ue==null)throw Error(n(151));for(var nt=Ye=null,rt=ie,dt=ie=0,nr=null,zt=ue.next();rt!==null&&!zt.done;dt++,zt=ue.next()){rt.index>dt?(nr=rt,rt=null):nr=rt.sibling;var Ba=we(le,rt,zt.value,_e);if(Ba===null){rt===null&&(rt=nr);break}f&&rt&&Ba.alternate===null&&p(le,rt),ie=P(Ba,ie,dt),nt===null?Ye=Ba:nt.sibling=Ba,nt=Ba,rt=nr}if(zt.done)return x(le,rt),pn&&Bl(le,dt),Ye;if(rt===null){for(;!zt.done;dt++,zt=ue.next())zt=Ee(le,zt.value,_e),zt!==null&&(ie=P(zt,ie,dt),nt===null?Ye=zt:nt.sibling=zt,nt=zt);return pn&&Bl(le,dt),Ye}for(rt=E(le,rt);!zt.done;dt++,zt=ue.next())zt=Le(rt,le,dt,zt.value,_e),zt!==null&&(f&&zt.alternate!==null&&rt.delete(zt.key===null?dt:zt.key),ie=P(zt,ie,dt),nt===null?Ye=zt:nt.sibling=zt,nt=zt);return f&&rt.forEach(function(GG){return p(le,GG)}),pn&&Bl(le,dt),Ye}function Nn(le,ie,ue,_e){if(typeof ue=="object"&&ue!==null&&ue.type===M&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:e:{for(var Ye=ue.key,nt=ie;nt!==null;){if(nt.key===Ye){if(Ye=ue.type,Ye===M){if(nt.tag===7){x(le,nt.sibling),ie=T(nt,ue.props.children),ie.return=le,le=ie;break e}}else if(nt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===V&&Q_(Ye)===nt.type){x(le,nt.sibling),ie=T(nt,ue.props),ie.ref=kf(le,nt,ue),ie.return=le,le=ie;break e}x(le,nt);break}else p(le,nt);nt=nt.sibling}ue.type===M?(ie=Yl(ue.props.children,le.mode,_e,ue.key),ie.return=le,le=ie):(_e=jg(ue.type,ue.key,ue.props,null,le.mode,_e),_e.ref=kf(le,ie,ue),_e.return=le,le=_e)}return z(le);case A:e:{for(nt=ue.key;ie!==null;){if(ie.key===nt)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){x(le,ie.sibling),ie=T(ie,ue.children||[]),ie.return=le,le=ie;break e}else{x(le,ie);break}else p(le,ie);ie=ie.sibling}ie=Qb(ue,le.mode,_e),ie.return=le,le=ie}return z(le);case V:return nt=ue._init,Nn(le,ie,nt(ue._payload),_e)}if(ce(ue))return He(le,ie,ue,_e);if($(ue))return qe(le,ie,ue,_e);dg(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ie!==null&&ie.tag===6?(x(le,ie.sibling),ie=T(ie,ue),ie.return=le,le=ie):(x(le,ie),ie=Zb(ue,le.mode,_e),ie.return=le,le=ie),z(le)):x(le,ie)}return Nn}var iu=J_(!0),eM=J_(!1),fg=Aa(null),hg=null,su=null,ab=null;function lb(){ab=su=hg=null}function cb(f){var p=fg.current;sn(fg),f._currentValue=p}function ub(f,p,x){for(;f!==null;){var E=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),f===x)break;f=f.return}}function ou(f,p){hg=f,ab=su=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(Kr=!0),f.firstContext=null)}function Bi(f){var p=f._currentValue;if(ab!==f)if(f={context:f,memoizedValue:p,next:null},su===null){if(hg===null)throw Error(n(308));su=f,hg.dependencies={lanes:0,firstContext:f}}else su=su.next=f;return p}var zl=null;function db(f){zl===null?zl=[f]:zl.push(f)}function tM(f,p,x,E){var T=p.interleaved;return T===null?(x.next=x,db(p)):(x.next=T.next,T.next=x),p.interleaved=x,jo(f,E)}function jo(f,p){f.lanes|=p;var x=f.alternate;for(x!==null&&(x.lanes|=p),x=f,f=f.return;f!==null;)f.childLanes|=p,x=f.alternate,x!==null&&(x.childLanes|=p),x=f,f=f.return;return x.tag===3?x.stateNode:null}var Pa=!1;function fb(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nM(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Io(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function Ra(f,p,x){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,It&2){var T=E.pending;return T===null?p.next=p:(p.next=T.next,T.next=p),E.pending=p,jo(f,x)}return T=E.interleaved,T===null?(p.next=p,db(E)):(p.next=T.next,T.next=p),E.interleaved=p,jo(f,x)}function pg(f,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194240)!==0)){var E=p.lanes;E&=f.pendingLanes,x|=E,p.lanes=x,Nw(f,x)}}function rM(f,p){var x=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var T=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var z={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?T=P=z:P=P.next=z,x=x.next}while(x!==null);P===null?T=P=p:P=P.next=p}else T=P=p;x={baseState:E.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:E.shared,effects:E.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=p:f.next=p,x.lastBaseUpdate=p}function mg(f,p,x,E){var T=f.updateQueue;Pa=!1;var P=T.firstBaseUpdate,z=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var te=Q,de=te.next;te.next=null,z===null?P=de:z.next=de,z=te;var Se=f.alternate;Se!==null&&(Se=Se.updateQueue,Q=Se.lastBaseUpdate,Q!==z&&(Q===null?Se.firstBaseUpdate=de:Q.next=de,Se.lastBaseUpdate=te))}if(P!==null){var Ee=T.baseState;z=0,Se=de=te=null,Q=P;do{var we=Q.lane,Le=Q.eventTime;if((E&we)===we){Se!==null&&(Se=Se.next={eventTime:Le,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var He=f,qe=Q;switch(we=p,Le=x,qe.tag){case 1:if(He=qe.payload,typeof He=="function"){Ee=He.call(Le,Ee,we);break e}Ee=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=qe.payload,we=typeof He=="function"?He.call(Le,Ee,we):He,we==null)break e;Ee=L({},Ee,we);break e;case 2:Pa=!0}}Q.callback!==null&&Q.lane!==0&&(f.flags|=64,we=T.effects,we===null?T.effects=[Q]:we.push(Q))}else Le={eventTime:Le,lane:we,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Se===null?(de=Se=Le,te=Ee):Se=Se.next=Le,z|=we;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;we=Q,Q=we.next,we.next=null,T.lastBaseUpdate=we,T.shared.pending=null}}while(!0);if(Se===null&&(te=Ee),T.baseState=te,T.firstBaseUpdate=de,T.lastBaseUpdate=Se,p=T.shared.interleaved,p!==null){T=p;do z|=T.lane,T=T.next;while(T!==p)}else P===null&&(T.shared.lanes=0);Wl|=z,f.lanes=z,f.memoizedState=Ee}}function iM(f,p,x){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var E=f[p],T=E.callback;if(T!==null){if(E.callback=null,E=x,typeof T!="function")throw Error(n(191,T));T.call(E)}}}var Sf={},Is=Aa(Sf),Cf=Aa(Sf),Ef=Aa(Sf);function $l(f){if(f===Sf)throw Error(n(174));return f}function hb(f,p){switch(Qt(Ef,p),Qt(Cf,f),Qt(Is,Sf),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:he(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=he(p,f)}sn(Is),Qt(Is,p)}function au(){sn(Is),sn(Cf),sn(Ef)}function sM(f){$l(Ef.current);var p=$l(Is.current),x=he(p,f.type);p!==x&&(Qt(Cf,f),Qt(Is,x))}function pb(f){Cf.current===f&&(sn(Is),sn(Cf))}var vn=Aa(0);function gg(f){for(var p=f;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var mb=[];function gb(){for(var f=0;f<mb.length;f++)mb[f]._workInProgressVersionPrimary=null;mb.length=0}var yg=N.ReactCurrentDispatcher,yb=N.ReactCurrentBatchConfig,Vl=0,wn=null,Yn=null,er=null,xg=!1,Nf=!1,Tf=0,gG=0;function wr(){throw Error(n(321))}function xb(f,p){if(p===null)return!1;for(var x=0;x<p.length&&x<f.length;x++)if(!os(f[x],p[x]))return!1;return!0}function vb(f,p,x,E,T,P){if(Vl=P,wn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,yg.current=f===null||f.memoizedState===null?wG:bG,f=x(E,T),Nf){P=0;do{if(Nf=!1,Tf=0,25<=P)throw Error(n(301));P+=1,er=Yn=null,p.updateQueue=null,yg.current=kG,f=x(E,T)}while(Nf)}if(yg.current=bg,p=Yn!==null&&Yn.next!==null,Vl=0,er=Yn=wn=null,xg=!1,p)throw Error(n(300));return f}function wb(){var f=Tf!==0;return Tf=0,f}function Ls(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?wn.memoizedState=er=f:er=er.next=f,er}function zi(){if(Yn===null){var f=wn.alternate;f=f!==null?f.memoizedState:null}else f=Yn.next;var p=er===null?wn.memoizedState:er.next;if(p!==null)er=p,Yn=f;else{if(f===null)throw Error(n(310));Yn=f,f={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},er===null?wn.memoizedState=er=f:er=er.next=f}return er}function Af(f,p){return typeof p=="function"?p(f):p}function bb(f){var p=zi(),x=p.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=f;var E=Yn,T=E.baseQueue,P=x.pending;if(P!==null){if(T!==null){var z=T.next;T.next=P.next,P.next=z}E.baseQueue=T=P,x.pending=null}if(T!==null){P=T.next,E=E.baseState;var Q=z=null,te=null,de=P;do{var Se=de.lane;if((Vl&Se)===Se)te!==null&&(te=te.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),E=de.hasEagerState?de.eagerState:f(E,de.action);else{var Ee={lane:Se,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};te===null?(Q=te=Ee,z=E):te=te.next=Ee,wn.lanes|=Se,Wl|=Se}de=de.next}while(de!==null&&de!==P);te===null?z=E:te.next=Q,os(E,p.memoizedState)||(Kr=!0),p.memoizedState=E,p.baseState=z,p.baseQueue=te,x.lastRenderedState=E}if(f=x.interleaved,f!==null){T=f;do P=T.lane,wn.lanes|=P,Wl|=P,T=T.next;while(T!==f)}else T===null&&(x.lanes=0);return[p.memoizedState,x.dispatch]}function kb(f){var p=zi(),x=p.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=f;var E=x.dispatch,T=x.pending,P=p.memoizedState;if(T!==null){x.pending=null;var z=T=T.next;do P=f(P,z.action),z=z.next;while(z!==T);os(P,p.memoizedState)||(Kr=!0),p.memoizedState=P,p.baseQueue===null&&(p.baseState=P),x.lastRenderedState=P}return[P,E]}function oM(){}function aM(f,p){var x=wn,E=zi(),T=p(),P=!os(E.memoizedState,T);if(P&&(E.memoizedState=T,Kr=!0),E=E.queue,Sb(uM.bind(null,x,E,f),[f]),E.getSnapshot!==p||P||er!==null&&er.memoizedState.tag&1){if(x.flags|=2048,_f(9,cM.bind(null,x,E,T,p),void 0,null),tr===null)throw Error(n(349));Vl&30||lM(x,p,T)}return T}function lM(f,p,x){f.flags|=16384,f={getSnapshot:p,value:x},p=wn.updateQueue,p===null?(p={lastEffect:null,stores:null},wn.updateQueue=p,p.stores=[f]):(x=p.stores,x===null?p.stores=[f]:x.push(f))}function cM(f,p,x,E){p.value=x,p.getSnapshot=E,dM(p)&&fM(f)}function uM(f,p,x){return x(function(){dM(p)&&fM(f)})}function dM(f){var p=f.getSnapshot;f=f.value;try{var x=p();return!os(f,x)}catch{return!0}}function fM(f){var p=jo(f,1);p!==null&&ds(p,f,1,-1)}function hM(f){var p=Ls();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:f},p.queue=f,f=f.dispatch=vG.bind(null,wn,f),[p.memoizedState,f]}function _f(f,p,x,E){return f={tag:f,create:p,destroy:x,deps:E,next:null},p=wn.updateQueue,p===null?(p={lastEffect:null,stores:null},wn.updateQueue=p,p.lastEffect=f.next=f):(x=p.lastEffect,x===null?p.lastEffect=f.next=f:(E=x.next,x.next=f,f.next=E,p.lastEffect=f)),f}function pM(){return zi().memoizedState}function vg(f,p,x,E){var T=Ls();wn.flags|=f,T.memoizedState=_f(1|p,x,void 0,E===void 0?null:E)}function wg(f,p,x,E){var T=zi();E=E===void 0?null:E;var P=void 0;if(Yn!==null){var z=Yn.memoizedState;if(P=z.destroy,E!==null&&xb(E,z.deps)){T.memoizedState=_f(p,x,P,E);return}}wn.flags|=f,T.memoizedState=_f(1|p,x,P,E)}function mM(f,p){return vg(8390656,8,f,p)}function Sb(f,p){return wg(2048,8,f,p)}function gM(f,p){return wg(4,2,f,p)}function yM(f,p){return wg(4,4,f,p)}function xM(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function vM(f,p,x){return x=x!=null?x.concat([f]):null,wg(4,4,xM.bind(null,p,f),x)}function Cb(){}function wM(f,p){var x=zi();p=p===void 0?null:p;var E=x.memoizedState;return E!==null&&p!==null&&xb(p,E[1])?E[0]:(x.memoizedState=[f,p],f)}function bM(f,p){var x=zi();p=p===void 0?null:p;var E=x.memoizedState;return E!==null&&p!==null&&xb(p,E[1])?E[0]:(f=f(),x.memoizedState=[f,p],f)}function kM(f,p,x){return Vl&21?(os(x,p)||(x=Q2(),wn.lanes|=x,Wl|=x,f.baseState=!0),p):(f.baseState&&(f.baseState=!1,Kr=!0),f.memoizedState=x)}function yG(f,p){var x=Ht;Ht=x!==0&&4>x?x:4,f(!0);var E=yb.transition;yb.transition={};try{f(!1),p()}finally{Ht=x,yb.transition=E}}function SM(){return zi().memoizedState}function xG(f,p,x){var E=Ia(f);if(x={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null},CM(f))EM(p,x);else if(x=tM(f,p,x,E),x!==null){var T=Lr();ds(x,f,E,T),NM(x,p,E)}}function vG(f,p,x){var E=Ia(f),T={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null};if(CM(f))EM(p,T);else{var P=f.alternate;if(f.lanes===0&&(P===null||P.lanes===0)&&(P=p.lastRenderedReducer,P!==null))try{var z=p.lastRenderedState,Q=P(z,x);if(T.hasEagerState=!0,T.eagerState=Q,os(Q,z)){var te=p.interleaved;te===null?(T.next=T,db(p)):(T.next=te.next,te.next=T),p.interleaved=T;return}}catch{}finally{}x=tM(f,p,T,E),x!==null&&(T=Lr(),ds(x,f,E,T),NM(x,p,E))}}function CM(f){var p=f.alternate;return f===wn||p!==null&&p===wn}function EM(f,p){Nf=xg=!0;var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}function NM(f,p,x){if(x&4194240){var E=p.lanes;E&=f.pendingLanes,x|=E,p.lanes=x,Nw(f,x)}}var bg={readContext:Bi,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},wG={readContext:Bi,useCallback:function(f,p){return Ls().memoizedState=[f,p===void 0?null:p],f},useContext:Bi,useEffect:mM,useImperativeHandle:function(f,p,x){return x=x!=null?x.concat([f]):null,vg(4194308,4,xM.bind(null,p,f),x)},useLayoutEffect:function(f,p){return vg(4194308,4,f,p)},useInsertionEffect:function(f,p){return vg(4,2,f,p)},useMemo:function(f,p){var x=Ls();return p=p===void 0?null:p,f=f(),x.memoizedState=[f,p],f},useReducer:function(f,p,x){var E=Ls();return p=x!==void 0?x(p):p,E.memoizedState=E.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},E.queue=f,f=f.dispatch=xG.bind(null,wn,f),[E.memoizedState,f]},useRef:function(f){var p=Ls();return f={current:f},p.memoizedState=f},useState:hM,useDebugValue:Cb,useDeferredValue:function(f){return Ls().memoizedState=f},useTransition:function(){var f=hM(!1),p=f[0];return f=yG.bind(null,f[1]),Ls().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,x){var E=wn,T=Ls();if(pn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=p(),tr===null)throw Error(n(349));Vl&30||lM(E,p,x)}T.memoizedState=x;var P={value:x,getSnapshot:p};return T.queue=P,mM(uM.bind(null,E,P,f),[f]),E.flags|=2048,_f(9,cM.bind(null,E,P,x,p),void 0,null),x},useId:function(){var f=Ls(),p=tr.identifierPrefix;if(pn){var x=Do,E=Oo;x=(E&~(1<<32-fi(E)-1)).toString(32)+x,p=":"+p+"R"+x,x=Tf++,0<x&&(p+="H"+x.toString(32)),p+=":"}else x=gG++,p=":"+p+"r"+x.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},bG={readContext:Bi,useCallback:wM,useContext:Bi,useEffect:Sb,useImperativeHandle:vM,useInsertionEffect:gM,useLayoutEffect:yM,useMemo:bM,useReducer:bb,useRef:pM,useState:function(){return bb(Af)},useDebugValue:Cb,useDeferredValue:function(f){var p=zi();return kM(p,Yn.memoizedState,f)},useTransition:function(){var f=bb(Af)[0],p=zi().memoizedState;return[f,p]},useMutableSource:oM,useSyncExternalStore:aM,useId:SM,unstable_isNewReconciler:!1},kG={readContext:Bi,useCallback:wM,useContext:Bi,useEffect:Sb,useImperativeHandle:vM,useInsertionEffect:gM,useLayoutEffect:yM,useMemo:bM,useReducer:kb,useRef:pM,useState:function(){return kb(Af)},useDebugValue:Cb,useDeferredValue:function(f){var p=zi();return Yn===null?p.memoizedState=f:kM(p,Yn.memoizedState,f)},useTransition:function(){var f=kb(Af)[0],p=zi().memoizedState;return[f,p]},useMutableSource:oM,useSyncExternalStore:aM,useId:SM,unstable_isNewReconciler:!1};function ls(f,p){if(f&&f.defaultProps){p=L({},p),f=f.defaultProps;for(var x in f)p[x]===void 0&&(p[x]=f[x]);return p}return p}function Eb(f,p,x,E){p=f.memoizedState,x=x(E,p),x=x==null?p:L({},p,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var kg={isMounted:function(f){return(f=f._reactInternals)?Ds(f)===f:!1},enqueueSetState:function(f,p,x){f=f._reactInternals;var E=Lr(),T=Ia(f),P=Io(E,T);P.payload=p,x!=null&&(P.callback=x),p=Ra(f,P,T),p!==null&&(ds(p,f,T,E),pg(p,f,T))},enqueueReplaceState:function(f,p,x){f=f._reactInternals;var E=Lr(),T=Ia(f),P=Io(E,T);P.tag=1,P.payload=p,x!=null&&(P.callback=x),p=Ra(f,P,T),p!==null&&(ds(p,f,T,E),pg(p,f,T))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var x=Lr(),E=Ia(f),T=Io(x,E);T.tag=2,p!=null&&(T.callback=p),p=Ra(f,T,E),p!==null&&(ds(p,f,E,x),pg(p,f,E))}};function TM(f,p,x,E,T,P,z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,P,z):p.prototype&&p.prototype.isPureReactComponent?!mf(x,E)||!mf(T,P):!0}function AM(f,p,x){var E=!1,T=_a,P=p.contextType;return typeof P=="object"&&P!==null?P=Bi(P):(T=Gr(p)?Ll:vr.current,E=p.contextTypes,P=(E=E!=null)?eu(f,T):_a),p=new p(x,P),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=kg,f.stateNode=p,p._reactInternals=f,E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=T,f.__reactInternalMemoizedMaskedChildContext=P),p}function _M(f,p,x,E){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,E),p.state!==f&&kg.enqueueReplaceState(p,p.state,null)}function Nb(f,p,x,E){var T=f.stateNode;T.props=x,T.state=f.memoizedState,T.refs={},fb(f);var P=p.contextType;typeof P=="object"&&P!==null?T.context=Bi(P):(P=Gr(p)?Ll:vr.current,T.context=eu(f,P)),T.state=f.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(Eb(f,p,P,x),T.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(p=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),p!==T.state&&kg.enqueueReplaceState(T,T.state,null),mg(f,x,T,E),T.state=f.memoizedState),typeof T.componentDidMount=="function"&&(f.flags|=4194308)}function lu(f,p){try{var x="",E=p;do x+=X(E),E=E.return;while(E);var T=x}catch(P){T=`
Error generating stack: `+P.message+`
`+P.stack}return{value:f,source:p,stack:T,digest:null}}function Tb(f,p,x){return{value:f,source:null,stack:x??null,digest:p??null}}function Ab(f,p){try{console.error(p.value)}catch(x){setTimeout(function(){throw x})}}var SG=typeof WeakMap=="function"?WeakMap:Map;function MM(f,p,x){x=Io(-1,x),x.tag=3,x.payload={element:null};var E=p.value;return x.callback=function(){_g||(_g=!0,Wb=E),Ab(f,p)},x}function PM(f,p,x){x=Io(-1,x),x.tag=3;var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var T=p.value;x.payload=function(){return E(T)},x.callback=function(){Ab(f,p)}}var P=f.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){Ab(f,p),typeof E!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})}),x}function RM(f,p,x){var E=f.pingCache;if(E===null){E=f.pingCache=new SG;var T=new Set;E.set(p,T)}else T=E.get(p),T===void 0&&(T=new Set,E.set(p,T));T.has(x)||(T.add(x),f=LG.bind(null,f,p,x),p.then(f,f))}function OM(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function DM(f,p,x,E,T){return f.mode&1?(f.flags|=65536,f.lanes=T,f):(f===p?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(p=Io(-1,1),p.tag=2,Ra(x,p,1))),x.lanes|=1),f)}var CG=N.ReactCurrentOwner,Kr=!1;function Ir(f,p,x,E){p.child=f===null?eM(p,null,x,E):iu(p,f.child,x,E)}function jM(f,p,x,E,T){x=x.render;var P=p.ref;return ou(p,T),E=vb(f,p,x,E,P,T),x=wb(),f!==null&&!Kr?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~T,Lo(f,p,T)):(pn&&x&&nb(p),p.flags|=1,Ir(f,p,E,T),p.child)}function IM(f,p,x,E,T){if(f===null){var P=x.type;return typeof P=="function"&&!Xb(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(p.tag=15,p.type=P,LM(f,p,P,E,T)):(f=jg(x.type,null,E,p,p.mode,T),f.ref=p.ref,f.return=p,p.child=f)}if(P=f.child,!(f.lanes&T)){var z=P.memoizedProps;if(x=x.compare,x=x!==null?x:mf,x(z,E)&&f.ref===p.ref)return Lo(f,p,T)}return p.flags|=1,f=Fa(P,E),f.ref=p.ref,f.return=p,p.child=f}function LM(f,p,x,E,T){if(f!==null){var P=f.memoizedProps;if(mf(P,E)&&f.ref===p.ref)if(Kr=!1,p.pendingProps=E=P,(f.lanes&T)!==0)f.flags&131072&&(Kr=!0);else return p.lanes=f.lanes,Lo(f,p,T)}return _b(f,p,x,E,T)}function FM(f,p,x){var E=p.pendingProps,T=E.children,P=f!==null?f.memoizedState:null;if(E.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(uu,gi),gi|=x;else{if(!(x&1073741824))return f=P!==null?P.baseLanes|x:x,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,Qt(uu,gi),gi|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=P!==null?P.baseLanes:x,Qt(uu,gi),gi|=E}else P!==null?(E=P.baseLanes|x,p.memoizedState=null):E=x,Qt(uu,gi),gi|=E;return Ir(f,p,T,x),p.child}function BM(f,p){var x=p.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(p.flags|=512,p.flags|=2097152)}function _b(f,p,x,E,T){var P=Gr(x)?Ll:vr.current;return P=eu(p,P),ou(p,T),x=vb(f,p,x,E,P,T),E=wb(),f!==null&&!Kr?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~T,Lo(f,p,T)):(pn&&E&&nb(p),p.flags|=1,Ir(f,p,x,T),p.child)}function zM(f,p,x,E,T){if(Gr(x)){var P=!0;og(p)}else P=!1;if(ou(p,T),p.stateNode===null)Cg(f,p),AM(p,x,E),Nb(p,x,E,T),E=!0;else if(f===null){var z=p.stateNode,Q=p.memoizedProps;z.props=Q;var te=z.context,de=x.contextType;typeof de=="object"&&de!==null?de=Bi(de):(de=Gr(x)?Ll:vr.current,de=eu(p,de));var Se=x.getDerivedStateFromProps,Ee=typeof Se=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ee||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==E||te!==de)&&_M(p,z,E,de),Pa=!1;var we=p.memoizedState;z.state=we,mg(p,E,z,T),te=p.memoizedState,Q!==E||we!==te||Yr.current||Pa?(typeof Se=="function"&&(Eb(p,x,Se,E),te=p.memoizedState),(Q=Pa||TM(p,x,Q,E,we,te,de))?(Ee||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(p.flags|=4194308)):(typeof z.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=te),z.props=E,z.state=te,z.context=de,E=Q):(typeof z.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{z=p.stateNode,nM(f,p),Q=p.memoizedProps,de=p.type===p.elementType?Q:ls(p.type,Q),z.props=de,Ee=p.pendingProps,we=z.context,te=x.contextType,typeof te=="object"&&te!==null?te=Bi(te):(te=Gr(x)?Ll:vr.current,te=eu(p,te));var Le=x.getDerivedStateFromProps;(Se=typeof Le=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==Ee||we!==te)&&_M(p,z,E,te),Pa=!1,we=p.memoizedState,z.state=we,mg(p,E,z,T);var He=p.memoizedState;Q!==Ee||we!==He||Yr.current||Pa?(typeof Le=="function"&&(Eb(p,x,Le,E),He=p.memoizedState),(de=Pa||TM(p,x,de,E,we,He,te)||!1)?(Se||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(E,He,te),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(E,He,te)),typeof z.componentDidUpdate=="function"&&(p.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof z.componentDidUpdate!="function"||Q===f.memoizedProps&&we===f.memoizedState||(p.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===f.memoizedProps&&we===f.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=He),z.props=E,z.state=He,z.context=te,E=de):(typeof z.componentDidUpdate!="function"||Q===f.memoizedProps&&we===f.memoizedState||(p.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===f.memoizedProps&&we===f.memoizedState||(p.flags|=1024),E=!1)}return Mb(f,p,x,E,P,T)}function Mb(f,p,x,E,T,P){BM(f,p);var z=(p.flags&128)!==0;if(!E&&!z)return T&&U_(p,x,!1),Lo(f,p,P);E=p.stateNode,CG.current=p;var Q=z&&typeof x.getDerivedStateFromError!="function"?null:E.render();return p.flags|=1,f!==null&&z?(p.child=iu(p,f.child,null,P),p.child=iu(p,null,Q,P)):Ir(f,p,Q,P),p.memoizedState=E.state,T&&U_(p,x,!0),p.child}function $M(f){var p=f.stateNode;p.pendingContext?W_(f,p.pendingContext,p.pendingContext!==p.context):p.context&&W_(f,p.context,!1),hb(f,p.containerInfo)}function VM(f,p,x,E,T){return ru(),ob(T),p.flags|=256,Ir(f,p,x,E),p.child}var Pb={dehydrated:null,treeContext:null,retryLane:0};function Rb(f){return{baseLanes:f,cachePool:null,transitions:null}}function WM(f,p,x){var E=p.pendingProps,T=vn.current,P=!1,z=(p.flags&128)!==0,Q;if((Q=z)||(Q=f!==null&&f.memoizedState===null?!1:(T&2)!==0),Q?(P=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(T|=1),Qt(vn,T&1),f===null)return sb(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?f.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(z=E.children,f=E.fallback,P?(E=p.mode,P=p.child,z={mode:"hidden",children:z},!(E&1)&&P!==null?(P.childLanes=0,P.pendingProps=z):P=Ig(z,E,0,null),f=Yl(f,E,x,null),P.return=p,f.return=p,P.sibling=f,p.child=P,p.child.memoizedState=Rb(x),p.memoizedState=Pb,f):Ob(p,z));if(T=f.memoizedState,T!==null&&(Q=T.dehydrated,Q!==null))return EG(f,p,z,E,Q,T,x);if(P){P=E.fallback,z=p.mode,T=f.child,Q=T.sibling;var te={mode:"hidden",children:E.children};return!(z&1)&&p.child!==T?(E=p.child,E.childLanes=0,E.pendingProps=te,p.deletions=null):(E=Fa(T,te),E.subtreeFlags=T.subtreeFlags&14680064),Q!==null?P=Fa(Q,P):(P=Yl(P,z,x,null),P.flags|=2),P.return=p,E.return=p,E.sibling=P,p.child=E,E=P,P=p.child,z=f.child.memoizedState,z=z===null?Rb(x):{baseLanes:z.baseLanes|x,cachePool:null,transitions:z.transitions},P.memoizedState=z,P.childLanes=f.childLanes&~x,p.memoizedState=Pb,E}return P=f.child,f=P.sibling,E=Fa(P,{mode:"visible",children:E.children}),!(p.mode&1)&&(E.lanes=x),E.return=p,E.sibling=null,f!==null&&(x=p.deletions,x===null?(p.deletions=[f],p.flags|=16):x.push(f)),p.child=E,p.memoizedState=null,E}function Ob(f,p){return p=Ig({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function Sg(f,p,x,E){return E!==null&&ob(E),iu(p,f.child,null,x),f=Ob(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function EG(f,p,x,E,T,P,z){if(x)return p.flags&256?(p.flags&=-257,E=Tb(Error(n(422))),Sg(f,p,z,E)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(P=E.fallback,T=p.mode,E=Ig({mode:"visible",children:E.children},T,0,null),P=Yl(P,T,z,null),P.flags|=2,E.return=p,P.return=p,E.sibling=P,p.child=E,p.mode&1&&iu(p,f.child,null,z),p.child.memoizedState=Rb(z),p.memoizedState=Pb,P);if(!(p.mode&1))return Sg(f,p,z,null);if(T.data==="$!"){if(E=T.nextSibling&&T.nextSibling.dataset,E)var Q=E.dgst;return E=Q,P=Error(n(419)),E=Tb(P,E,void 0),Sg(f,p,z,E)}if(Q=(z&f.childLanes)!==0,Kr||Q){if(E=tr,E!==null){switch(z&-z){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(E.suspendedLanes|z)?0:T,T!==0&&T!==P.retryLane&&(P.retryLane=T,jo(f,T),ds(E,f,T,-1))}return Kb(),E=Tb(Error(n(421))),Sg(f,p,z,E)}return T.data==="$?"?(p.flags|=128,p.child=f.child,p=FG.bind(null,f),T._reactRetry=p,null):(f=P.treeContext,mi=Ta(T.nextSibling),pi=p,pn=!0,as=null,f!==null&&(Li[Fi++]=Oo,Li[Fi++]=Do,Li[Fi++]=Fl,Oo=f.id,Do=f.overflow,Fl=p),p=Ob(p,E.children),p.flags|=4096,p)}function HM(f,p,x){f.lanes|=p;var E=f.alternate;E!==null&&(E.lanes|=p),ub(f.return,p,x)}function Db(f,p,x,E,T){var P=f.memoizedState;P===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:T}:(P.isBackwards=p,P.rendering=null,P.renderingStartTime=0,P.last=E,P.tail=x,P.tailMode=T)}function UM(f,p,x){var E=p.pendingProps,T=E.revealOrder,P=E.tail;if(Ir(f,p,E.children,x),E=vn.current,E&2)E=E&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&HM(f,x,p);else if(f.tag===19)HM(f,x,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}if(Qt(vn,E),!(p.mode&1))p.memoizedState=null;else switch(T){case"forwards":for(x=p.child,T=null;x!==null;)f=x.alternate,f!==null&&gg(f)===null&&(T=x),x=x.sibling;x=T,x===null?(T=p.child,p.child=null):(T=x.sibling,x.sibling=null),Db(p,!1,T,x,P);break;case"backwards":for(x=null,T=p.child,p.child=null;T!==null;){if(f=T.alternate,f!==null&&gg(f)===null){p.child=T;break}f=T.sibling,T.sibling=x,x=T,T=f}Db(p,!0,x,null,P);break;case"together":Db(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Cg(f,p){!(p.mode&1)&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function Lo(f,p,x){if(f!==null&&(p.dependencies=f.dependencies),Wl|=p.lanes,!(x&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,x=Fa(f,f.pendingProps),p.child=x,x.return=p;f.sibling!==null;)f=f.sibling,x=x.sibling=Fa(f,f.pendingProps),x.return=p;x.sibling=null}return p.child}function NG(f,p,x){switch(p.tag){case 3:$M(p),ru();break;case 5:sM(p);break;case 1:Gr(p.type)&&og(p);break;case 4:hb(p,p.stateNode.containerInfo);break;case 10:var E=p.type._context,T=p.memoizedProps.value;Qt(fg,E._currentValue),E._currentValue=T;break;case 13:if(E=p.memoizedState,E!==null)return E.dehydrated!==null?(Qt(vn,vn.current&1),p.flags|=128,null):x&p.child.childLanes?WM(f,p,x):(Qt(vn,vn.current&1),f=Lo(f,p,x),f!==null?f.sibling:null);Qt(vn,vn.current&1);break;case 19:if(E=(x&p.childLanes)!==0,f.flags&128){if(E)return UM(f,p,x);p.flags|=128}if(T=p.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Qt(vn,vn.current),E)break;return null;case 22:case 23:return p.lanes=0,FM(f,p,x)}return Lo(f,p,x)}var qM,jb,YM,GM;qM=function(f,p){for(var x=p.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},jb=function(){},YM=function(f,p,x,E){var T=f.memoizedProps;if(T!==E){f=p.stateNode,$l(Is.current);var P=null;switch(x){case"input":T=Pe(f,T),E=Pe(f,E),P=[];break;case"select":T=L({},T,{value:void 0}),E=L({},E,{value:void 0}),P=[];break;case"textarea":T=Ce(f,T),E=Ce(f,E),P=[];break;default:typeof T.onClick!="function"&&typeof E.onClick=="function"&&(f.onclick=rg)}Ct(x,E);var z;x=null;for(de in T)if(!E.hasOwnProperty(de)&&T.hasOwnProperty(de)&&T[de]!=null)if(de==="style"){var Q=T[de];for(z in Q)Q.hasOwnProperty(z)&&(x||(x={}),x[z]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?P||(P=[]):(P=P||[]).push(de,null));for(de in E){var te=E[de];if(Q=T!=null?T[de]:void 0,E.hasOwnProperty(de)&&te!==Q&&(te!=null||Q!=null))if(de==="style")if(Q){for(z in Q)!Q.hasOwnProperty(z)||te&&te.hasOwnProperty(z)||(x||(x={}),x[z]="");for(z in te)te.hasOwnProperty(z)&&Q[z]!==te[z]&&(x||(x={}),x[z]=te[z])}else x||(P||(P=[]),P.push(de,x)),x=te;else de==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Q=Q?Q.__html:void 0,te!=null&&Q!==te&&(P=P||[]).push(de,te)):de==="children"?typeof te!="string"&&typeof te!="number"||(P=P||[]).push(de,""+te):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(te!=null&&de==="onScroll"&&rn("scroll",f),P||Q===te||(P=[])):(P=P||[]).push(de,te))}x&&(P=P||[]).push("style",x);var de=P;(p.updateQueue=de)&&(p.flags|=4)}},GM=function(f,p,x,E){x!==E&&(p.flags|=4)};function Mf(f,p){if(!pn)switch(f.tailMode){case"hidden":p=f.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function br(f){var p=f.alternate!==null&&f.alternate.child===f.child,x=0,E=0;if(p)for(var T=f.child;T!==null;)x|=T.lanes|T.childLanes,E|=T.subtreeFlags&14680064,E|=T.flags&14680064,T.return=f,T=T.sibling;else for(T=f.child;T!==null;)x|=T.lanes|T.childLanes,E|=T.subtreeFlags,E|=T.flags,T.return=f,T=T.sibling;return f.subtreeFlags|=E,f.childLanes=x,p}function TG(f,p,x){var E=p.pendingProps;switch(rb(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(p),null;case 1:return Gr(p.type)&&sg(),br(p),null;case 3:return E=p.stateNode,au(),sn(Yr),sn(vr),gb(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(f===null||f.child===null)&&(ug(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,as!==null&&(qb(as),as=null))),jb(f,p),br(p),null;case 5:pb(p);var T=$l(Ef.current);if(x=p.type,f!==null&&p.stateNode!=null)YM(f,p,x,E,T),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!E){if(p.stateNode===null)throw Error(n(166));return br(p),null}if(f=$l(Is.current),ug(p)){E=p.stateNode,x=p.type;var P=p.memoizedProps;switch(E[js]=p,E[wf]=P,f=(p.mode&1)!==0,x){case"dialog":rn("cancel",E),rn("close",E);break;case"iframe":case"object":case"embed":rn("load",E);break;case"video":case"audio":for(T=0;T<yf.length;T++)rn(yf[T],E);break;case"source":rn("error",E);break;case"img":case"image":case"link":rn("error",E),rn("load",E);break;case"details":rn("toggle",E);break;case"input":Ze(E,P),rn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!P.multiple},rn("invalid",E);break;case"textarea":ye(E,P),rn("invalid",E)}Ct(x,P),T=null;for(var z in P)if(P.hasOwnProperty(z)){var Q=P[z];z==="children"?typeof Q=="string"?E.textContent!==Q&&(P.suppressHydrationWarning!==!0&&ng(E.textContent,Q,f),T=["children",Q]):typeof Q=="number"&&E.textContent!==""+Q&&(P.suppressHydrationWarning!==!0&&ng(E.textContent,Q,f),T=["children",""+Q]):i.hasOwnProperty(z)&&Q!=null&&z==="onScroll"&&rn("scroll",E)}switch(x){case"input":Te(E),ee(E,P,!0);break;case"textarea":Te(E),$e(E);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(E.onclick=rg)}E=T,p.updateQueue=E,E!==null&&(p.flags|=4)}else{z=T.nodeType===9?T:T.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=ae(x)),f==="http://www.w3.org/1999/xhtml"?x==="script"?(f=z.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof E.is=="string"?f=z.createElement(x,{is:E.is}):(f=z.createElement(x),x==="select"&&(z=f,E.multiple?z.multiple=!0:E.size&&(z.size=E.size))):f=z.createElementNS(f,x),f[js]=p,f[wf]=E,qM(f,p,!1,!1),p.stateNode=f;e:{switch(z=Hn(x,E),x){case"dialog":rn("cancel",f),rn("close",f),T=E;break;case"iframe":case"object":case"embed":rn("load",f),T=E;break;case"video":case"audio":for(T=0;T<yf.length;T++)rn(yf[T],f);T=E;break;case"source":rn("error",f),T=E;break;case"img":case"image":case"link":rn("error",f),rn("load",f),T=E;break;case"details":rn("toggle",f),T=E;break;case"input":Ze(f,E),T=Pe(f,E),rn("invalid",f);break;case"option":T=E;break;case"select":f._wrapperState={wasMultiple:!!E.multiple},T=L({},E,{value:void 0}),rn("invalid",f);break;case"textarea":ye(f,E),T=Ce(f,E),rn("invalid",f);break;default:T=E}Ct(x,T),Q=T;for(P in Q)if(Q.hasOwnProperty(P)){var te=Q[P];P==="style"?ht(f,te):P==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&et(f,te)):P==="children"?typeof te=="string"?(x!=="textarea"||te!=="")&&ft(f,te):typeof te=="number"&&ft(f,""+te):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?te!=null&&P==="onScroll"&&rn("scroll",f):te!=null&&C(f,P,te,z))}switch(x){case"input":Te(f),ee(f,E,!1);break;case"textarea":Te(f),$e(f);break;case"option":E.value!=null&&f.setAttribute("value",""+oe(E.value));break;case"select":f.multiple=!!E.multiple,P=E.value,P!=null?ke(f,!!E.multiple,P,!1):E.defaultValue!=null&&ke(f,!!E.multiple,E.defaultValue,!0);break;default:typeof T.onClick=="function"&&(f.onclick=rg)}switch(x){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return br(p),null;case 6:if(f&&p.stateNode!=null)GM(f,p,f.memoizedProps,E);else{if(typeof E!="string"&&p.stateNode===null)throw Error(n(166));if(x=$l(Ef.current),$l(Is.current),ug(p)){if(E=p.stateNode,x=p.memoizedProps,E[js]=p,(P=E.nodeValue!==x)&&(f=pi,f!==null))switch(f.tag){case 3:ng(E.nodeValue,x,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&ng(E.nodeValue,x,(f.mode&1)!==0)}P&&(p.flags|=4)}else E=(x.nodeType===9?x:x.ownerDocument).createTextNode(E),E[js]=p,p.stateNode=E}return br(p),null;case 13:if(sn(vn),E=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(pn&&mi!==null&&p.mode&1&&!(p.flags&128))Z_(),ru(),p.flags|=98560,P=!1;else if(P=ug(p),E!==null&&E.dehydrated!==null){if(f===null){if(!P)throw Error(n(318));if(P=p.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[js]=p}else ru(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;br(p),P=!1}else as!==null&&(qb(as),as=null),P=!0;if(!P)return p.flags&65536?p:null}return p.flags&128?(p.lanes=x,p):(E=E!==null,E!==(f!==null&&f.memoizedState!==null)&&E&&(p.child.flags|=8192,p.mode&1&&(f===null||vn.current&1?Gn===0&&(Gn=3):Kb())),p.updateQueue!==null&&(p.flags|=4),br(p),null);case 4:return au(),jb(f,p),f===null&&xf(p.stateNode.containerInfo),br(p),null;case 10:return cb(p.type._context),br(p),null;case 17:return Gr(p.type)&&sg(),br(p),null;case 19:if(sn(vn),P=p.memoizedState,P===null)return br(p),null;if(E=(p.flags&128)!==0,z=P.rendering,z===null)if(E)Mf(P,!1);else{if(Gn!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(z=gg(f),z!==null){for(p.flags|=128,Mf(P,!1),E=z.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),p.subtreeFlags=0,E=x,x=p.child;x!==null;)P=x,f=E,P.flags&=14680066,z=P.alternate,z===null?(P.childLanes=0,P.lanes=f,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=z.childLanes,P.lanes=z.lanes,P.child=z.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=z.memoizedProps,P.memoizedState=z.memoizedState,P.updateQueue=z.updateQueue,P.type=z.type,f=z.dependencies,P.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),x=x.sibling;return Qt(vn,vn.current&1|2),p.child}f=f.sibling}P.tail!==null&&xn()>du&&(p.flags|=128,E=!0,Mf(P,!1),p.lanes=4194304)}else{if(!E)if(f=gg(z),f!==null){if(p.flags|=128,E=!0,x=f.updateQueue,x!==null&&(p.updateQueue=x,p.flags|=4),Mf(P,!0),P.tail===null&&P.tailMode==="hidden"&&!z.alternate&&!pn)return br(p),null}else 2*xn()-P.renderingStartTime>du&&x!==1073741824&&(p.flags|=128,E=!0,Mf(P,!1),p.lanes=4194304);P.isBackwards?(z.sibling=p.child,p.child=z):(x=P.last,x!==null?x.sibling=z:p.child=z,P.last=z)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=xn(),p.sibling=null,x=vn.current,Qt(vn,E?x&1|2:x&1),p):(br(p),null);case 22:case 23:return Gb(),E=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==E&&(p.flags|=8192),E&&p.mode&1?gi&1073741824&&(br(p),p.subtreeFlags&6&&(p.flags|=8192)):br(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function AG(f,p){switch(rb(p),p.tag){case 1:return Gr(p.type)&&sg(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return au(),sn(Yr),sn(vr),gb(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return pb(p),null;case 13:if(sn(vn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));ru()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return sn(vn),null;case 4:return au(),null;case 10:return cb(p.type._context),null;case 22:case 23:return Gb(),null;case 24:return null;default:return null}}var Eg=!1,kr=!1,_G=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function cu(f,p){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(E){Sn(f,p,E)}else x.current=null}function Ib(f,p,x){try{x()}catch(E){Sn(f,p,E)}}var KM=!1;function MG(f,p){if(Gw=Um,f=T_(),zw(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var T=E.anchorOffset,P=E.focusNode;E=E.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var z=0,Q=-1,te=-1,de=0,Se=0,Ee=f,we=null;t:for(;;){for(var Le;Ee!==x||T!==0&&Ee.nodeType!==3||(Q=z+T),Ee!==P||E!==0&&Ee.nodeType!==3||(te=z+E),Ee.nodeType===3&&(z+=Ee.nodeValue.length),(Le=Ee.firstChild)!==null;)we=Ee,Ee=Le;for(;;){if(Ee===f)break t;if(we===x&&++de===T&&(Q=z),we===P&&++Se===E&&(te=z),(Le=Ee.nextSibling)!==null)break;Ee=we,we=Ee.parentNode}Ee=Le}x=Q===-1||te===-1?null:{start:Q,end:te}}else x=null}x=x||{start:0,end:0}}else x=null;for(Kw={focusedElem:f,selectionRange:x},Um=!1,Ve=p;Ve!==null;)if(p=Ve,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Ve=f;else for(;Ve!==null;){p=Ve;try{var He=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var qe=He.memoizedProps,Nn=He.memoizedState,le=p.stateNode,ie=le.getSnapshotBeforeUpdate(p.elementType===p.type?qe:ls(p.type,qe),Nn);le.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var ue=p.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){Sn(p,p.return,_e)}if(f=p.sibling,f!==null){f.return=p.return,Ve=f;break}Ve=p.return}return He=KM,KM=!1,He}function Pf(f,p,x){var E=p.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var T=E=E.next;do{if((T.tag&f)===f){var P=T.destroy;T.destroy=void 0,P!==void 0&&Ib(p,x,P)}T=T.next}while(T!==E)}}function Ng(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&f)===f){var E=x.create;x.destroy=E()}x=x.next}while(x!==p)}}function Lb(f){var p=f.ref;if(p!==null){var x=f.stateNode;switch(f.tag){case 5:f=x;break;default:f=x}typeof p=="function"?p(f):p.current=f}}function XM(f){var p=f.alternate;p!==null&&(f.alternate=null,XM(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[js],delete p[wf],delete p[Jw],delete p[fG],delete p[hG])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function ZM(f){return f.tag===5||f.tag===3||f.tag===4}function QM(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||ZM(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Fb(f,p,x){var E=f.tag;if(E===5||E===6)f=f.stateNode,p?x.nodeType===8?x.parentNode.insertBefore(f,p):x.insertBefore(f,p):(x.nodeType===8?(p=x.parentNode,p.insertBefore(f,x)):(p=x,p.appendChild(f)),x=x._reactRootContainer,x!=null||p.onclick!==null||(p.onclick=rg));else if(E!==4&&(f=f.child,f!==null))for(Fb(f,p,x),f=f.sibling;f!==null;)Fb(f,p,x),f=f.sibling}function Bb(f,p,x){var E=f.tag;if(E===5||E===6)f=f.stateNode,p?x.insertBefore(f,p):x.appendChild(f);else if(E!==4&&(f=f.child,f!==null))for(Bb(f,p,x),f=f.sibling;f!==null;)Bb(f,p,x),f=f.sibling}var cr=null,cs=!1;function Oa(f,p,x){for(x=x.child;x!==null;)JM(f,p,x),x=x.sibling}function JM(f,p,x){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Vc,x)}catch{}switch(x.tag){case 5:kr||cu(x,p);case 6:var E=cr,T=cs;cr=null,Oa(f,p,x),cr=E,cs=T,cr!==null&&(cs?(f=cr,x=x.stateNode,f.nodeType===8?f.parentNode.removeChild(x):f.removeChild(x)):cr.removeChild(x.stateNode));break;case 18:cr!==null&&(cs?(f=cr,x=x.stateNode,f.nodeType===8?Qw(f.parentNode,x):f.nodeType===1&&Qw(f,x),cf(f)):Qw(cr,x.stateNode));break;case 4:E=cr,T=cs,cr=x.stateNode.containerInfo,cs=!0,Oa(f,p,x),cr=E,cs=T;break;case 0:case 11:case 14:case 15:if(!kr&&(E=x.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){T=E=E.next;do{var P=T,z=P.destroy;P=P.tag,z!==void 0&&(P&2||P&4)&&Ib(x,p,z),T=T.next}while(T!==E)}Oa(f,p,x);break;case 1:if(!kr&&(cu(x,p),E=x.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=x.memoizedProps,E.state=x.memoizedState,E.componentWillUnmount()}catch(Q){Sn(x,p,Q)}Oa(f,p,x);break;case 21:Oa(f,p,x);break;case 22:x.mode&1?(kr=(E=kr)||x.memoizedState!==null,Oa(f,p,x),kr=E):Oa(f,p,x);break;default:Oa(f,p,x)}}function eP(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new _G),p.forEach(function(E){var T=BG.bind(null,f,E);x.has(E)||(x.add(E),E.then(T,T))})}}function us(f,p){var x=p.deletions;if(x!==null)for(var E=0;E<x.length;E++){var T=x[E];try{var P=f,z=p,Q=z;e:for(;Q!==null;){switch(Q.tag){case 5:cr=Q.stateNode,cs=!1;break e;case 3:cr=Q.stateNode.containerInfo,cs=!0;break e;case 4:cr=Q.stateNode.containerInfo,cs=!0;break e}Q=Q.return}if(cr===null)throw Error(n(160));JM(P,z,T),cr=null,cs=!1;var te=T.alternate;te!==null&&(te.return=null),T.return=null}catch(de){Sn(T,p,de)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)tP(p,f),p=p.sibling}function tP(f,p){var x=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(us(p,f),Fs(f),E&4){try{Pf(3,f,f.return),Ng(3,f)}catch(qe){Sn(f,f.return,qe)}try{Pf(5,f,f.return)}catch(qe){Sn(f,f.return,qe)}}break;case 1:us(p,f),Fs(f),E&512&&x!==null&&cu(x,x.return);break;case 5:if(us(p,f),Fs(f),E&512&&x!==null&&cu(x,x.return),f.flags&32){var T=f.stateNode;try{ft(T,"")}catch(qe){Sn(f,f.return,qe)}}if(E&4&&(T=f.stateNode,T!=null)){var P=f.memoizedProps,z=x!==null?x.memoizedProps:P,Q=f.type,te=f.updateQueue;if(f.updateQueue=null,te!==null)try{Q==="input"&&P.type==="radio"&&P.name!=null&&Qe(T,P),Hn(Q,z);var de=Hn(Q,P);for(z=0;z<te.length;z+=2){var Se=te[z],Ee=te[z+1];Se==="style"?ht(T,Ee):Se==="dangerouslySetInnerHTML"?et(T,Ee):Se==="children"?ft(T,Ee):C(T,Se,Ee,de)}switch(Q){case"input":Dt(T,P);break;case"textarea":ze(T,P);break;case"select":var we=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!P.multiple;var Le=P.value;Le!=null?ke(T,!!P.multiple,Le,!1):we!==!!P.multiple&&(P.defaultValue!=null?ke(T,!!P.multiple,P.defaultValue,!0):ke(T,!!P.multiple,P.multiple?[]:"",!1))}T[wf]=P}catch(qe){Sn(f,f.return,qe)}}break;case 6:if(us(p,f),Fs(f),E&4){if(f.stateNode===null)throw Error(n(162));T=f.stateNode,P=f.memoizedProps;try{T.nodeValue=P}catch(qe){Sn(f,f.return,qe)}}break;case 3:if(us(p,f),Fs(f),E&4&&x!==null&&x.memoizedState.isDehydrated)try{cf(p.containerInfo)}catch(qe){Sn(f,f.return,qe)}break;case 4:us(p,f),Fs(f);break;case 13:us(p,f),Fs(f),T=f.child,T.flags&8192&&(P=T.memoizedState!==null,T.stateNode.isHidden=P,!P||T.alternate!==null&&T.alternate.memoizedState!==null||(Vb=xn())),E&4&&eP(f);break;case 22:if(Se=x!==null&&x.memoizedState!==null,f.mode&1?(kr=(de=kr)||Se,us(p,f),kr=de):us(p,f),Fs(f),E&8192){if(de=f.memoizedState!==null,(f.stateNode.isHidden=de)&&!Se&&f.mode&1)for(Ve=f,Se=f.child;Se!==null;){for(Ee=Ve=Se;Ve!==null;){switch(we=Ve,Le=we.child,we.tag){case 0:case 11:case 14:case 15:Pf(4,we,we.return);break;case 1:cu(we,we.return);var He=we.stateNode;if(typeof He.componentWillUnmount=="function"){E=we,x=we.return;try{p=E,He.props=p.memoizedProps,He.state=p.memoizedState,He.componentWillUnmount()}catch(qe){Sn(E,x,qe)}}break;case 5:cu(we,we.return);break;case 22:if(we.memoizedState!==null){iP(Ee);continue}}Le!==null?(Le.return=we,Ve=Le):iP(Ee)}Se=Se.sibling}e:for(Se=null,Ee=f;;){if(Ee.tag===5){if(Se===null){Se=Ee;try{T=Ee.stateNode,de?(P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Q=Ee.stateNode,te=Ee.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null,Q.style.display=mt("display",z))}catch(qe){Sn(f,f.return,qe)}}}else if(Ee.tag===6){if(Se===null)try{Ee.stateNode.nodeValue=de?"":Ee.memoizedProps}catch(qe){Sn(f,f.return,qe)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===f)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===f)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===f)break e;Se===Ee&&(Se=null),Ee=Ee.return}Se===Ee&&(Se=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:us(p,f),Fs(f),E&4&&eP(f);break;case 21:break;default:us(p,f),Fs(f)}}function Fs(f){var p=f.flags;if(p&2){try{e:{for(var x=f.return;x!==null;){if(ZM(x)){var E=x;break e}x=x.return}throw Error(n(160))}switch(E.tag){case 5:var T=E.stateNode;E.flags&32&&(ft(T,""),E.flags&=-33);var P=QM(f);Bb(f,P,T);break;case 3:case 4:var z=E.stateNode.containerInfo,Q=QM(f);Fb(f,Q,z);break;default:throw Error(n(161))}}catch(te){Sn(f,f.return,te)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function PG(f,p,x){Ve=f,nP(f)}function nP(f,p,x){for(var E=(f.mode&1)!==0;Ve!==null;){var T=Ve,P=T.child;if(T.tag===22&&E){var z=T.memoizedState!==null||Eg;if(!z){var Q=T.alternate,te=Q!==null&&Q.memoizedState!==null||kr;Q=Eg;var de=kr;if(Eg=z,(kr=te)&&!de)for(Ve=T;Ve!==null;)z=Ve,te=z.child,z.tag===22&&z.memoizedState!==null?sP(T):te!==null?(te.return=z,Ve=te):sP(T);for(;P!==null;)Ve=P,nP(P),P=P.sibling;Ve=T,Eg=Q,kr=de}rP(f)}else T.subtreeFlags&8772&&P!==null?(P.return=T,Ve=P):rP(f)}}function rP(f){for(;Ve!==null;){var p=Ve;if(p.flags&8772){var x=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:kr||Ng(5,p);break;case 1:var E=p.stateNode;if(p.flags&4&&!kr)if(x===null)E.componentDidMount();else{var T=p.elementType===p.type?x.memoizedProps:ls(p.type,x.memoizedProps);E.componentDidUpdate(T,x.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var P=p.updateQueue;P!==null&&iM(p,P,E);break;case 3:var z=p.updateQueue;if(z!==null){if(x=null,p.child!==null)switch(p.child.tag){case 5:x=p.child.stateNode;break;case 1:x=p.child.stateNode}iM(p,z,x)}break;case 5:var Q=p.stateNode;if(x===null&&p.flags&4){x=Q;var te=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&x.focus();break;case"img":te.src&&(x.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var de=p.alternate;if(de!==null){var Se=de.memoizedState;if(Se!==null){var Ee=Se.dehydrated;Ee!==null&&cf(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kr||p.flags&512&&Lb(p)}catch(we){Sn(p,p.return,we)}}if(p===f){Ve=null;break}if(x=p.sibling,x!==null){x.return=p.return,Ve=x;break}Ve=p.return}}function iP(f){for(;Ve!==null;){var p=Ve;if(p===f){Ve=null;break}var x=p.sibling;if(x!==null){x.return=p.return,Ve=x;break}Ve=p.return}}function sP(f){for(;Ve!==null;){var p=Ve;try{switch(p.tag){case 0:case 11:case 15:var x=p.return;try{Ng(4,p)}catch(te){Sn(p,x,te)}break;case 1:var E=p.stateNode;if(typeof E.componentDidMount=="function"){var T=p.return;try{E.componentDidMount()}catch(te){Sn(p,T,te)}}var P=p.return;try{Lb(p)}catch(te){Sn(p,P,te)}break;case 5:var z=p.return;try{Lb(p)}catch(te){Sn(p,z,te)}}}catch(te){Sn(p,p.return,te)}if(p===f){Ve=null;break}var Q=p.sibling;if(Q!==null){Q.return=p.return,Ve=Q;break}Ve=p.return}}var RG=Math.ceil,Tg=N.ReactCurrentDispatcher,zb=N.ReactCurrentOwner,$i=N.ReactCurrentBatchConfig,It=0,tr=null,Pn=null,ur=0,gi=0,uu=Aa(0),Gn=0,Rf=null,Wl=0,Ag=0,$b=0,Of=null,Xr=null,Vb=0,du=1/0,Fo=null,_g=!1,Wb=null,Da=null,Mg=!1,ja=null,Pg=0,Df=0,Hb=null,Rg=-1,Og=0;function Lr(){return It&6?xn():Rg!==-1?Rg:Rg=xn()}function Ia(f){return f.mode&1?It&2&&ur!==0?ur&-ur:mG.transition!==null?(Og===0&&(Og=Q2()),Og):(f=Ht,f!==0||(f=window.event,f=f===void 0?16:a_(f.type)),f):1}function ds(f,p,x,E){if(50<Df)throw Df=0,Hb=null,Error(n(185));rf(f,x,E),(!(It&2)||f!==tr)&&(f===tr&&(!(It&2)&&(Ag|=x),Gn===4&&La(f,ur)),Zr(f,E),x===1&&It===0&&!(p.mode&1)&&(du=xn()+500,ag&&Ma()))}function Zr(f,p){var x=f.callbackNode;Cw(f,p);var E=wa(f,f===tr?ur:0);if(E===0)x!==null&&zm(x),f.callbackNode=null,f.callbackPriority=0;else if(p=E&-E,f.callbackPriority!==p){if(x!=null&&zm(x),p===1)f.tag===0?pG(aP.bind(null,f)):q_(aP.bind(null,f)),uG(function(){!(It&6)&&Ma()}),x=null;else{switch(J2(E)){case 1:x=tf;break;case 4:x=Vm;break;case 16:x=$c;break;case 536870912:x=nf;break;default:x=$c}x=mP(x,oP.bind(null,f))}f.callbackPriority=p,f.callbackNode=x}}function oP(f,p){if(Rg=-1,Og=0,It&6)throw Error(n(327));var x=f.callbackNode;if(fu()&&f.callbackNode!==x)return null;var E=wa(f,f===tr?ur:0);if(E===0)return null;if(E&30||E&f.expiredLanes||p)p=Dg(f,E);else{p=E;var T=It;It|=2;var P=cP();(tr!==f||ur!==p)&&(Fo=null,du=xn()+500,Ul(f,p));do try{jG();break}catch(Q){lP(f,Q)}while(!0);lb(),Tg.current=P,It=T,Pn!==null?p=0:(tr=null,ur=0,p=Gn)}if(p!==0){if(p===2&&(T=Hc(f),T!==0&&(E=T,p=Ub(f,T))),p===1)throw x=Rf,Ul(f,0),La(f,E),Zr(f,xn()),x;if(p===6)La(f,E);else{if(T=f.current.alternate,!(E&30)&&!OG(T)&&(p=Dg(f,E),p===2&&(P=Hc(f),P!==0&&(E=P,p=Ub(f,P))),p===1))throw x=Rf,Ul(f,0),La(f,E),Zr(f,xn()),x;switch(f.finishedWork=T,f.finishedLanes=E,p){case 0:case 1:throw Error(n(345));case 2:ql(f,Xr,Fo);break;case 3:if(La(f,E),(E&130023424)===E&&(p=Vb+500-xn(),10<p)){if(wa(f,0)!==0)break;if(T=f.suspendedLanes,(T&E)!==E){Lr(),f.pingedLanes|=f.suspendedLanes&T;break}f.timeoutHandle=Zw(ql.bind(null,f,Xr,Fo),p);break}ql(f,Xr,Fo);break;case 4:if(La(f,E),(E&4194240)===E)break;for(p=f.eventTimes,T=-1;0<E;){var z=31-fi(E);P=1<<z,z=p[z],z>T&&(T=z),E&=~P}if(E=T,E=xn()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*RG(E/1960))-E,10<E){f.timeoutHandle=Zw(ql.bind(null,f,Xr,Fo),E);break}ql(f,Xr,Fo);break;case 5:ql(f,Xr,Fo);break;default:throw Error(n(329))}}}return Zr(f,xn()),f.callbackNode===x?oP.bind(null,f):null}function Ub(f,p){var x=Of;return f.current.memoizedState.isDehydrated&&(Ul(f,p).flags|=256),f=Dg(f,p),f!==2&&(p=Xr,Xr=x,p!==null&&qb(p)),f}function qb(f){Xr===null?Xr=f:Xr.push.apply(Xr,f)}function OG(f){for(var p=f;;){if(p.flags&16384){var x=p.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var E=0;E<x.length;E++){var T=x[E],P=T.getSnapshot;T=T.value;try{if(!os(P(),T))return!1}catch{return!1}}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function La(f,p){for(p&=~$b,p&=~Ag,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var x=31-fi(p),E=1<<x;f[x]=-1,p&=~E}}function aP(f){if(It&6)throw Error(n(327));fu();var p=wa(f,0);if(!(p&1))return Zr(f,xn()),null;var x=Dg(f,p);if(f.tag!==0&&x===2){var E=Hc(f);E!==0&&(p=E,x=Ub(f,E))}if(x===1)throw x=Rf,Ul(f,0),La(f,p),Zr(f,xn()),x;if(x===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,ql(f,Xr,Fo),Zr(f,xn()),null}function Yb(f,p){var x=It;It|=1;try{return f(p)}finally{It=x,It===0&&(du=xn()+500,ag&&Ma())}}function Hl(f){ja!==null&&ja.tag===0&&!(It&6)&&fu();var p=It;It|=1;var x=$i.transition,E=Ht;try{if($i.transition=null,Ht=1,f)return f()}finally{Ht=E,$i.transition=x,It=p,!(It&6)&&Ma()}}function Gb(){gi=uu.current,sn(uu)}function Ul(f,p){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==-1&&(f.timeoutHandle=-1,cG(x)),Pn!==null)for(x=Pn.return;x!==null;){var E=x;switch(rb(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&sg();break;case 3:au(),sn(Yr),sn(vr),gb();break;case 5:pb(E);break;case 4:au();break;case 13:sn(vn);break;case 19:sn(vn);break;case 10:cb(E.type._context);break;case 22:case 23:Gb()}x=x.return}if(tr=f,Pn=f=Fa(f.current,null),ur=gi=p,Gn=0,Rf=null,$b=Ag=Wl=0,Xr=Of=null,zl!==null){for(p=0;p<zl.length;p++)if(x=zl[p],E=x.interleaved,E!==null){x.interleaved=null;var T=E.next,P=x.pending;if(P!==null){var z=P.next;P.next=T,E.next=z}x.pending=E}zl=null}return f}function lP(f,p){do{var x=Pn;try{if(lb(),yg.current=bg,xg){for(var E=wn.memoizedState;E!==null;){var T=E.queue;T!==null&&(T.pending=null),E=E.next}xg=!1}if(Vl=0,er=Yn=wn=null,Nf=!1,Tf=0,zb.current=null,x===null||x.return===null){Gn=1,Rf=p,Pn=null;break}e:{var P=f,z=x.return,Q=x,te=p;if(p=ur,Q.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var de=te,Se=Q,Ee=Se.tag;if(!(Se.mode&1)&&(Ee===0||Ee===11||Ee===15)){var we=Se.alternate;we?(Se.updateQueue=we.updateQueue,Se.memoizedState=we.memoizedState,Se.lanes=we.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Le=OM(z);if(Le!==null){Le.flags&=-257,DM(Le,z,Q,P,p),Le.mode&1&&RM(P,de,p),p=Le,te=de;var He=p.updateQueue;if(He===null){var qe=new Set;qe.add(te),p.updateQueue=qe}else He.add(te);break e}else{if(!(p&1)){RM(P,de,p),Kb();break e}te=Error(n(426))}}else if(pn&&Q.mode&1){var Nn=OM(z);if(Nn!==null){!(Nn.flags&65536)&&(Nn.flags|=256),DM(Nn,z,Q,P,p),ob(lu(te,Q));break e}}P=te=lu(te,Q),Gn!==4&&(Gn=2),Of===null?Of=[P]:Of.push(P),P=z;do{switch(P.tag){case 3:P.flags|=65536,p&=-p,P.lanes|=p;var le=MM(P,te,p);rM(P,le);break e;case 1:Q=te;var ie=P.type,ue=P.stateNode;if(!(P.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Da===null||!Da.has(ue)))){P.flags|=65536,p&=-p,P.lanes|=p;var _e=PM(P,Q,p);rM(P,_e);break e}}P=P.return}while(P!==null)}dP(x)}catch(Ye){p=Ye,Pn===x&&x!==null&&(Pn=x=x.return);continue}break}while(!0)}function cP(){var f=Tg.current;return Tg.current=bg,f===null?bg:f}function Kb(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),tr===null||!(Wl&268435455)&&!(Ag&268435455)||La(tr,ur)}function Dg(f,p){var x=It;It|=2;var E=cP();(tr!==f||ur!==p)&&(Fo=null,Ul(f,p));do try{DG();break}catch(T){lP(f,T)}while(!0);if(lb(),It=x,Tg.current=E,Pn!==null)throw Error(n(261));return tr=null,ur=0,Gn}function DG(){for(;Pn!==null;)uP(Pn)}function jG(){for(;Pn!==null&&!$m();)uP(Pn)}function uP(f){var p=pP(f.alternate,f,gi);f.memoizedProps=f.pendingProps,p===null?dP(f):Pn=p,zb.current=null}function dP(f){var p=f;do{var x=p.alternate;if(f=p.return,p.flags&32768){if(x=AG(x,p),x!==null){x.flags&=32767,Pn=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Gn=6,Pn=null;return}}else if(x=TG(x,p,gi),x!==null){Pn=x;return}if(p=p.sibling,p!==null){Pn=p;return}Pn=p=f}while(p!==null);Gn===0&&(Gn=5)}function ql(f,p,x){var E=Ht,T=$i.transition;try{$i.transition=null,Ht=1,IG(f,p,x,E)}finally{$i.transition=T,Ht=E}return null}function IG(f,p,x,E){do fu();while(ja!==null);if(It&6)throw Error(n(327));x=f.finishedWork;var T=f.finishedLanes;if(x===null)return null;if(f.finishedWork=null,f.finishedLanes=0,x===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var P=x.lanes|x.childLanes;if(gY(f,P),f===tr&&(Pn=tr=null,ur=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||Mg||(Mg=!0,mP($c,function(){return fu(),null})),P=(x.flags&15990)!==0,x.subtreeFlags&15990||P){P=$i.transition,$i.transition=null;var z=Ht;Ht=1;var Q=It;It|=4,zb.current=null,MG(f,x),tP(x,f),nG(Kw),Um=!!Gw,Kw=Gw=null,f.current=x,PG(x),gw(),It=Q,Ht=z,$i.transition=P}else f.current=x;if(Mg&&(Mg=!1,ja=f,Pg=T),P=f.pendingLanes,P===0&&(Da=null),vw(x.stateNode),Zr(f,xn()),p!==null)for(E=f.onRecoverableError,x=0;x<p.length;x++)T=p[x],E(T.value,{componentStack:T.stack,digest:T.digest});if(_g)throw _g=!1,f=Wb,Wb=null,f;return Pg&1&&f.tag!==0&&fu(),P=f.pendingLanes,P&1?f===Hb?Df++:(Df=0,Hb=f):Df=0,Ma(),null}function fu(){if(ja!==null){var f=J2(Pg),p=$i.transition,x=Ht;try{if($i.transition=null,Ht=16>f?16:f,ja===null)var E=!1;else{if(f=ja,ja=null,Pg=0,It&6)throw Error(n(331));var T=It;for(It|=4,Ve=f.current;Ve!==null;){var P=Ve,z=P.child;if(Ve.flags&16){var Q=P.deletions;if(Q!==null){for(var te=0;te<Q.length;te++){var de=Q[te];for(Ve=de;Ve!==null;){var Se=Ve;switch(Se.tag){case 0:case 11:case 15:Pf(8,Se,P)}var Ee=Se.child;if(Ee!==null)Ee.return=Se,Ve=Ee;else for(;Ve!==null;){Se=Ve;var we=Se.sibling,Le=Se.return;if(XM(Se),Se===de){Ve=null;break}if(we!==null){we.return=Le,Ve=we;break}Ve=Le}}}var He=P.alternate;if(He!==null){var qe=He.child;if(qe!==null){He.child=null;do{var Nn=qe.sibling;qe.sibling=null,qe=Nn}while(qe!==null)}}Ve=P}}if(P.subtreeFlags&2064&&z!==null)z.return=P,Ve=z;else e:for(;Ve!==null;){if(P=Ve,P.flags&2048)switch(P.tag){case 0:case 11:case 15:Pf(9,P,P.return)}var le=P.sibling;if(le!==null){le.return=P.return,Ve=le;break e}Ve=P.return}}var ie=f.current;for(Ve=ie;Ve!==null;){z=Ve;var ue=z.child;if(z.subtreeFlags&2064&&ue!==null)ue.return=z,Ve=ue;else e:for(z=ie;Ve!==null;){if(Q=Ve,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Ng(9,Q)}}catch(Ye){Sn(Q,Q.return,Ye)}if(Q===z){Ve=null;break e}var _e=Q.sibling;if(_e!==null){_e.return=Q.return,Ve=_e;break e}Ve=Q.return}}if(It=T,Ma(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Vc,f)}catch{}E=!0}return E}finally{Ht=x,$i.transition=p}}return!1}function fP(f,p,x){p=lu(x,p),p=MM(f,p,1),f=Ra(f,p,1),p=Lr(),f!==null&&(rf(f,1,p),Zr(f,p))}function Sn(f,p,x){if(f.tag===3)fP(f,f,x);else for(;p!==null;){if(p.tag===3){fP(p,f,x);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Da===null||!Da.has(E))){f=lu(x,f),f=PM(p,f,1),p=Ra(p,f,1),f=Lr(),p!==null&&(rf(p,1,f),Zr(p,f));break}}p=p.return}}function LG(f,p,x){var E=f.pingCache;E!==null&&E.delete(p),p=Lr(),f.pingedLanes|=f.suspendedLanes&x,tr===f&&(ur&x)===x&&(Gn===4||Gn===3&&(ur&130023424)===ur&&500>xn()-Vb?Ul(f,0):$b|=x),Zr(f,p)}function hP(f,p){p===0&&(f.mode&1?(p=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):p=1);var x=Lr();f=jo(f,p),f!==null&&(rf(f,p,x),Zr(f,x))}function FG(f){var p=f.memoizedState,x=0;p!==null&&(x=p.retryLane),hP(f,x)}function BG(f,p){var x=0;switch(f.tag){case 13:var E=f.stateNode,T=f.memoizedState;T!==null&&(x=T.retryLane);break;case 19:E=f.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(p),hP(f,x)}var pP;pP=function(f,p,x){if(f!==null)if(f.memoizedProps!==p.pendingProps||Yr.current)Kr=!0;else{if(!(f.lanes&x)&&!(p.flags&128))return Kr=!1,NG(f,p,x);Kr=!!(f.flags&131072)}else Kr=!1,pn&&p.flags&1048576&&Y_(p,cg,p.index);switch(p.lanes=0,p.tag){case 2:var E=p.type;Cg(f,p),f=p.pendingProps;var T=eu(p,vr.current);ou(p,x),T=vb(null,p,E,f,T,x);var P=wb();return p.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Gr(E)?(P=!0,og(p)):P=!1,p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,fb(p),T.updater=kg,p.stateNode=T,T._reactInternals=p,Nb(p,E,f,x),p=Mb(null,p,E,!0,P,x)):(p.tag=0,pn&&P&&nb(p),Ir(null,p,T,x),p=p.child),p;case 16:E=p.elementType;e:{switch(Cg(f,p),f=p.pendingProps,T=E._init,E=T(E._payload),p.type=E,T=p.tag=$G(E),f=ls(E,f),T){case 0:p=_b(null,p,E,f,x);break e;case 1:p=zM(null,p,E,f,x);break e;case 11:p=jM(null,p,E,f,x);break e;case 14:p=IM(null,p,E,ls(E.type,f),x);break e}throw Error(n(306,E,""))}return p;case 0:return E=p.type,T=p.pendingProps,T=p.elementType===E?T:ls(E,T),_b(f,p,E,T,x);case 1:return E=p.type,T=p.pendingProps,T=p.elementType===E?T:ls(E,T),zM(f,p,E,T,x);case 3:e:{if($M(p),f===null)throw Error(n(387));E=p.pendingProps,P=p.memoizedState,T=P.element,nM(f,p),mg(p,E,null,x);var z=p.memoizedState;if(E=z.element,P.isDehydrated)if(P={element:E,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},p.updateQueue.baseState=P,p.memoizedState=P,p.flags&256){T=lu(Error(n(423)),p),p=VM(f,p,E,x,T);break e}else if(E!==T){T=lu(Error(n(424)),p),p=VM(f,p,E,x,T);break e}else for(mi=Ta(p.stateNode.containerInfo.firstChild),pi=p,pn=!0,as=null,x=eM(p,null,E,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ru(),E===T){p=Lo(f,p,x);break e}Ir(f,p,E,x)}p=p.child}return p;case 5:return sM(p),f===null&&sb(p),E=p.type,T=p.pendingProps,P=f!==null?f.memoizedProps:null,z=T.children,Xw(E,T)?z=null:P!==null&&Xw(E,P)&&(p.flags|=32),BM(f,p),Ir(f,p,z,x),p.child;case 6:return f===null&&sb(p),null;case 13:return WM(f,p,x);case 4:return hb(p,p.stateNode.containerInfo),E=p.pendingProps,f===null?p.child=iu(p,null,E,x):Ir(f,p,E,x),p.child;case 11:return E=p.type,T=p.pendingProps,T=p.elementType===E?T:ls(E,T),jM(f,p,E,T,x);case 7:return Ir(f,p,p.pendingProps,x),p.child;case 8:return Ir(f,p,p.pendingProps.children,x),p.child;case 12:return Ir(f,p,p.pendingProps.children,x),p.child;case 10:e:{if(E=p.type._context,T=p.pendingProps,P=p.memoizedProps,z=T.value,Qt(fg,E._currentValue),E._currentValue=z,P!==null)if(os(P.value,z)){if(P.children===T.children&&!Yr.current){p=Lo(f,p,x);break e}}else for(P=p.child,P!==null&&(P.return=p);P!==null;){var Q=P.dependencies;if(Q!==null){z=P.child;for(var te=Q.firstContext;te!==null;){if(te.context===E){if(P.tag===1){te=Io(-1,x&-x),te.tag=2;var de=P.updateQueue;if(de!==null){de=de.shared;var Se=de.pending;Se===null?te.next=te:(te.next=Se.next,Se.next=te),de.pending=te}}P.lanes|=x,te=P.alternate,te!==null&&(te.lanes|=x),ub(P.return,x,p),Q.lanes|=x;break}te=te.next}}else if(P.tag===10)z=P.type===p.type?null:P.child;else if(P.tag===18){if(z=P.return,z===null)throw Error(n(341));z.lanes|=x,Q=z.alternate,Q!==null&&(Q.lanes|=x),ub(z,x,p),z=P.sibling}else z=P.child;if(z!==null)z.return=P;else for(z=P;z!==null;){if(z===p){z=null;break}if(P=z.sibling,P!==null){P.return=z.return,z=P;break}z=z.return}P=z}Ir(f,p,T.children,x),p=p.child}return p;case 9:return T=p.type,E=p.pendingProps.children,ou(p,x),T=Bi(T),E=E(T),p.flags|=1,Ir(f,p,E,x),p.child;case 14:return E=p.type,T=ls(E,p.pendingProps),T=ls(E.type,T),IM(f,p,E,T,x);case 15:return LM(f,p,p.type,p.pendingProps,x);case 17:return E=p.type,T=p.pendingProps,T=p.elementType===E?T:ls(E,T),Cg(f,p),p.tag=1,Gr(E)?(f=!0,og(p)):f=!1,ou(p,x),AM(p,E,T),Nb(p,E,T,x),Mb(null,p,E,!0,f,x);case 19:return UM(f,p,x);case 22:return FM(f,p,x)}throw Error(n(156,p.tag))};function mP(f,p){return Bm(f,p)}function zG(f,p,x,E){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(f,p,x,E){return new zG(f,p,x,E)}function Xb(f){return f=f.prototype,!(!f||!f.isReactComponent)}function $G(f){if(typeof f=="function")return Xb(f)?1:0;if(f!=null){if(f=f.$$typeof,f===F)return 11;if(f===Y)return 14}return 2}function Fa(f,p){var x=f.alternate;return x===null?(x=Vi(f.tag,p,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=p,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,p=f.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function jg(f,p,x,E,T,P){var z=2;if(E=f,typeof f=="function")Xb(f)&&(z=1);else if(typeof f=="string")z=5;else e:switch(f){case M:return Yl(x.children,T,P,p);case R:z=8,T|=8;break;case D:return f=Vi(12,x,p,T|2),f.elementType=D,f.lanes=P,f;case W:return f=Vi(13,x,p,T),f.elementType=W,f.lanes=P,f;case I:return f=Vi(19,x,p,T),f.elementType=I,f.lanes=P,f;case G:return Ig(x,T,P,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case O:z=10;break e;case B:z=9;break e;case F:z=11;break e;case Y:z=14;break e;case V:z=16,E=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return p=Vi(z,x,p,T),p.elementType=f,p.type=E,p.lanes=P,p}function Yl(f,p,x,E){return f=Vi(7,f,E,p),f.lanes=x,f}function Ig(f,p,x,E){return f=Vi(22,f,E,p),f.elementType=G,f.lanes=x,f.stateNode={isHidden:!1},f}function Zb(f,p,x){return f=Vi(6,f,null,p),f.lanes=x,f}function Qb(f,p,x){return p=Vi(4,f.children!==null?f.children:[],f.key,p),p.lanes=x,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function VG(f,p,x,E,T){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ew(0),this.expirationTimes=Ew(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ew(0),this.identifierPrefix=E,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Jb(f,p,x,E,T,P,z,Q,te){return f=new VG(f,p,x,Q,te),p===1?(p=1,P===!0&&(p|=8)):p=0,P=Vi(3,null,null,p),f.current=P,P.stateNode=f,P.memoizedState={element:E,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},fb(P),f}function WG(f,p,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:E==null?null:""+E,children:f,containerInfo:p,implementation:x}}function gP(f){if(!f)return _a;f=f._reactInternals;e:{if(Ds(f)!==f||f.tag!==1)throw Error(n(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Gr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(f.tag===1){var x=f.type;if(Gr(x))return H_(f,x,p)}return p}function yP(f,p,x,E,T,P,z,Q,te){return f=Jb(x,E,!0,f,T,P,z,Q,te),f.context=gP(null),x=f.current,E=Lr(),T=Ia(x),P=Io(E,T),P.callback=p??null,Ra(x,P,T),f.current.lanes=T,rf(f,T,E),Zr(f,E),f}function Lg(f,p,x,E){var T=p.current,P=Lr(),z=Ia(T);return x=gP(x),p.context===null?p.context=x:p.pendingContext=x,p=Io(P,z),p.payload={element:f},E=E===void 0?null:E,E!==null&&(p.callback=E),f=Ra(T,p,z),f!==null&&(ds(f,T,z,P),pg(f,T,z)),z}function Fg(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function xP(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<p?x:p}}function e1(f,p){xP(f,p),(f=f.alternate)&&xP(f,p)}function HG(){return null}var vP=typeof reportError=="function"?reportError:function(f){console.error(f)};function t1(f){this._internalRoot=f}Bg.prototype.render=t1.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));Lg(f,p,null,null)},Bg.prototype.unmount=t1.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Hl(function(){Lg(null,f,null,null)}),p[Po]=null}};function Bg(f){this._internalRoot=f}Bg.prototype.unstable_scheduleHydration=function(f){if(f){var p=n_();f={blockedOn:null,target:f,priority:p};for(var x=0;x<Ca.length&&p!==0&&p<Ca[x].priority;x++);Ca.splice(x,0,f),x===0&&s_(f)}};function n1(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function zg(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function wP(){}function UG(f,p,x,E,T){if(T){if(typeof E=="function"){var P=E;E=function(){var de=Fg(z);P.call(de)}}var z=yP(p,E,f,0,null,!1,!1,"",wP);return f._reactRootContainer=z,f[Po]=z.current,xf(f.nodeType===8?f.parentNode:f),Hl(),z}for(;T=f.lastChild;)f.removeChild(T);if(typeof E=="function"){var Q=E;E=function(){var de=Fg(te);Q.call(de)}}var te=Jb(f,0,!1,null,null,!1,!1,"",wP);return f._reactRootContainer=te,f[Po]=te.current,xf(f.nodeType===8?f.parentNode:f),Hl(function(){Lg(p,te,x,E)}),te}function $g(f,p,x,E,T){var P=x._reactRootContainer;if(P){var z=P;if(typeof T=="function"){var Q=T;T=function(){var te=Fg(z);Q.call(te)}}Lg(p,z,f,T)}else z=UG(x,p,f,T,E);return Fg(z)}e_=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var x=jl(p.pendingLanes);x!==0&&(Nw(p,x|1),Zr(p,xn()),!(It&6)&&(du=xn()+500,Ma()))}break;case 13:Hl(function(){var E=jo(f,1);if(E!==null){var T=Lr();ds(E,f,1,T)}}),e1(f,1)}},Tw=function(f){if(f.tag===13){var p=jo(f,134217728);if(p!==null){var x=Lr();ds(p,f,134217728,x)}e1(f,134217728)}},t_=function(f){if(f.tag===13){var p=Ia(f),x=jo(f,p);if(x!==null){var E=Lr();ds(x,f,p,E)}e1(f,p)}},n_=function(){return Ht},r_=function(f,p){var x=Ht;try{return Ht=f,p()}finally{Ht=x}},St=function(f,p,x){switch(p){case"input":if(Dt(f,x),p=x.name,x.type==="radio"&&p!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<x.length;p++){var E=x[p];if(E!==f&&E.form===f.form){var T=ig(E);if(!T)throw Error(n(90));xe(E),Dt(E,T)}}}break;case"textarea":ze(f,x);break;case"select":p=x.value,p!=null&&ke(f,!!x.multiple,p,!1)}},jt=Yb,Wt=Hl;var qG={usingClientEntryPoint:!1,Events:[bf,Qc,ig,ss,tt,Yb]},jf={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YG={bundleType:jf.bundleType,version:jf.version,rendererPackageName:jf.rendererPackageName,rendererConfig:jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Lm(f),f===null?null:f.stateNode},findFiberByHostInstance:jf.findFiberByHostInstance||HG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{Vc=Vg.inject(YG),Ii=Vg}catch{}}return Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qG,Qr.createPortal=function(f,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(p))throw Error(n(200));return WG(f,p,null,x)},Qr.createRoot=function(f,p){if(!n1(f))throw Error(n(299));var x=!1,E="",T=vP;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(T=p.onRecoverableError)),p=Jb(f,1,!1,null,null,x,!1,E,T),f[Po]=p.current,xf(f.nodeType===8?f.parentNode:f),new t1(p)},Qr.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=Lm(p),f=f===null?null:f.stateNode,f},Qr.flushSync=function(f){return Hl(f)},Qr.hydrate=function(f,p,x){if(!zg(p))throw Error(n(200));return $g(null,f,p,!0,x)},Qr.hydrateRoot=function(f,p,x){if(!n1(f))throw Error(n(405));var E=x!=null&&x.hydratedSources||null,T=!1,P="",z=vP;if(x!=null&&(x.unstable_strictMode===!0&&(T=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onRecoverableError!==void 0&&(z=x.onRecoverableError)),p=yP(p,null,f,1,x??null,T,!1,P,z),f[Po]=p.current,xf(f),E)for(f=0;f<E.length;f++)x=E[f],T=x._getVersion,T=T(x._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[x,T]:p.mutableSourceEagerHydrationData.push(x,T);return new Bg(p)},Qr.render=function(f,p,x){if(!zg(p))throw Error(n(200));return $g(null,f,p,!1,x)},Qr.unmountComponentAtNode=function(f){if(!zg(f))throw Error(n(40));return f._reactRootContainer?(Hl(function(){$g(null,null,f,!1,function(){f._reactRootContainer=null,f[Po]=null})}),!0):!1},Qr.unstable_batchedUpdates=Yb,Qr.unstable_renderSubtreeIntoContainer=function(f,p,x,E){if(!zg(x))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return $g(f,p,x,!1,E)},Qr.version="18.3.1-next-f1338f8080-20240426",Qr}var AP;function xF(){if(AP)return s1.exports;AP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s1.exports=iK(),s1.exports}var _P;function sK(){if(_P)return Wg;_P=1;var t=xF();return Wg.createRoot=t.createRoot,Wg.hydrateRoot=t.hydrateRoot,Wg}var oK=sK(),Lf={},MP;function aK(){if(MP)return Lf;MP=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.parse=o,Lf.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,m){const y=new s,v=h.length;if(v<2)return y;const w=(m==null?void 0:m.decode)||u;let b=0;do{const k=h.indexOf("=",b);if(k===-1)break;const C=h.indexOf(";",b),N=C===-1?v:C;if(k>N){b=h.lastIndexOf(";",k-1)+1;continue}const _=a(h,b,k),A=l(h,k,_),M=h.slice(_,A);if(y[M]===void 0){let R=a(h,k+1,N),D=l(h,N,R);const O=w(h.slice(R,D));y[M]=O}b=N+1}while(b<v);return y}function a(h,m,y){do{const v=h.charCodeAt(m);if(v!==32&&v!==9)return m}while(++m<y);return y}function l(h,m,y){for(;m>y;){const v=h.charCodeAt(--m);if(v!==32&&v!==9)return m+1}return y}function c(h,m,y){const v=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const w=v(m);if(!e.test(w))throw new TypeError(`argument val is invalid: ${m}`);let b=h+"="+w;if(!y)return b;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);b+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);b+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);b+="; Path="+y.path}if(y.expires){if(!d(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);b+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(b+="; HttpOnly"),y.secure&&(b+="; Secure"),y.partitioned&&(b+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return b}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return i.call(h)==="[object Date]"}return Lf}aK();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PP="popstate";function lK(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return lC("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zh(i)}return uK(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cK(){return Math.random().toString(36).substring(2,10)}function RP(t,e){return{usr:t.state,key:t.key,idx:e}}function lC(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jd(e):e,state:n,key:e&&e.key||r||cK()}}function zh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function uK(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let w=u(),b=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:b})}function h(w,b){a="PUSH";let k=lC(v.location,w,b);c=u()+1;let C=RP(k,c),N=v.createHref(k);try{o.pushState(C,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(N)}s&&l&&l({action:a,location:v.location,delta:1})}function m(w,b){a="REPLACE";let k=lC(v.location,w,b);c=u();let C=RP(k,c),N=v.createHref(k);o.replaceState(C,"",N),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof w=="string"?w:zh(w);return k=k.replace(/ $/,"%20"),dn(b,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,b)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(PP,d),l=w,()=>{i.removeEventListener(PP,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(w){return o.go(w)}};return v}function vF(t,e,n="/"){return dK(t,e,n,!1)}function dK(t,e,n,r){let i=typeof e=="string"?jd(e):e,s=al(i.pathname||"/",n);if(s==null)return null;let o=wF(t);fK(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=kF(s);a=bK(o[l],c,r)}return a}function wF(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Zo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(dn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),wF(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vK(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bF(s.path))i(s,o,l)}),e}function bF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bF(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hK=/^:[\w-]+$/,pK=3,mK=2,gK=1,yK=10,xK=-2,OP=t=>t==="*";function vK(t,e){let n=t.split("/"),r=n.length;return n.some(OP)&&(r+=xK),e&&(r+=mK),n.filter(i=>!OP(i)).reduce((i,s)=>i+(hK.test(s)?pK:s===""?gK:yK),r)}function wK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bK(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=$h({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=$h({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Zo([s,d.pathname]),pathnameBase:NK(Zo([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Zo([s,d.pathnameBase]))}return o}function $h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return d&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function kK(t,e=!1,n=!0){ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ks(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SK(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jd(t):t;return{pathname:n?n.startsWith("/")?n:CK(n,e):e,search:TK(r),hash:AK(i)}}function CK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function l1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VN(t){let e=EK(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function WN(t,e,n,r=!1){let i;typeof t=="string"?i=jd(t):(i={...t},dn(!i.pathname||!i.pathname.includes("?"),l1("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),l1("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),l1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=SK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Zo=t=>t.join("/").replace(/\/\/+/g,"/"),NK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _K(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var SF=["POST","PUT","PATCH","DELETE"];new Set(SF);var MK=["GET",...SF];new Set(MK);var Id=S.createContext(null);Id.displayName="DataRouter";var Hx=S.createContext(null);Hx.displayName="DataRouterState";var CF=S.createContext({isTransitioning:!1});CF.displayName="ViewTransition";var PK=S.createContext(new Map);PK.displayName="Fetchers";var RK=S.createContext(null);RK.displayName="Await";var _s=S.createContext(null);_s.displayName="Navigation";var Yp=S.createContext(null);Yp.displayName="Location";var ts=S.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var HN=S.createContext(null);HN.displayName="RouteError";function OK(t,{relative:e}={}){dn(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(_s),{hash:i,pathname:s,search:o}=Gp(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Zo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Oc(){return S.useContext(Yp)!=null}function bo(){return dn(Oc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Yp).location}function wh(t){dn(Oc(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=bo();return S.useMemo(()=>$h(t,kF(e)),[e,t])}var EF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NF(t){S.useContext(_s).static||S.useLayoutEffect(t)}function ko(){let{isDataRoute:t}=S.useContext(ts);return t?GK():DK()}function DK(){dn(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Id),{basename:e,navigator:n}=S.useContext(_s),{matches:r}=S.useContext(ts),{pathname:i}=bo(),s=JSON.stringify(VN(r)),o=S.useRef(!1);return NF(()=>{o.current=!0}),S.useCallback((l,c={})=>{if(ks(o.current,EF),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=WN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Zo([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var jK=S.createContext(null);function IK(t){let e=S.useContext(ts).outlet;return e&&S.createElement(jK.Provider,{value:t},e)}function fa(){let{matches:t}=S.useContext(ts),e=t[t.length-1];return e?e.params:{}}function Gp(t,{relative:e}={}){let{matches:n}=S.useContext(ts),{pathname:r}=bo(),i=JSON.stringify(VN(n));return S.useMemo(()=>WN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function LK(t,e){return TF(t,e)}function TF(t,e,n,r){var k;dn(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=S.useContext(_s),{matches:o}=S.useContext(ts),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let C=d&&d.path||"";AF(c,!d||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let h=bo(),m;if(e){let C=typeof e=="string"?jd(e):e;dn(u==="/"||((k=C.pathname)==null?void 0:k.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${C.pathname}" was given in the \`location\` prop.`),m=C}else m=h;let y=m.pathname||"/",v=y;if(u!=="/"){let C=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:vF(t,{pathname:v});ks(d||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ks(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=VK(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Zo([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Zo([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&b?S.createElement(Yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function FK(){let t=YK(),e=_K(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,o)}var BK=S.createElement(FK,null),zK=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(ts.Provider,{value:this.props.routeContext},S.createElement(HN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $K({routeContext:t,match:e,children:n}){let r=S.useContext(Id);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ts.Provider,{value:t},n)}function VK(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);dn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,h=!1,m=null,y=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||BK,o&&(a<0&&u===0?(AF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):a===u&&(h=!0,y=c.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,u+1)),w=()=>{let b;return d?b=m:h?b=y:c.route.Component?b=S.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,S.createElement($K,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?S.createElement(zK,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function UN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WK(t){let e=S.useContext(Id);return dn(e,UN(t)),e}function HK(t){let e=S.useContext(Hx);return dn(e,UN(t)),e}function UK(t){let e=S.useContext(ts);return dn(e,UN(t)),e}function qN(t){let e=UK(t),n=e.matches[e.matches.length-1];return dn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qK(){return qN("useRouteId")}function YK(){var r;let t=S.useContext(HN),e=HK("useRouteError"),n=qN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function GK(){let{router:t}=WK("useNavigate"),e=qN("useNavigate"),n=S.useRef(!1);return NF(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{ks(n.current,EF),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var DP={};function AF(t,e,n){!e&&!DP[t]&&(DP[t]=!0,ks(!1,n))}S.memo(KK);function KK({routes:t,future:e,state:n}){return TF(t,void 0,n,e)}function c1({to:t,replace:e,state:n,relative:r}){dn(Oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(_s);ks(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(ts),{pathname:o}=bo(),a=ko(),l=WN(t,VN(s),o,r==="path"),c=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function u1(t){return IK(t.context)}function rr(t){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XK({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dn(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=jd(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,m=S.useMemo(()=>{let y=al(l,o);return y==null?null:{location:{pathname:y,search:c,hash:u,state:d,key:h},navigationType:r}},[o,l,c,u,d,h,r]);return ks(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:S.createElement(_s.Provider,{value:a},S.createElement(Yp.Provider,{children:e,value:m}))}function ZK({children:t,location:e}){return LK(cC(t),e)}function cC(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,cC(r.props.children,s));return}dn(r.type===rr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cC(r.props.children,s)),n.push(o)}),n}var Uy="get",qy="application/x-www-form-urlencoded";function Ux(t){return t!=null&&typeof t.tagName=="string"}function QK(t){return Ux(t)&&t.tagName.toLowerCase()==="button"}function JK(t){return Ux(t)&&t.tagName.toLowerCase()==="form"}function eX(t){return Ux(t)&&t.tagName.toLowerCase()==="input"}function tX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nX(t,e){return t.button===0&&(!e||e==="_self")&&!tX(t)}var Hg=null;function rX(){if(Hg===null)try{new FormData(document.createElement("form"),0),Hg=!1}catch{Hg=!0}return Hg}var iX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function d1(t){return t!=null&&!iX.has(t)?(ks(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qy}"`),null):t}function sX(t,e){let n,r,i,s,o;if(JK(t)){let a=t.getAttribute("action");r=a?al(a,e):null,n=t.getAttribute("method")||Uy,i=d1(t.getAttribute("enctype"))||qy,s=new FormData(t)}else if(QK(t)||eX(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?al(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Uy,i=d1(t.getAttribute("formenctype"))||d1(a.getAttribute("enctype"))||qy,s=new FormData(a,t),!rX()){let{name:c,type:u,value:d}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(Ux(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uy,r=null,i=qy,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function YN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oX(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aX(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lX(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await oX(s,n);return o.links?o.links():[]}return[]}));return fX(r.flat(1).filter(aX).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jP(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function cX(t,e,{includeHydrateFallback:n}={}){return uX(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function uX(t){return[...new Set(t)]}function dX(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fX(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(dX(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function hX(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pX(){let t=S.useContext(Id);return YN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mX(){let t=S.useContext(Hx);return YN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var GN=S.createContext(void 0);GN.displayName="FrameworkContext";function _F(){let t=S.useContext(GN);return YN(t,"You must render this element inside a <HydratedRouter> element"),t}function gX(t,e){let n=S.useContext(GN),[r,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(k=>{o(k.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[t]),S.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Ff(a,m),onBlur:Ff(l,y),onMouseEnter:Ff(c,m),onMouseLeave:Ff(u,y),onTouchStart:Ff(d,m)}]:[!1,h,{}]}function Ff(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yX({page:t,...e}){let{router:n}=pX(),r=S.useMemo(()=>vF(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(vX,{page:t,matches:r,...e}):null}function xX(t){let{manifest:e,routeModules:n}=_F(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return lX(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function vX({page:t,matches:e,...n}){let r=bo(),{manifest:i,routeModules:s}=_F(),{loaderData:o,matches:a}=mX(),l=S.useMemo(()=>jP(t,e,a,i,r,"data"),[t,e,a,i,r]),c=S.useMemo(()=>jP(t,e,a,i,r,"assets"),[t,e,a,i,r]),u=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(w=>{var k;let b=i.routes[w.route.id];!b||!b.hasLoader||(!l.some(C=>C.route.id===w.route.id)&&w.route.id in o&&((k=s[w.route.id])!=null&&k.shouldRevalidate)||b.hasClientLoader?y=!0:m.add(w.route.id))}),m.size===0)return[];let v=hX(t);return y&&m.size>0&&v.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[v.pathname+v.search]},[o,r,i,l,e,t,s]),d=S.useMemo(()=>cX(c,i),[c,i]),h=xX(c);return S.createElement(S.Fragment,null,u.map(m=>S.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),d.map(m=>S.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),h.map(({key:m,link:y})=>S.createElement("link",{key:m,...y})))}function wX(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MF&&(window.__reactRouterVersion="7.2.0")}catch{}function bX({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=lK({window:n,v5Compat:!0}));let i=r.current,[s,o]=S.useState({action:i.action,location:i.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(XK,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var PF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kp=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},m){let{basename:y}=S.useContext(_s),v=typeof c=="string"&&PF.test(c),w,b=!1;if(typeof c=="string"&&v&&(w=c,MF))try{let D=new URL(window.location.href),O=c.startsWith("//")?new URL(D.protocol+c):new URL(c),B=al(O.pathname,y);O.origin===D.origin&&B!=null?c=B+O.search+O.hash:b=!0}catch{ks(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=OK(c,{relative:i}),[C,N,_]=gX(r,h),A=EX(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function M(D){e&&e(D),D.defaultPrevented||A(D)}let R=S.createElement("a",{...h,..._,href:w||k,onClick:b||s?e:M,ref:wX(m,N),target:l,"data-discover":!v&&n==="render"?"true":void 0});return C&&!v?S.createElement(S.Fragment,null,R,S.createElement(yX,{page:k})):R});Kp.displayName="Link";var kX=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=Gp(o,{relative:c.relative}),h=bo(),m=S.useContext(Hx),{navigator:y,basename:v}=S.useContext(_s),w=m!=null&&MX(d)&&a===!0,b=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,k=h.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(k=k.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&v&&(C=al(C,v)||C);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=k===b||!i&&k.startsWith(b)&&k.charAt(N)==="/",A=C!=null&&(C===b||!i&&C.startsWith(b)&&C.charAt(b.length)==="/"),M={isActive:_,isPending:A,isTransitioning:w},R=_?e:void 0,D;typeof r=="function"?D=r(M):D=[r,_?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(M):s;return S.createElement(Kp,{...c,"aria-current":R,className:D,ref:u,style:O,to:o,viewTransition:a},typeof l=="function"?l(M):l)});kX.displayName="NavLink";var SX=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Uy,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},m)=>{let y=AX(),v=_X(a,{relative:c}),w=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&PF.test(a),k=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let N=C.nativeEvent.submitter,_=(N==null?void 0:N.getAttribute("formmethod"))||o;y(N||C.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return S.createElement("form",{ref:m,method:w,action:v,onSubmit:r?l:k,...h,"data-discover":!b&&t==="render"?"true":void 0})});SX.displayName="Form";function CX(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RF(t){let e=S.useContext(Id);return dn(e,CX(t)),e}function EX(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=ko(),l=bo(),c=Gp(t,{relative:s});return S.useCallback(u=>{if(nX(u,e)){u.preventDefault();let d=n!==void 0?n:zh(l)===zh(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var NX=0,TX=()=>`__${String(++NX)}__`;function AX(){let{router:t}=RF("useSubmit"),{basename:e}=S.useContext(_s),n=qK();return S.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=sX(r,e);if(i.navigate===!1){let u=i.fetcherKey||TX();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function _X(t,{relative:e}={}){let{basename:n}=S.useContext(_s),r=S.useContext(ts);dn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Gp(t||".",{relative:e})},o=bo();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Zo([n,s.pathname])),zh(s)}function MX(t,e={}){let n=S.useContext(CF);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RF("useViewTransitionState"),i=Gp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=al(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=al(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $h(i.pathname,o)!=null||$h(i.pathname,s)!=null}new TextEncoder;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...RX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:OF("lucide",i),...a},[...o.map(([c,u])=>S.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(OX,{ref:s,iconNode:e,className:OF(`lucide-${PX(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=Ot("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=Ot("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=Ot("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=Ot("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=Ot("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Ot("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Ot("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=Ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=Ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=Ot("Clock1",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 14.5 8",key:"12zbmj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Ot("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=Ot("DraftingCompass",[["path",{d:"m12.99 6.74 1.93 3.44",key:"iwagvd"}],["path",{d:"M19.136 12a10 10 0 0 1-14.271 0",key:"ppmlo4"}],["path",{d:"m21 21-2.16-3.84",key:"vylbct"}],["path",{d:"m3 21 8.02-14.26",key:"1ssaw4"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=Ot("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=Ot("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=Ot("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=Ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=Ot("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Ot("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=Ot("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Ot("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=Ot("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=Ot("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=Ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=Ot("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=Ot("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Ot("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function FF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FF(t))&&(r&&(r+=" "),r+=e);return r}var Ld=xF();const BF=Od(Ld);var JX=t=>{switch(t){case"success":return nZ;case"info":return iZ;case"warning":return rZ;case"error":return sZ;default:return null}},eZ=Array(12).fill(0),tZ=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},eZ.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nZ=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rZ=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iZ=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sZ=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oZ=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aZ=()=>{let[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},hC=1,lZ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:hC++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async l=>{if(s=["resolve",l],ne.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(uZ(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||hC++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ti=new lZ,cZ=(t,e)=>{let n=(e==null?void 0:e.id)||hC++;return ti.addToast({title:t,...e,id:n}),n},uZ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dZ=cZ,fZ=()=>ti.toasts,hZ=()=>ti.getActiveToasts(),gn=Object.assign(dZ,{success:ti.success,info:ti.info,warning:ti.warning,error:ti.error,custom:ti.custom,message:ti.message,promise:ti.promise,dismiss:ti.dismiss,loading:ti.loading},{getHistory:fZ,getToasts:hZ});function pZ(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}pZ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ug(t){return t.label!==void 0}var mZ=3,gZ="32px",yZ="16px",IP=4e3,xZ=356,vZ=14,wZ=20,bZ=200;function fs(...t){return t.filter(Boolean).join(" ")}function kZ(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var SZ=t=>{var e,n,r,i,s,o,a,l,c,u,d;let{invert:h,toast:m,unstyled:y,interacting:v,setHeights:w,visibleToasts:b,heights:k,index:C,toasts:N,expanded:_,removeToast:A,defaultRichColors:M,closeButton:R,style:D,cancelButtonStyle:O,actionButtonStyle:B,className:F="",descriptionClassName:W="",duration:I,position:Y,gap:V,loadingIcon:G,expandByDefault:H,classNames:$,icons:L,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:U}=t,[j,K]=ne.useState(null),[X,J]=ne.useState(null),[Z,oe]=ne.useState(!1),[fe,me]=ne.useState(!1),[Te,xe]=ne.useState(!1),[be,Pe]=ne.useState(!1),[Ze,Qe]=ne.useState(!1),[Dt,ee]=ne.useState(0),[se,ce]=ne.useState(0),ke=ne.useRef(m.duration||I||IP),Ce=ne.useRef(null),ye=ne.useRef(null),ze=C===0,$e=C+1<=b,ae=m.type,he=m.dismissible!==!1,We=m.className||"",et=m.descriptionClassName||"",ft=ne.useMemo(()=>k.findIndex(tt=>tt.toastId===m.id)||0,[k,m.id]),qt=ne.useMemo(()=>{var tt;return(tt=m.closeButton)!=null?tt:R},[m.closeButton,R]),st=ne.useMemo(()=>m.duration||I||IP,[m.duration,I]),mt=ne.useRef(0),ht=ne.useRef(0),hn=ne.useRef(0),Ct=ne.useRef(null),[Hn,_t]=Y.split("-"),Un=ne.useMemo(()=>k.reduce((tt,jt,Wt)=>Wt>=ft?tt:tt+jt.height,0),[k,ft]),St=aZ(),Di=m.invert||h,qr=ae==="loading";ht.current=ne.useMemo(()=>ft*V+Un,[ft,Un]),ne.useEffect(()=>{ke.current=st},[st]),ne.useEffect(()=>{oe(!0)},[]),ne.useEffect(()=>{let tt=ye.current;if(tt){let jt=tt.getBoundingClientRect().height;return ce(jt),w(Wt=>[{toastId:m.id,height:jt,position:m.position},...Wt]),()=>w(Wt=>Wt.filter(lr=>lr.toastId!==m.id))}},[w,m.id]),ne.useLayoutEffect(()=>{if(!Z)return;let tt=ye.current,jt=tt.style.height;tt.style.height="auto";let Wt=tt.getBoundingClientRect().height;tt.style.height=jt,ce(Wt),w(lr=>lr.find(yr=>yr.toastId===m.id)?lr.map(yr=>yr.toastId===m.id?{...yr,height:Wt}:yr):[{toastId:m.id,height:Wt,position:m.position},...lr])},[Z,m.title,m.description,w,m.id]);let jr=ne.useCallback(()=>{me(!0),ee(ht.current),w(tt=>tt.filter(jt=>jt.toastId!==m.id)),setTimeout(()=>{A(m)},bZ)},[m,A,w,ht]);ne.useEffect(()=>{if(m.promise&&ae==="loading"||m.duration===1/0||m.type==="loading")return;let tt;return _||v||U&&St?(()=>{if(hn.current<mt.current){let jt=new Date().getTime()-mt.current;ke.current=ke.current-jt}hn.current=new Date().getTime()})():ke.current!==1/0&&(mt.current=new Date().getTime(),tt=setTimeout(()=>{var jt;(jt=m.onAutoClose)==null||jt.call(m,m),jr()},ke.current)),()=>clearTimeout(tt)},[_,v,m,ae,U,St,jr]),ne.useEffect(()=>{m.delete&&jr()},[jr,m.delete]);function ss(){var tt,jt,Wt;return L!=null&&L.loading?ne.createElement("div",{className:fs($==null?void 0:$.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":ae==="loading"},L.loading):G?ne.createElement("div",{className:fs($==null?void 0:$.loader,(jt=m==null?void 0:m.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":ae==="loading"},G):ne.createElement(tZ,{className:fs($==null?void 0:$.loader,(Wt=m==null?void 0:m.classNames)==null?void 0:Wt.loader),visible:ae==="loading"})}return ne.createElement("li",{tabIndex:0,ref:ye,className:fs(F,We,$==null?void 0:$.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[ae],(n=m==null?void 0:m.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:M,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":Z,"data-promise":!!m.promise,"data-swiped":Ze,"data-removed":fe,"data-visible":$e,"data-y-position":Hn,"data-x-position":_t,"data-index":C,"data-front":ze,"data-swiping":Te,"data-dismissible":he,"data-type":ae,"data-invert":Di,"data-swipe-out":be,"data-swipe-direction":X,"data-expanded":!!(_||H&&Z),style:{"--index":C,"--toasts-before":C,"--z-index":N.length-C,"--offset":`${fe?Dt:ht.current}px`,"--initial-height":H?"auto":`${se}px`,...D,...m.style},onDragEnd:()=>{xe(!1),K(null),Ct.current=null},onPointerDown:tt=>{qr||!he||(Ce.current=new Date,ee(ht.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(xe(!0),Ct.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,jt,Wt,lr;if(be||!he)return;Ct.current=null;let yr=Number(((tt=ye.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xr=Number(((jt=ye.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),di=new Date().getTime()-((Wt=Ce.current)==null?void 0:Wt.getTime()),qn=j==="x"?yr:xr,ji=Math.abs(qn)/di;if(Math.abs(qn)>=wZ||ji>.11){ee(ht.current),(lr=m.onDismiss)==null||lr.call(m,m),J(j==="x"?yr>0?"right":"left":xr>0?"down":"up"),jr(),Pe(!0),Qe(!1);return}xe(!1),K(null)},onPointerMove:tt=>{var jt,Wt,lr,yr;if(!Ct.current||!he||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let xr=tt.clientY-Ct.current.y,di=tt.clientX-Ct.current.x,qn=(Wt=t.swipeDirections)!=null?Wt:kZ(Y);!j&&(Math.abs(di)>1||Math.abs(xr)>1)&&K(Math.abs(di)>Math.abs(xr)?"x":"y");let ji={x:0,y:0};j==="y"?(qn.includes("top")||qn.includes("bottom"))&&(qn.includes("top")&&xr<0||qn.includes("bottom")&&xr>0)&&(ji.y=xr):j==="x"&&(qn.includes("left")||qn.includes("right"))&&(qn.includes("left")&&di<0||qn.includes("right")&&di>0)&&(ji.x=di),(Math.abs(ji.x)>0||Math.abs(ji.y)>0)&&Qe(!0),(lr=ye.current)==null||lr.style.setProperty("--swipe-amount-x",`${ji.x}px`),(yr=ye.current)==null||yr.style.setProperty("--swipe-amount-y",`${ji.y}px`)}},qt&&!m.jsx?ne.createElement("button",{"aria-label":q,"data-disabled":qr,"data-close-button":!0,onClick:qr||!he?()=>{}:()=>{var tt;jr(),(tt=m.onDismiss)==null||tt.call(m,m)},className:fs($==null?void 0:$.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=L==null?void 0:L.close)!=null?s:oZ):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ne.createElement(ne.Fragment,null,ae||m.icon||m.promise?ne.createElement("div",{"data-icon":"",className:fs($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ss():null,m.type!=="loading"?m.icon||(L==null?void 0:L[ae])||JX(ae):null):null,ne.createElement("div",{"data-content":"",className:fs($==null?void 0:$.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:fs($==null?void 0:$.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?ne.createElement("div",{"data-description":"",className:fs(W,et,$==null?void 0:$.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&Ug(m.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:tt=>{var jt,Wt;Ug(m.cancel)&&he&&((Wt=(jt=m.cancel).onClick)==null||Wt.call(jt,tt),jr())},className:fs($==null?void 0:$.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&Ug(m.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||B,onClick:tt=>{var jt,Wt;Ug(m.action)&&((Wt=(jt=m.action).onClick)==null||Wt.call(jt,tt),!tt.defaultPrevented&&jr())},className:fs($==null?void 0:$.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function LP(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function CZ(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?yZ:gZ;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var EZ=S.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:y=mZ,toastOptions:v,dir:w=LP(),gap:b=vZ,loadingIcon:k,icons:C,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:_}=t,[A,M]=ne.useState([]),R=ne.useMemo(()=>Array.from(new Set([r].concat(A.filter(U=>U.position).map(U=>U.position)))),[A,r]),[D,O]=ne.useState([]),[B,F]=ne.useState(!1),[W,I]=ne.useState(!1),[Y,V]=ne.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=ne.useRef(null),H=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=ne.useRef(null),L=ne.useRef(!1),q=ne.useCallback(U=>{M(j=>{var K;return(K=j.find(X=>X.id===U.id))!=null&&K.delete||ti.dismiss(U.id),j.filter(({id:X})=>X!==U.id)})},[]);return ne.useEffect(()=>ti.subscribe(U=>{if(U.dismiss){M(j=>j.map(K=>K.id===U.id?{...K,delete:!0}:K));return}setTimeout(()=>{BF.flushSync(()=>{M(j=>{let K=j.findIndex(X=>X.id===U.id);return K!==-1?[...j.slice(0,K),{...j[K],...U},...j.slice(K+1)]:[U,...j]})})})}),[]),ne.useEffect(()=>{if(u!=="system"){V(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:j})=>{V(j?"dark":"light")})}catch{U.addListener(({matches:K})=>{try{V(K?"dark":"light")}catch(X){console.error(X)}})}},[u]),ne.useEffect(()=>{A.length<=1&&F(!1)},[A]),ne.useEffect(()=>{let U=j=>{var K,X;i.every(J=>j[J]||j.code===J)&&(F(!0),(K=G.current)==null||K.focus()),j.code==="Escape"&&(document.activeElement===G.current||(X=G.current)!=null&&X.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),ne.useEffect(()=>{if(G.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,L.current=!1)}},[G.current]),ne.createElement("section",{ref:e,"aria-label":`${N} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((U,j)=>{var K;let[X,J]=U.split("-");return A.length?ne.createElement("ol",{key:U,dir:w==="auto"?LP():w,tabIndex:-1,ref:G,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":X,"data-lifted":B&&A.length>1&&!s,"data-x-position":J,style:{"--front-toast-height":`${((K=D[0])==null?void 0:K.height)||0}px`,"--width":`${xZ}px`,"--gap":`${b}px`,...m,...CZ(l,c)},onBlur:Z=>{L.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(L.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||L.current||(L.current=!0,$.current=Z.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{W||F(!1)},onDragEnd:()=>F(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},A.filter(Z=>!Z.position&&j===0||Z.position===U).map((Z,oe)=>{var fe,me;return ne.createElement(SZ,{key:Z.id,icons:C,index:oe,toast:Z,defaultRichColors:d,duration:(fe=v==null?void 0:v.duration)!=null?fe:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:y,closeButton:(me=v==null?void 0:v.closeButton)!=null?me:o,interacting:W,position:U,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:q,toasts:A.filter(Te=>Te.position==Z.position),heights:D.filter(Te=>Te.position==Z.position),setHeights:O,expandByDefault:s,gap:b,loadingIcon:k,expanded:B,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const XN="-",NZ=t=>{const e=AZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(XN);return a[0]===""&&a.length!==1&&a.shift(),zF(a,e)||TZ(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},zF=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?zF(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(XN);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},FP=/^\[(.+)\]$/,TZ=t=>{if(FP.test(t)){const e=FP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},AZ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return MZ(Object.entries(t.classGroups),n).forEach(([s,o])=>{pC(o,r,s,e)}),r},pC=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:BP(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(_Z(i)){pC(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{pC(o,BP(e,s),n,r)})})},BP=(t,e)=>{let n=t;return e.split(XN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_Z=t=>t.isThemeGetter,MZ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,PZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},$F="!",RZ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let w=0;w<a.length;w++){let b=a[w];if(c===0){if(b===i&&(r||a.slice(w,w+s)===e)){l.push(a.slice(u,w)),u=w+s;continue}if(b==="/"){d=w;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(u),m=h.startsWith($F),y=m?h.substring(1):h,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},OZ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},DZ=t=>({cache:PZ(t.cacheSize),parseClassName:RZ(t),...NZ(t)}),jZ=/\s+/,IZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(jZ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let y=!!m,v=r(y?h.substring(0,m):h);if(!v){if(!y){a=c+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=c+(a.length>0?" "+a:a);continue}y=!1}const w=OZ(u).join(":"),b=d?w+$F:w,k=b+v;if(s.includes(k))continue;s.push(k);const C=i(v,y);for(let N=0;N<C.length;++N){const _=C[N];s.push(b+_)}a=c+(a.length>0?" "+a:a)}return a};function LZ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VF(e))&&(r&&(r+=" "),r+=n);return r}const VF=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VF(t[r]))&&(n&&(n+=" "),n+=e);return n};function FZ(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=DZ(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=IZ(l,n);return i(l,u),u}return function(){return s(LZ.apply(null,arguments))}}const on=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},WF=/^\[(?:([a-z-]+):)?(.+)\]$/i,BZ=/^\d+\/\d+$/,zZ=new Set(["px","full","screen"]),$Z=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=t=>Bu(t)||zZ.has(t)||BZ.test(t),za=t=>Fd(t,"length",JZ),Bu=t=>!!t&&!Number.isNaN(Number(t)),h1=t=>Fd(t,"number",Bu),Bf=t=>!!t&&Number.isInteger(Number(t)),qZ=t=>t.endsWith("%")&&Bu(t.slice(0,-1)),wt=t=>WF.test(t),$a=t=>$Z.test(t),YZ=new Set(["length","size","percentage"]),GZ=t=>Fd(t,YZ,HF),KZ=t=>Fd(t,"position",HF),XZ=new Set(["image","url"]),ZZ=t=>Fd(t,XZ,tQ),QZ=t=>Fd(t,"",eQ),zf=()=>!0,Fd=(t,e,n)=>{const r=WF.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},JZ=t=>VZ.test(t)&&!WZ.test(t),HF=()=>!1,eQ=t=>HZ.test(t),tQ=t=>UZ.test(t),nQ=()=>{const t=on("colors"),e=on("spacing"),n=on("blur"),r=on("brightness"),i=on("borderColor"),s=on("borderRadius"),o=on("borderSpacing"),a=on("borderWidth"),l=on("contrast"),c=on("grayscale"),u=on("hueRotate"),d=on("invert"),h=on("gap"),m=on("gradientColorStops"),y=on("gradientColorStopPositions"),v=on("inset"),w=on("margin"),b=on("opacity"),k=on("padding"),C=on("saturate"),N=on("scale"),_=on("sepia"),A=on("skew"),M=on("space"),R=on("translate"),D=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",wt,e],F=()=>[wt,e],W=()=>["",Bo,za],I=()=>["auto",Bu,wt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",wt],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Bu,wt];return{cacheSize:500,separator:":",theme:{colors:[zf],spacing:[Bo,za],blur:["none","",$a,wt],brightness:q(),borderColor:[t],borderRadius:["none","","full",$a,wt],borderSpacing:F(),borderWidth:W(),contrast:q(),grayscale:$(),hueRotate:q(),invert:$(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[qZ,za],inset:B(),margin:B(),opacity:q(),padding:F(),saturate:q(),scale:q(),sepia:$(),skew:q(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[$a]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),wt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bf,wt]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Bf,wt]}],"grid-cols":[{"grid-cols":[zf]}],"col-start-end":[{col:["auto",{span:["full",Bf,wt]},wt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[zf]}],"row-start-end":[{row:["auto",{span:[Bf,wt]},wt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,e]}],"min-w":[{"min-w":[wt,e,"min","max","fit"]}],"max-w":[{"max-w":[wt,e,"none","full","min","max","fit","prose",{screen:[$a]},$a]}],h:[{h:[wt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$a,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",h1]}],"font-family":[{font:[zf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Bu,h1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bo,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bo,za]}],"underline-offset":[{"underline-offset":["auto",Bo,wt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),KZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Bo,wt]}],"outline-w":[{outline:[Bo,za]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Bo,za]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$a,QZ]}],"shadow-color":[{shadow:[zf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$a,wt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[C]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Bf,wt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bo,za,h1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rQ=FZ(nQ);function ve(...t){return rQ(qx(t))}const ZN=async(t,e)=>{var r;const n=await fetch(t);if(!n.ok){const i=new Error("An error occurred while fetching the data.");throw i.info=await n.json(),i.status=n.status,e||gn.error(((r=i==null?void 0:i.info)==null?void 0:r.error)||(i==null?void 0:i.message)),i}return n.json()},iQ=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[g.jsx("circle",{cx:"18.0002",cy:"18.0002",r:"15.2365",stroke:"currentColor",strokeWidth:"1.25409"}),g.jsx("ellipse",{cx:"18.0008",cy:"18",rx:"15.2365",ry:"10.2193",transform:"rotate(45 18.0008 18)",stroke:"currentColor",strokeWidth:"1.25409"}),g.jsx("path",{d:"M11.7793 18.0547H24.3007",stroke:"currentColor",strokeWidth:"1.25409"}),g.jsx("path",{d:"M14.8574 21.2354L21.2192 14.8736",stroke:"currentColor",strokeWidth:"1.25409"}),g.jsx("path",{d:"M21.2207 21.2354L14.8589 14.8736",stroke:"currentColor",strokeWidth:"1.25409"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.57571 11.2943C4.93105 13.0681 3.39081 15.4508 3.39081 17.9997C3.39081 20.5486 4.93105 22.9313 7.57571 24.7051C10.2163 26.4762 13.9001 27.592 18.0003 27.592C22.1004 27.592 25.7842 26.4762 28.4248 24.7051C31.0695 22.9313 32.6097 20.5486 32.6097 17.9997C32.6097 15.4508 31.0695 13.0681 28.4248 11.2943C25.7842 9.5232 22.1004 8.40741 18.0003 8.40741C13.9001 8.40741 10.2163 9.5232 7.57571 11.2943ZM6.87715 10.2528C9.75106 8.32521 13.6855 7.15332 18.0003 7.15332C22.315 7.15332 26.2495 8.32521 29.1234 10.2528C31.9932 12.1776 33.8638 14.9046 33.8638 17.9997C33.8638 21.0948 31.9932 23.8218 29.1234 25.7466C26.2495 27.6742 22.315 28.8461 18.0003 28.8461C13.6855 28.8461 9.75106 27.6742 6.87715 25.7466C4.00728 23.8218 2.13672 21.0948 2.13672 17.9997C2.13672 14.9046 4.00728 12.1776 6.87715 10.2528Z",fill:"currentColor"})]}),sQ=[{name:"Agents",url:"/agents",icon:DF},{name:"Tools",url:"/tools",icon:$X},{name:"Workflows",url:"/workflows",icon:fC}],oQ=()=>{const{pathname:t}=bo();return g.jsx("div",{className:"relative z-20 h-full text-mastra-el-6",children:g.jsxs("div",{className:"bg-mastra-bg-1 h-full w-full p-4 flex gap-6 flex-col",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex gap-2 px-2 items-center",children:[g.jsx(iQ,{}),g.jsx("p",{className:"text-medium text-sm  gradient py-[0.38rem] font-tasa",children:"Mastra Playground"})]})}),g.jsx("div",{children:g.jsx("div",{className:"flex flex-col gap-0.5",children:sQ.map(e=>{const[n,r]=t.split("/"),i=e.name.toLowerCase(),s=e.url===t||e.name===t||r===i;return g.jsxs(Kp,{to:e.url,className:ve("flex cursor-pointer w-full px-2 items-center focus-visible:outline-none transition-colors focus-visible:ring-1 focus-visible:ring-mastra-border-4 gap-3 rounded-xs group text-small hover:bg-mastra-el-6/5",s?"bg-mastra-el-6/5":""),children:[g.jsx(e.icon,{className:ve("w-[0.875rem] h-[0.875rem] text-mastra-el-3 group-hover:text-mastra-el-6",s?"text-mastra-el-6":"")}),g.jsx("p",{className:ve("py-[0.38rem] text-mastra-el-6/60 group-hover:text-mastra-el-6 transition-all  capitalize ",s?"text-mastra-el-6":""),children:e.name})]})})})}),g.jsxs("div",{className:"flex mt-auto gap-2 items-center justify-center",children:[g.jsx("a",{href:"https://mastra.ai",target:"_blank",rel:"noopener",className:"text-sm text-gray-300/60 hover:text-gray-100",children:"Mastra.AI"}),g.jsx("div",{className:"w-1 h-1 bg-gray-300/60 rounded-full"}),g.jsx("a",{href:"https://mastra.ai/docs",target:"_blank",rel:"noopener",className:"text-sm text-gray-300/60 hover:text-gray-100",children:"Docs"}),g.jsx("div",{className:"w-1 h-1 bg-gray-300/60 rounded-full"}),g.jsx("a",{href:"https://github.com/mastra-ai/mastra",target:"_blank",rel:"noopener",className:"text-sm text-gray-300/60 hover:text-gray-100",children:"GitHub"})]})]})})};var aQ=(t,e,n,r,i,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function u(m){(Array.isArray(t)?t:[t]).forEach(y=>{let v=y==="class",w=v&&s?i.map(b=>s[b]||b):i;v?(l.classList.remove(...w),l.classList.add(m)):l.setAttribute(y,m)}),d(m)}function d(m){a&&c.includes(m)&&(l.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let m=localStorage.getItem(e)||n,y=o&&m==="system"?h():m;u(y)}catch{}},lQ=S.createContext(void 0),cQ={setTheme:t=>{},themes:[]},uQ=()=>{var t;return(t=S.useContext(lQ))!=null?t:cQ};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,e,s,t,a,o,r,i]).slice(1,-1);return S.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${aQ.toString()})(${u})`}})});const dQ=({...t})=>{const{theme:e="system"}=uQ();return g.jsx(EZ,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},fQ=S.createContext({theme:"system",setTheme:()=>null});function hQ({children:t,defaultTheme:e="system"}){const[n,r]=S.useState(e);return S.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),n==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(s);return}i.classList.add(n)},[n]),g.jsx(fQ.Provider,{value:{theme:n,setTheme:r},children:t})}const pQ=({children:t})=>g.jsxs(hQ,{defaultTheme:"dark",attribute:"class",children:[g.jsx(dQ,{position:"bottom-right"}),g.jsxs("main",{className:"bg-mastra-bg-1 grid h-full w-full grid-cols-[15rem_minmax(0,_1fr)] overflow-clip",children:[g.jsx("div",{className:"z-20 h-full",children:g.jsx("div",{className:"h-full",children:g.jsx(oQ,{})})}),g.jsx("div",{className:"bg-mastra-bg-2 grid h-[calc(100vh-1rem)] relative border-mastra-border-1 rounded-xs border-thin m-2 overflow-hidden border-solid",children:t})]})]}),Ei=({title:t,rightElement:e,children:n})=>g.jsx("header",{className:"sticky top-0 z-50",children:g.jsx("div",{className:"flex h-[var(--top-bar-height)] w-full content-center items-center justify-between border-b-[0.1px] border-mastra-border-1 px-[1.31rem]",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h1",{className:"font-medium text-sm font-mono",children:t}),n,g.jsx("div",{className:"ml-auto",children:e})]})})});function Ue({className:t,...e}){return g.jsx("div",{className:ve("animate-pulse rounded-md bg-muted",t),...e})}const UF=()=>{const[t,e]=S.useState({}),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{r(!0);try{const s=await fetch("/api/agents");if(!s.ok){const a=await s.json();e({}),console.error("Error fetching agents",a),gn.error((a==null?void 0:a.error)||"Error fetching agents");return}const o=await s.json();e(o)}catch(s){e({}),console.error("Error fetching agents",s),gn.error("Error fetching agents")}finally{r(!1)}})()},[]),{agents:t,isLoading:n}},Dc=t=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0);return S.useEffect(()=>{(async()=>{i(!0);try{if(!t){n(null),i(!1);return}const o=await fetch(`/api/agents/${t}`);if(!o.ok){const l=await o.json();n(null),console.error("Error fetching agent",l),gn.error((l==null?void 0:l.error)||"Error fetching agent");return}const a=await o.json();n(a)}catch(o){n(null),console.error("Error fetching agent",o),gn.error("Error fetching agent")}finally{i(!1)}})()},[t]),{agent:e,isLoading:r}};function zP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yx(...t){return e=>{let n=!1;const r=t.map(i=>{const s=zP(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():zP(t[i],null)}}}}function kt(...t){return S.useCallback(Yx(...t),t)}var uo=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),s=i.find(mQ);if(s){const o=s.props.children,a=i.map(l=>l===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return g.jsx(mC,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return g.jsx(mC,{...r,ref:e,children:n})});uo.displayName="Slot";var mC=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=yQ(n),s=gQ(r,n.props);return n.type!==S.Fragment&&(s.ref=e?Yx(e,i):i),S.cloneElement(n,s)}return S.Children.count(n)>1?S.Children.only(null):null});mC.displayName="SlotClone";var QN=({children:t})=>g.jsx(g.Fragment,{children:t});function mQ(t){return S.isValidElement(t)&&t.type===QN}function gQ(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function yQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const qF=S.forwardRef(({...t},e)=>g.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));qF.displayName="Breadcrumb";const YF=S.forwardRef(({className:t,...e},n)=>g.jsx("ol",{ref:n,className:ve("text-mastra-el-6 flex items-center gap-2 break-words text-[calc(13_/_16_*_1rem)] font-medium",t),...e}));YF.displayName="BreadcrumbList";const GF=S.forwardRef(({className:t,...e},n)=>g.jsx("li",{ref:n,className:ve("inline-flex items-center gap-1.5",t),...e}));GF.displayName="BreadcrumbItem";const KF=S.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?uo:"a";return g.jsx(i,{ref:r,className:ve("hover:text-text transition-colors",e),...n})});KF.displayName="BreadcrumbLink";const XF=S.forwardRef(({className:t,...e},n)=>g.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:ve("text-mastra-el-5 text-sm font-medium",t),...e}));XF.displayName="BreadcrumbPage";const ZF=({children:t,className:e,...n})=>g.jsx("li",{role:"presentation","aria-hidden":"true",className:ve(e),...n,children:t??g.jsx(Wh,{className:"text-mastra-el-3 !h-[0.625rem] !w-[0.625rem] -rotate-90"})});ZF.displayName="BreadcrumbSeparator";function Gx({items:t,pageClassName:e,icon:n}){return g.jsxs("div",{className:"flex items-center gap-4",children:[n,g.jsx(qF,{children:g.jsx(YF,{children:t.map((r,i)=>g.jsxs("span",{className:"flex flex-nowrap items-center gap-2",children:[g.jsx(GF,{children:r.isCurrent?g.jsx(XF,{className:e,children:r.label}):g.jsx(KF,{asChild:!0,children:g.jsx(Kp,{to:r.href,className:"text-mastra-el-3",children:r.label})})},r.href),i<t.length-1&&g.jsx(ZF,{})]},i))})})]})}const $P=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VP=qx,Bd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return VP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=$P(u)||$P(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...s,...a}[v]):{...s,...a}[v]===w})?[...c,d,h]:c},[]);return VP(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},zu=Bd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-mastra-bg-7 border-[0.5px] border-mastra-border-4 text-white hover:bg-mastra-bg-7/70",primary:"border-[0.5px] border-mastra-border-1 bg-mastra-bg-4 hover:bg-mastra-bg-2/80 text-kp-el-6",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",slim:"h-6 pl-[0.38rem] pr-[0.44rem] text-xs [&_svg]:size-3",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pt=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?uo:"button";return g.jsx(o,{className:ve(zu({variant:e,size:n,className:t})),ref:s,...i})});pt.displayName="Button";function xQ({agentName:t,agentId:e}){const n=wh(`/agents/${e}/evals`),r=wh(`/agents/${e}/chat`),i=wh(`/agents/${e}/traces`),s=ko(),o=[{label:"Agents",href:"/agents"},{label:t,href:`/agents/${e}`,isCurrent:!0}];return g.jsxs(Ei,{title:g.jsx(Gx,{items:o}),children:[g.jsx(pt,{variant:r?"primary":"outline",size:"slim",onClick:()=>s(`/agents/${e}/chat`),children:"Chat"}),g.jsx(pt,{variant:i?"primary":"outline",size:"slim",onClick:()=>s(`/agents/${e}/traces`),children:"Traces"}),g.jsx(pt,{variant:n?"primary":"outline",size:"slim",onClick:()=>s(`/agents/${e}/evals`),children:"Evals"})]})}const vQ=({children:t})=>{const{agentId:e}=fa(),{agent:n,isLoading:r}=Dc(e);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[r?g.jsx(Ei,{title:g.jsx(Ue,{className:"h-6 w-[200px]"})}):g.jsx(xQ,{agentName:n==null?void 0:n.name,agentId:e}),t]})},wQ=()=>{const[t,e]=S.useState({}),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{r(!0);try{const s=await fetch("/api/workflows");if(!s.ok){const a=await s.json();e({}),console.error("Error fetching workflows",a),gn.error((a==null?void 0:a.error)||"Error fetching workflows");return}const o=await s.json();e(o)}catch(s){e({}),console.error("Error fetching workflows",s),gn.error("Error fetching workflows")}finally{r(!1)}})()},[]),{workflows:t,isLoading:n}},Kx=t=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0);return S.useEffect(()=>{(async()=>{i(!0);try{if(!t){n(null),i(!1);return}const o=await fetch(`/api/workflows/${t}`);if(!o.ok){const l=await o.json();n(null),console.error("Error fetching workflow",l),gn.error((l==null?void 0:l.error)||"Error fetching workflow");return}const a=await o.json();n(a)}catch(o){n(null),console.error("Error fetching workflow",o),gn.error("Error fetching workflow")}finally{i(!1)}})()},[t]),{workflow:e,isLoading:r}},bQ=()=>{const[t,e]=S.useState(!1);return{executeWorkflow:async({workflowId:r,input:i})=>{try{e(!0);const s=await fetch(`/api/workflows/${r}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i||{})});if(!s.ok){const o=await s.json();gn.error((o==null?void 0:o.error)||"Error executing workflow");return}return await s.json()}catch(s){throw console.error("Error executing workflow:",s),s}finally{e(!1)}},isExecutingWorkflow:t}},kQ=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(null);return{watchWorkflow:async({workflowId:s})=>{var o;try{e(!0);const a=await fetch(`/api/workflows/${s}/watch`);if(!a.ok){const u=await a.json();throw new Error((u==null?void 0:u.error)||"Error watching workflow")}const l=(o=a.body)==null?void 0:o.getReader();if(!l)throw new Error("No reader available");let c="";for(;;){const{done:u,value:d}=await l.read();if(u)break;c+=new TextDecoder().decode(d);const h=c.split("");c=h.pop()||"";for(const m of h)if(m.trim()){const y=JSON.parse(m);r({activePaths:y.activePaths,context:y.context,timestamp:y.timestamp})}}}catch(a){throw console.error("Error watching workflow:",a),a}finally{e(!1)}},isWatchingWorkflow:t,watchResult:n}},SQ=()=>{const[t,e]=S.useState(!1);return{resumeWorkflow:async({workflowId:r,stepId:i,runId:s,context:o})=>{try{e(!0);const a=await fetch(`/api/workflows/${r}/resume`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stepId:i,runId:s,context:o})});if(!a.ok){const l=await a.json();gn.error((l==null?void 0:l.error)||"Error resuming workflow");return}return await a.json()}catch(a){throw console.error("Error resuming workflow:",a),a}finally{e(!1)}},isResumingWorkflow:t}};function CQ({workflowName:t,workflowId:e}){const n=wh(`/workflows/${e}/graph`),r=wh(`/workflows/${e}/traces`),i=ko(),s=[{label:"Workflows",href:"/workflows"},{label:t,href:`/workflows/${e}`,isCurrent:!0}];return g.jsxs(Ei,{title:g.jsx(Gx,{items:s}),children:[g.jsx(pt,{variant:n?"primary":"outline",size:"slim",onClick:()=>i(`/workflows/${e}/graph`),children:"Graph"}),g.jsx(pt,{variant:r?"primary":"outline",size:"slim",onClick:()=>i(`/workflows/${e}/traces`),children:"Traces"})]})}const EQ=({children:t})=>{const{workflowId:e}=fa(),{workflow:n,isLoading:r}=Kx(e);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[r?g.jsx(Ei,{title:g.jsx(Ue,{className:"h-6 w-[200px]"})}):g.jsx(CQ,{workflowName:n==null?void 0:n.name,workflowId:e}),t]})},NQ=()=>{const[t,e]=S.useState({}),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{r(!0);try{const s=await fetch("/api/tools");if(!s.ok){const a=await s.json();e({}),console.error("Error fetching tools",a),gn.error((a==null?void 0:a.error)||"Error fetching tools");return}const o=await s.json();e(o)}catch(s){e({}),console.error("Error fetching tools",s),gn.error("Error fetching tools")}finally{r(!1)}})()},[]),{tools:t,isLoading:n}},TQ=t=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0);return S.useEffect(()=>{(async()=>{i(!0);try{if(!t){n(null),i(!1);return}const o=await fetch(`/api/tools/${t}`);if(!o.ok){const l=await o.json();n(null),console.error("Error fetching tool",l),gn.error((l==null?void 0:l.error)||"Error fetching tool");return}const a=await o.json();n(a)}catch(o){n(null),console.error("Error fetching tool",o),gn.error("Error fetching tool")}finally{i(!1)}})()},[t]),{tool:e,isLoading:r}},AQ=()=>{const{agents:t,isLoading:e}=UF(),{tools:n,isLoading:r}=NQ(),[i,s]=S.useState(null),[o,a]=S.useState(!0),{agent:l,isLoading:c}=Dc(i),u=ko();if(e)return g.jsxs("div",{className:"flex flex-col h-full w-full",children:[g.jsx(Ei,{title:"Tools"}),g.jsxs("div",{className:"w-full h-full grid grid-cols-[300px_1fr] py-6 px-4",children:[g.jsx("div",{className:"flex flex-col gap-4",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"px-2 py-2 rounded-md bg-mastra-bg-13 mb-2",children:g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx(Ue,{className:"h-3 w-3"}),g.jsx(Ue,{className:"h-4 w-20"})]})}),g.jsx("div",{className:"flex flex-col gap-2",children:[1,2,3].map(m=>g.jsxs("div",{className:"flex gap-2 items-center px-2 py-2 rounded-md bg-mastra-bg-13",children:[g.jsx(Ue,{className:"h-3 w-3"}),g.jsx(Ue,{className:"h-4 w-24"})]},m))})]})}),g.jsx("div",{className:"border-l border-mastra-border-1 pl-4",children:g.jsx(Ue,{className:"h-full w-full rounded-md"})})]})]});const d=m=>{s(m),a(!1)},h=()=>{a(!0),s(null)};return r||c?g.jsxs("div",{className:"flex flex-col h-full w-full ",children:[g.jsx(Ei,{title:"Tools"}),g.jsx("div",{className:"w-full h-full grid grid-cols-[300px_1fr] ",children:g.jsx("div",{className:"w-full h-full border-r-[0.5px] border-mastra-border-1 py-6 px-4",children:g.jsx(Ue,{className:"h-full w-full rounded-md"})})})]}):g.jsxs("div",{className:"flex flex-col h-full w-full ",children:[g.jsx(Ei,{title:"Tools"}),g.jsxs("div",{className:"w-full h-full grid grid-cols-[300px_1fr]  ",children:[g.jsx("div",{className:"w-full h-full border-r-[0.5px] border-mastra-border-1 py-6 px-4",children:g.jsxs("ul",{className:" flex flex-col gap-4",children:[Object.keys(n).length>0&&g.jsx("li",{className:ve("px-2 py-2 rounded-md hover:bg-mastra-bg-4/80 transition-colors cursor-pointer",o&&"bg-mastra-bg-4/80"),onClick:h,children:g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-3",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),g.jsx("p",{className:"text-sm text-mastra-el-6",children:"All Tools"})]})}),Object.entries(t).map(([m,y])=>g.jsx("li",{className:ve("px-2 py-2 rounded-md hover:bg-mastra-bg-4/80 transition-colors cursor-pointer",i===m&&"bg-mastra-bg-4/80"),onClick:()=>d(m),children:g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-3",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),g.jsxs("p",{className:"text-sm text-mastra-el-6",children:[y.name," Tools"]})]})},m))]})}),g.jsx("div",{className:"flex flex-col gap-4 py-6 px-4",children:g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:c?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-[0.62rem] bg-mastra-bg-13 px-[0.62rem] py-2 rounded-[0.375rem] border-[0.5px] border-mastra-border-1",children:[g.jsx(Ue,{className:"h-4 w-24"}),g.jsx(Ue,{className:"h-4 w-full"})]}),g.jsxs("div",{className:"flex flex-col gap-[0.62rem] bg-mastra-bg-13 px-[0.62rem] py-2 rounded-[0.375rem] border-[0.5px] border-mastra-border-1",children:[g.jsx(Ue,{className:"h-4 w-24"}),g.jsx(Ue,{className:"h-4 w-full"})]}),g.jsxs("div",{className:"flex flex-col gap-[0.62rem] bg-mastra-bg-13 px-[0.62rem] py-2 rounded-[0.375rem] border-[0.5px] border-mastra-border-1",children:[g.jsx(Ue,{className:"h-4 w-24"}),g.jsx(Ue,{className:"h-4 w-full"})]}),g.jsxs("div",{className:"flex flex-col gap-[0.62rem] bg-mastra-bg-13 px-[0.62rem] py-2 rounded-[0.375rem] border-[0.5px] border-mastra-border-1",children:[g.jsx(Ue,{className:"h-4 w-24"}),g.jsx(Ue,{className:"h-4 w-full"})]})]}):o?Object.entries(n).map(([m,y],v)=>g.jsxs("div",{onClick:()=>{u(`/tools/all/${y.id}`)},className:" hover:bg-mastra-bg-4/80 transition-colors flex flex-col  gap-[0.62rem] bg-mastra-bg-13 px-[0.62rem] py-2 rounded-[0.375rem] cursor-pointer border-[0.5px] border-mastra-border-1",children:[g.jsx("h3",{className:"text-small text-mastra-el-6",children:m}),g.jsx("p",{className:"text-small text-mastra-el-2",children:y.description})]},v)):Object.entries((l==null?void 0:l.tools)??{}).map(([m,y],v)=>g.jsxs("div",{onClick:()=>{u(`/tools/${i}/${y.id}`)},className:" hover:bg-mastra-bg-4/80 transition-colors flex flex-col  gap-[0.62rem] bg-mastra-bg-13 px-[0.62rem] py-2 rounded-[0.375rem] cursor-pointer border-[0.5px] border-mastra-border-1",children:[g.jsx("h3",{className:"text-small text-mastra-el-6",children:m}),g.jsx("p",{className:"text-small text-mastra-el-2",children:y.description})]},v))})})]})]})};var _Q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=_Q.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?uo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QF(t,e){t&&Ld.flushSync(()=>t.dispatchEvent(e))}var Ar=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function MQ(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Pr=t=>{const{present:e,children:n}=t,r=PQ(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=kt(r.ref,RQ(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Pr.displayName="Presence";function PQ(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=MQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=qg(r.current);s.current=a==="mounted"?c:"none"},[a]),Ar(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,m=qg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ar(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=m=>{const v=qg(r.current).includes(m.animationName);if(m.target===e&&v&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=m=>{m.target===e&&(s.current=qg(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function qg(t){return(t==null?void 0:t.animationName)||"none"}function RQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function OQ(t,e){const n=S.createContext(e),r=s=>{const{children:o,...a}=s,l=S.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=S.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Oi(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=d=>{var b;const{scope:h,children:m,...y}=d,v=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,w=S.useMemo(()=>y,Object.values(y));return g.jsx(v.Provider,{value:w,children:m})};c.displayName=s+"Provider";function u(d,h){var v;const m=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,DQ(i,...e)]}function DQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function In(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var jQ=S.createContext(void 0);function Xp(t){const e=S.useContext(jQ);return t||e||"ltr"}function gC(t,[e,n]){return Math.min(n,Math.max(e,t))}function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IQ(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var JN="ScrollArea",[JF,tLe]=Oi(JN),[LQ,ns]=JF(JN),e4=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=S.useState(null),[c,u]=S.useState(null),[d,h]=S.useState(null),[m,y]=S.useState(null),[v,w]=S.useState(null),[b,k]=S.useState(0),[C,N]=S.useState(0),[_,A]=S.useState(!1),[M,R]=S.useState(!1),D=kt(e,B=>l(B)),O=Xp(i);return g.jsx(LQ,{scope:n,type:r,dir:O,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:R,onCornerWidthChange:k,onCornerHeightChange:N,children:g.jsx(Xe.div,{dir:O,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});e4.displayName=JN;var t4="ScrollAreaViewport",n4=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ns(t4,n),a=S.useRef(null),l=kt(e,a,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});n4.displayName=t4;var So="ScrollAreaScrollbar",eT=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ns(So,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?g.jsx(FQ,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(BQ,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(r4,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(tT,{...r,ref:e}):null});eT.displayName=So;var FQ=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ns(So,t.__scopeScrollArea),[s,o]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(Pr,{present:n||s,children:g.jsx(r4,{"data-state":s?"visible":"hidden",...r,ref:e})})}),BQ=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ns(So,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Zx(()=>l("SCROLL_END"),100),[a,l]=IQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const m=c[u];d!==m&&(l("SCROLL"),o()),d=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),g.jsx(Pr,{present:n||a!=="hidden",children:g.jsx(tT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Re(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Re(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),r4=S.forwardRef((t,e)=>{const n=ns(So,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=S.useState(!1),a=t.orientation==="horizontal",l=Zx(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return rd(n.viewport,l),rd(n.content,l),g.jsx(Pr,{present:r||s,children:g.jsx(tT,{"data-state":s?"visible":"hidden",...i,ref:e})})}),tT=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ns(So,t.__scopeScrollArea),s=S.useRef(null),o=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=l4(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,m){return UQ(h,o.current,a,m)}return n==="horizontal"?g.jsx(zQ,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=WP(h,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):n==="vertical"?g.jsx($Q,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=WP(h,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),zQ=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ns(So,t.__scopeScrollArea),[o,a]=S.useState(),l=S.useRef(null),c=kt(e,l,s.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(s4,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xx(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),u4(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:w0(o.paddingLeft),paddingEnd:w0(o.paddingRight)}})}})}),$Q=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ns(So,t.__scopeScrollArea),[o,a]=S.useState(),l=S.useRef(null),c=kt(e,l,s.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(s4,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xx(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),u4(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:w0(o.paddingTop),paddingEnd:w0(o.paddingBottom)}})}})}),[VQ,i4]=JF(So),s4=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,m=ns(So,n),[y,v]=S.useState(null),w=kt(e,D=>v(D)),b=S.useRef(null),k=S.useRef(""),C=m.viewport,N=r.content-r.viewport,_=In(u),A=In(l),M=Zx(d,10);function R(D){if(b.current){const O=D.clientX-b.current.left,B=D.clientY-b.current.top;c({x:O,y:B})}}return S.useEffect(()=>{const D=O=>{const B=O.target;(y==null?void 0:y.contains(B))&&_(O,N)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[C,y,N,_]),S.useEffect(A,[r,A]),rd(y,M),rd(m.content,M),g.jsx(VQ,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:In(s),onThumbPointerUp:In(o),onThumbPositionChange:A,onThumbPointerDown:In(a),children:g.jsx(Xe.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:Re(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),b.current=y.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),R(D))}),onPointerMove:Re(t.onPointerMove,R),onPointerUp:Re(t.onPointerUp,D=>{const O=D.target;O.hasPointerCapture(D.pointerId)&&O.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=k.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),v0="ScrollAreaThumb",o4=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=i4(v0,t.__scopeScrollArea);return g.jsx(Pr,{present:n||i.hasThumb,children:g.jsx(WQ,{ref:e,...r})})}),WQ=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ns(v0,n),o=i4(v0,n),{onThumbPositionChange:a}=o,l=kt(e,d=>o.onThumbChange(d)),c=S.useRef(void 0),u=Zx(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const m=qQ(d,a);c.current=m,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,a]),g.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Re(t.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),y=d.clientX-m.left,v=d.clientY-m.top;o.onThumbPointerDown({x:y,y:v})}),onPointerUp:Re(t.onPointerUp,o.onThumbPointerUp)})});o4.displayName=v0;var nT="ScrollAreaCorner",a4=S.forwardRef((t,e)=>{const n=ns(nT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(HQ,{...t,ref:e}):null});a4.displayName=nT;var HQ=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ns(nT,n),[s,o]=S.useState(0),[a,l]=S.useState(0),c=!!(s&&a);return rd(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),rd(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?g.jsx(Xe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function w0(t){return t?parseInt(t,10):0}function l4(t,e){const n=t/e;return isNaN(n)?0:n}function Xx(t){const e=l4(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function UQ(t,e,n,r="ltr"){const i=Xx(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return c4([l,c],d)(t)}function WP(t,e,n="ltr"){const r=Xx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=gC(t,l);return c4([0,o],[0,a])(c)}function c4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function u4(t,e){return t>0&&t<e}var qQ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Zx(t,e){const n=In(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function rd(t,e){const n=In(e);Ar(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var d4=e4,YQ=n4,GQ=a4;const Bn=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(d4,{ref:r,className:ve("relative overflow-hidden",t),...n,children:[g.jsx(YQ,{className:"h-full w-full rounded-[inherit]",children:e}),g.jsx(f4,{}),g.jsx(GQ,{})]}));Bn.displayName=d4.displayName;const f4=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(eT,{ref:r,orientation:e,className:ve("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(o4,{className:"relative flex-1 rounded-full bg-border"})}));f4.displayName=eT.displayName;const rT=S.createContext({});function iT(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qx=S.createContext(null),sT=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class KQ extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function XQ({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=S.useContext(sT);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.jsx(KQ,{isPresent:e,childRef:r,sizeRef:i,children:S.cloneElement(t,{ref:r})})}const ZQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=iT(QQ),l=S.useId(),c=S.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return S.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(XQ,{isPresent:n,children:t})),g.jsx(Qx.Provider,{value:u,children:t})};function QQ(){return new Map}function h4(t=!0){const e=S.useContext(Qx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{t&&i(s)},[t]);const o=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Yg=t=>t.key||"";function HP(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const oT=typeof window<"u",p4=oT?S.useLayoutEffect:S.useEffect,aT=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=h4(o),c=S.useMemo(()=>HP(t),[t]),u=o&&!a?[]:c.map(Yg),d=S.useRef(!0),h=S.useRef(c),m=iT(()=>new Map),[y,v]=S.useState(c),[w,b]=S.useState(c);p4(()=>{d.current=!1,h.current=c;for(let N=0;N<w.length;N++){const _=Yg(w[N]);u.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[w,u.length,u.join("-")]);const k=[];if(c!==y){let N=[...c];for(let _=0;_<w.length;_++){const A=w[_],M=Yg(A);u.includes(M)||(N.splice(_,0,A),k.push(A))}s==="wait"&&k.length&&(N=k),b(HP(N)),v(c);return}const{forceRender:C}=S.useContext(rT);return g.jsx(g.Fragment,{children:w.map(N=>{const _=Yg(N),A=o&&!a?!1:c===w||u.includes(_),M=()=>{if(m.has(_))m.set(_,!0);else return;let R=!0;m.forEach(D=>{D||(R=!1)}),R&&(C==null||C(),b(h.current),o&&(l==null||l()),r&&r())};return g.jsx(ZQ,{isPresent:A,initial:!d.current||n?void 0:!1,custom:A?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:A?void 0:M,children:N},_)})})},Ni=t=>t;let m4=Ni;function lT(t){let e;return()=>(e===void 0&&(e=t()),e)}const id=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Qo=t=>t*1e3,Jo=t=>t/1e3,JQ={useManualTiming:!1};function eJ(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const m=d&&r?e:n;return u&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Gg=["read","resolveKeyframes","update","preRender","render","postRender"],tJ=40;function g4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Gg.reduce((b,k)=>(b[k]=eJ(s),b),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,tJ),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Gg.reduce((b,k)=>{const C=o[k];return b[k]=(N,_=!1,A=!1)=>(n||y(),C.schedule(N,_,A)),b},{}),cancel:b=>{for(let k=0;k<Gg.length;k++)o[Gg[k]].cancel(b)},state:i,steps:o}}const{schedule:fn,cancel:ll,state:fr,steps:p1}=g4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0),y4=S.createContext({strict:!1}),UP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sd={};for(const t in UP)sd[t]={isEnabled:e=>UP[t].some(n=>!!e[n])};function nJ(t){for(const e in t)sd[e]={...sd[e],...t[e]}}const rJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rJ.has(t)}let x4=t=>!b0(t);function iJ(t){t&&(x4=e=>e.startsWith("on")?!b0(e):t(e))}try{iJ(require("@emotion/is-prop-valid").default)}catch{}function sJ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(x4(i)||n===!0&&b0(i)||!e&&!b0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function oJ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Jx=S.createContext({});function Uh(t){return typeof t=="string"||Array.isArray(t)}function ev(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const cT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uT=["initial",...cT];function tv(t){return ev(t.animate)||uT.some(e=>Uh(t[e]))}function v4(t){return!!(tv(t)||t.variants)}function aJ(t,e){if(tv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Uh(n)?n:void 0,animate:Uh(r)?r:void 0}}return t.inherit!==!1?e:{}}function lJ(t){const{initial:e,animate:n}=aJ(t,S.useContext(Jx));return S.useMemo(()=>({initial:e,animate:n}),[qP(e),qP(n)])}function qP(t){return Array.isArray(t)?t.join(" "):t}const cJ=Symbol.for("motionComponentSymbol");function Tu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uJ(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Tu(n)&&(n.current=r))},[e])}const dT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dJ="framerAppearId",w4="data-"+dT(dJ),{schedule:fT}=g4(queueMicrotask,!1),b4=S.createContext({});function fJ(t,e,n,r,i){var s,o;const{visualElement:a}=S.useContext(Jx),l=S.useContext(y4),c=S.useContext(Qx),u=S.useContext(sT).reducedMotion,d=S.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=S.useContext(b4);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&hJ(d.current,n,i,m);const y=S.useRef(!1);S.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const v=n[w4],w=S.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return p4(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),fT.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),S.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,v)}),w.current=!1))}),h}function hJ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:k4(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Tu(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function k4(t){if(t)return t.options.allowProjection!==!1?t.projection:k4(t.parent)}function pJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&nJ(t);function a(c,u){let d;const h={...S.useContext(sT),...c,layoutId:mJ(c)},{isStatic:m}=h,y=lJ(c),v=r(c,m);if(!m&&oT){gJ();const w=yJ(h);d=w.MeasureLayout,y.visualElement=fJ(i,v,h,e,w.ProjectionNode)}return g.jsxs(Jx.Provider,{value:y,children:[d&&y.visualElement?g.jsx(d,{visualElement:y.visualElement,...h}):null,n(i,c,uJ(v,y.visualElement,u),v,m,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=S.forwardRef(a);return l[cJ]=i,l}function mJ({layoutId:t}){const e=S.useContext(rT).id;return e&&t!==void 0?e+"-"+t:t}function gJ(t,e){S.useContext(y4).strict}function yJ(t){const{drag:e,layout:n}=sd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hT(t){return typeof t!="string"||t.includes("-")?!1:!!(xJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function YP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function pT(t,e,n,r){if(typeof e=="function"){const[i,s]=YP(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=YP(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const yC=t=>Array.isArray(t),vJ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wJ=t=>yC(t)?t[t.length-1]||0:t,Nr=t=>!!(t&&t.getVelocity);function Yy(t){const e=Nr(t)?t.get():t;return vJ(e)?e.toValue():e}function bJ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:kJ(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const S4=t=>(e,n)=>{const r=S.useContext(Jx),i=S.useContext(Qx),s=()=>bJ(t,e,r,i);return n?s():iT(s)};function kJ(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Yy(s[h]);let{initial:o,animate:a}=t;const l=tv(t),c=v4(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!ev(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const y=pT(t,h[m]);if(y){const{transitionEnd:v,transition:w,...b}=y;for(const k in b){let C=b[k];if(Array.isArray(C)){const N=u?C.length-1:0;C=C[N]}C!==null&&(i[k]=C)}for(const k in v)i[k]=v[k]}}}return i}const zd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(zd),C4=t=>e=>typeof e=="string"&&e.startsWith(t),E4=C4("--"),SJ=C4("var(--"),mT=t=>SJ(t)?CJ.test(t.split("/*")[0].trim()):!1,CJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,N4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ra=(t,e,n)=>n>e?e:n<t?t:n,$d={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qh={...$d,transform:t=>ra(0,1,t)},Kg={...$d,default:1},Zp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ya=Zp("deg"),ro=Zp("%"),lt=Zp("px"),EJ=Zp("vh"),NJ=Zp("vw"),GP={...ro,parse:t=>ro.parse(t)/100,transform:t=>ro.transform(t*100)},TJ={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt},AJ={rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:Kg,scaleX:Kg,scaleY:Kg,scaleZ:Kg,skew:Ya,skewX:Ya,skewY:Ya,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:qh,originX:GP,originY:GP,originZ:lt},KP={...$d,transform:Math.round},gT={...TJ,...AJ,zIndex:KP,size:lt,fillOpacity:qh,strokeOpacity:qh,numOctaves:KP},_J={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MJ=zd.length;function PJ(t,e,n){let r="",i=!0;for(let s=0;s<MJ;s++){const o=zd[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=N4(a,gT[o]);if(!l){i=!1;const u=_J[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function yT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(jc.has(l)){o=!0;continue}else if(E4(l)){i[l]=c;continue}else{const u=N4(c,gT[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=PJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const RJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},OJ={offset:"strokeDashoffset",array:"strokeDasharray"};function DJ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?RJ:OJ;t[s.offset]=lt.transform(-r);const o=lt.transform(e),a=lt.transform(n);t[s.array]=`${o} ${a}`}function XP(t,e,n){return typeof t=="string"?t:lt.transform(e+n*t)}function jJ(t,e,n){const r=XP(e,t.x,t.width),i=XP(n,t.y,t.height);return`${r} ${i}`}function xT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(yT(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:y}=t;h.transform&&(y&&(m.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=jJ(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&DJ(h,o,a,l,!1)}const vT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),T4=()=>({...vT(),attrs:{}}),wT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function A4(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const _4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M4(t,e,n,r){A4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_4.has(i)?i:dT(i),e.attrs[i])}const k0={};function IJ(t){Object.assign(k0,t)}function P4(t,{layout:e,layoutId:n}){return jc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!k0[t]||t==="opacity")}function bT(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Nr(i[o])||e.style&&Nr(e.style[o])||P4(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function R4(t,e,n){const r=bT(t,e,n);for(const i in t)if(Nr(t[i])||Nr(e[i])){const s=zd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function LJ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const ZP=["x","y","width","height","cx","cy","r"],FJ={useVisualState:S4({scrapeMotionValuesFromProps:R4,createRenderState:T4,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(jc.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<ZP.length;a++){const l=ZP[a];t[l]!==e[l]&&(o=!0)}o&&fn.read(()=>{LJ(n,r),fn.render(()=>{xT(r,i,wT(n.tagName),t.transformTemplate),M4(n,r)})})}})},BJ={useVisualState:S4({scrapeMotionValuesFromProps:bT,createRenderState:vT})};function O4(t,e,n){for(const r in e)!Nr(e[r])&&!P4(r,n)&&(t[r]=e[r])}function zJ({transformTemplate:t},e){return S.useMemo(()=>{const n=vT();return yT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $J(t,e){const n=t.style||{},r={};return O4(r,n,t),Object.assign(r,zJ(t,e)),r}function VJ(t,e){const n={},r=$J(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function WJ(t,e,n,r){const i=S.useMemo(()=>{const s=T4();return xT(s,e,wT(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};O4(s,t.style,t),i.style={...s,...i.style}}return i}function HJ(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(hT(n)?WJ:VJ)(r,s,o,n),c=sJ(r,typeof n=="string",t),u=n!==S.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=S.useMemo(()=>Nr(d)?d.get():d,[d]);return S.createElement(n,{...u,children:h})}}function UJ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...hT(r)?FJ:BJ,preloadedFeatures:t,useRender:HJ(i),createVisualElement:e,Component:r};return pJ(o)}}function D4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function nv(t,e,n){const r=t.getProps();return pT(r,e,n!==void 0?n:r.custom,t)}const qJ=lT(()=>window.ScrollTimeline!==void 0);class YJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(qJ()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GJ extends YJ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function kT(t,e){return t?t[e]||t.default||t:void 0}const xC=2e4;function j4(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xC;)e+=n,r=t.next(e);return e>=xC?1/0:e}function ST(t){return typeof t=="function"}function QP(t,e){t.timeline=e,t.onfinish=null}const CT=t=>Array.isArray(t)&&typeof t[0]=="number",KJ={linearEasing:void 0};function XJ(t,e){const n=lT(t);return()=>{var r;return(r=KJ[e])!==null&&r!==void 0?r:n()}}const S0=XJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),I4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(id(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function L4(t){return!!(typeof t=="function"&&S0()||!t||typeof t=="string"&&(t in vC||S0())||CT(t)||Array.isArray(t)&&t.every(L4))}const ih=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ih([0,.65,.55,1]),circOut:ih([.55,0,1,.45]),backIn:ih([.31,.01,.66,-.59]),backOut:ih([.33,1.53,.69,.99])};function F4(t,e){if(t)return typeof t=="function"&&S0()?I4(t,e):CT(t)?ih(t):Array.isArray(t)?t.map(n=>F4(n,e)||vC.easeOut):vC[t]}const hs={x:!1,y:!1};function B4(){return hs.x||hs.y}function ZJ(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function z4(t,e){const n=ZJ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function JP(t){return e=>{e.pointerType==="touch"||B4()||t(e)}}function QJ(t,e,n={}){const[r,i,s]=z4(t,n),o=JP(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=JP(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const $4=(t,e)=>e?t===e?!0:$4(t,e.parentElement):!1,ET=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eee(t){return JJ.has(t.tagName)||t.tabIndex!==-1}const sh=new WeakSet;function eR(t){return e=>{e.key==="Enter"&&t(e)}}function m1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tee=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eR(()=>{if(sh.has(n))return;m1(n,"down");const i=eR(()=>{m1(n,"up")}),s=()=>m1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tR(t){return ET(t)&&!B4()}function nee(t,e,n={}){const[r,i,s]=z4(t,n),o=a=>{const l=a.currentTarget;if(!tR(a)||sh.has(l))return;sh.add(l);const c=e(a),u=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!tR(m)||!sh.has(l))&&(sh.delete(l),typeof c=="function"&&c(m,{success:y}))},d=m=>{u(m,n.useGlobalTarget||$4(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{!eee(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>tee(c,i),i)}),s}function ree(t){return t==="x"||t==="y"?hs[t]?null:(hs[t]=!0,()=>{hs[t]=!1}):hs.x||hs.y?null:(hs.x=hs.y=!0,()=>{hs.x=hs.y=!1})}const V4=new Set(["width","height","top","left","right","bottom",...zd]);let Gy;function iee(){Gy=void 0}const io={now:()=>(Gy===void 0&&io.set(fr.isProcessing||JQ.useManualTiming?fr.timestamp:performance.now()),Gy),set:t=>{Gy=t,queueMicrotask(iee)}};function NT(t,e){t.indexOf(e)===-1&&t.push(e)}function TT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class AT{constructor(){this.subscriptions=[]}add(e){return NT(this.subscriptions,e),()=>TT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function W4(t,e){return e?t*(1e3/e):0}const nR=30,see=t=>!isNaN(parseFloat(t));class oee{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=io.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=io.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=see(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new AT);const r=this.events[e].add(n);return e==="change"?()=>{r(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=io.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nR);return W4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yh(t,e){return new oee(t,e)}function aee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yh(n))}function lee(t,e){const n=nv(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=wJ(s[o]);aee(t,o,a)}}function cee(t){return!!(Nr(t)&&t.add)}function wC(t,e){const n=t.getValue("willChange");if(cee(n))return n.add(e)}function H4(t){return t.props[w4]}const U4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uee=1e-7,dee=12;function fee(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=U4(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>uee&&++a<dee);return o}function Qp(t,e,n,r){if(t===e&&n===r)return Ni;const i=s=>fee(s,0,1,t,n);return s=>s===0||s===1?s:U4(i(s),e,r)}const q4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y4=t=>e=>1-t(1-e),G4=Qp(.33,1.53,.69,.99),_T=Y4(G4),K4=q4(_T),X4=t=>(t*=2)<1?.5*_T(t):.5*(2-Math.pow(2,-10*(t-1))),MT=t=>1-Math.sin(Math.acos(t)),Z4=Y4(MT),Q4=q4(MT),J4=t=>/^0[^.\s]+$/u.test(t);function hee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||J4(t):!0}const bh=t=>Math.round(t*1e5)/1e5,PT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pee(t){return t==null}const mee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RT=(t,e)=>n=>!!(typeof n=="string"&&mee.test(n)&&n.startsWith(t)||e&&!pee(n)&&Object.prototype.hasOwnProperty.call(n,e)),e5=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(PT);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},gee=t=>ra(0,255,t),g1={...$d,transform:t=>Math.round(gee(t))},ic={test:RT("rgb","red"),parse:e5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+g1.transform(t)+", "+g1.transform(e)+", "+g1.transform(n)+", "+bh(qh.transform(r))+")"};function yee(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bC={test:RT("#"),parse:yee,transform:ic.transform},Au={test:RT("hsl","hue"),parse:e5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ro.transform(bh(e))+", "+ro.transform(bh(n))+", "+bh(qh.transform(r))+")"},Sr={test:t=>ic.test(t)||bC.test(t)||Au.test(t),parse:t=>ic.test(t)?ic.parse(t):Au.test(t)?Au.parse(t):bC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ic.transform(t):Au.transform(t)},xee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vee(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(PT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xee))===null||n===void 0?void 0:n.length)||0)>0}const t5="number",n5="color",wee="var",bee="var(",rR="${}",kee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(kee,l=>(Sr.test(l)?(r.color.push(s),i.push(n5),n.push(Sr.parse(l))):l.startsWith(bee)?(r.var.push(s),i.push(wee),n.push(l)):(r.number.push(s),i.push(t5),n.push(parseFloat(l))),++s,rR)).split(rR);return{values:n,split:a,indexes:r,types:i}}function r5(t){return Gh(t).values}function i5(t){const{split:e,types:n}=Gh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===t5?s+=bh(i[o]):a===n5?s+=Sr.transform(i[o]):s+=i[o]}return s}}const See=t=>typeof t=="number"?0:t;function Cee(t){const e=r5(t);return i5(t)(e.map(See))}const cl={test:vee,parse:r5,createTransformer:i5,getAnimatableNone:Cee},Eee=new Set(["brightness","contrast","saturate","opacity"]);function Nee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(PT)||[];if(!r)return t;const i=n.replace(r,"");let s=Eee.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Tee=/\b([a-z-]*)\(.*?\)/gu,kC={...cl,getAnimatableNone:t=>{const e=t.match(Tee);return e?e.map(Nee).join(" "):t}},Aee={...gT,color:Sr,backgroundColor:Sr,outlineColor:Sr,fill:Sr,stroke:Sr,borderColor:Sr,borderTopColor:Sr,borderRightColor:Sr,borderBottomColor:Sr,borderLeftColor:Sr,filter:kC,WebkitFilter:kC},OT=t=>Aee[t];function s5(t,e){let n=OT(t);return n!==kC&&(n=cl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _ee=new Set(["auto","none","0"]);function Mee(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!_ee.has(s)&&Gh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=s5(n,i)}const iR=t=>t===$d||t===lt,sR=(t,e)=>parseFloat(t.split(", ")[e]),oR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return sR(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?sR(s[1],t):0}},Pee=new Set(["x","y","z"]),Ree=zd.filter(t=>!Pee.has(t));function Oee(t){const e=[];return Ree.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const od={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:oR(4,13),y:oR(5,14)};od.translateX=od.x;od.translateY=od.y;const uc=new Set;let SC=!1,CC=!1;function o5(){if(CC){const t=Array.from(uc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Oee(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}CC=!1,SC=!1,uc.forEach(t=>t.complete()),uc.clear()}function a5(){uc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(CC=!0)})}function Dee(){a5(),o5()}class DT{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uc.add(this),SC||(SC=!0,fn.read(a5),fn.resolveKeyframes(o5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),jee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Iee(t){const e=jee.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function c5(t,e,n=1){const[r,i]=Iee(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return l5(o)?parseFloat(o):o}return mT(i)?c5(i,e,n+1):i}const u5=t=>e=>e.test(t),Lee={test:t=>t==="auto",parse:t=>t},d5=[$d,lt,ro,Ya,NJ,EJ,Lee],aR=t=>d5.find(u5(t));class f5 extends DT{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),mT(c))){const u=c5(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!V4.has(r)||e.length!==2)return;const[i,s]=e,o=aR(i),a=aR(s);if(o!==a)if(iR(o)&&iR(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)hee(e[i])&&r.push(i);r.length&&Mee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=od[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=od[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const lR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cl.test(t)||t==="0")&&!t.startsWith("url("));function Fee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Bee(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=lR(i,e),a=lR(s,e);return!o||!a?!1:Fee(t)||(n==="spring"||ST(n))&&r}const zee=t=>t!==null;function rv(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zee),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const $ee=40;class h5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=io.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$ee?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Dee(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=io.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Bee(e,r,i,s))if(o)this.options.duration=0;else{l&&l(rv(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const kn=(t,e,n)=>t+(e-t)*n;function y1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Vee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=y1(l,a,t+1/3),s=y1(l,a,t),o=y1(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function C0(t,e){return n=>n>0?e:t}const x1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Wee=[bC,ic,Au],Hee=t=>Wee.find(e=>e.test(t));function cR(t){const e=Hee(t);if(!e)return!1;let n=e.parse(t);return e===Au&&(n=Vee(n)),n}const uR=(t,e)=>{const n=cR(t),r=cR(e);if(!n||!r)return C0(t,e);const i={...n};return s=>(i.red=x1(n.red,r.red,s),i.green=x1(n.green,r.green,s),i.blue=x1(n.blue,r.blue,s),i.alpha=kn(n.alpha,r.alpha,s),ic.transform(i))},Uee=(t,e)=>n=>e(t(n)),Jp=(...t)=>t.reduce(Uee),EC=new Set(["none","hidden"]);function qee(t,e){return EC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Yee(t,e){return n=>kn(t,e,n)}function jT(t){return typeof t=="number"?Yee:typeof t=="string"?mT(t)?C0:Sr.test(t)?uR:Xee:Array.isArray(t)?p5:typeof t=="object"?Sr.test(t)?uR:Gee:C0}function p5(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>jT(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Gee(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=jT(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Kee(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Xee=(t,e)=>{const n=cl.createTransformer(e),r=Gh(t),i=Gh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?EC.has(t)&&!i.values.length||EC.has(e)&&!r.values.length?qee(t,e):Jp(p5(Kee(r,i),i.values),n):C0(t,e)};function m5(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kn(t,e,n):jT(t)(t,e)}const Zee=5;function g5(t,e,n){const r=Math.max(e-Zee,0);return W4(n-t(r),e-r)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dR=.001;function Qee({duration:t=Cn.duration,bounce:e=Cn.bounce,velocity:n=Cn.velocity,mass:r=Cn.mass}){let i,s,o=1-e;o=ra(Cn.minDamping,Cn.maxDamping,o),t=ra(Cn.minDuration,Cn.maxDuration,Jo(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,m=NC(c,o),y=Math.exp(-d);return dR-h/m*y},s=c=>{const d=c*o*t,h=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-d),v=NC(Math.pow(c,2),o);return(-i(c)+dR>0?-1:1)*((h-m)*y)/v}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-.001+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=ete(i,s,a);if(t=Qo(t),isNaN(l))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Jee=12;function ete(t,e,n){let r=n;for(let i=1;i<Jee;i++)r=r-t(r)/e(r);return r}function NC(t,e){return t*Math.sqrt(1-e*e)}const tte=["duration","bounce"],nte=["stiffness","damping","mass"];function fR(t,e){return e.some(n=>t[n]!==void 0)}function rte(t){let e={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...t};if(!fR(t,nte)&&fR(t,tte))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ra(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Cn.mass,stiffness:i,damping:s}}else{const n=Qee(t);e={...e,...n,mass:Cn.mass},e.isResolvedFromDuration=!0}return e}function y5(t=Cn.visualDuration,e=Cn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=rte({...n,velocity:-Jo(n.velocity||0)}),y=h||0,v=c/(2*Math.sqrt(l*u)),w=o-s,b=Jo(Math.sqrt(l/u)),k=Math.abs(w)<5;r||(r=k?Cn.restSpeed.granular:Cn.restSpeed.default),i||(i=k?Cn.restDelta.granular:Cn.restDelta.default);let C;if(v<1){const _=NC(b,v);C=A=>{const M=Math.exp(-v*b*A);return o-M*((y+v*b*w)/_*Math.sin(_*A)+w*Math.cos(_*A))}}else if(v===1)C=_=>o-Math.exp(-b*_)*(w+(y+b*w)*_);else{const _=b*Math.sqrt(v*v-1);C=A=>{const M=Math.exp(-v*b*A),R=Math.min(_*A,300);return o-M*((y+v*b*w)*Math.sinh(R)+_*w*Math.cosh(R))/_}}const N={calculatedDuration:m&&d||null,next:_=>{const A=C(_);if(m)a.done=_>=d;else{let M=0;v<1&&(M=_===0?Qo(y):g5(C,_,A));const R=Math.abs(M)<=r,D=Math.abs(o-A)<=i;a.done=R&&D}return a.value=a.done?o:A,a},toString:()=>{const _=Math.min(j4(N),xC),A=I4(M=>N.next(_*M).value,_,30);return _+"ms "+A}};return N}function hR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},m=R=>a!==void 0&&R<a||l!==void 0&&R>l,y=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let v=n*e;const w=d+v,b=o===void 0?w:o(w);b!==w&&(v=b-d);const k=R=>-v*Math.exp(-R/r),C=R=>b+k(R),N=R=>{const D=k(R),O=C(R);h.done=Math.abs(D)<=c,h.value=h.done?b:O};let _,A;const M=R=>{m(h.value)&&(_=R,A=y5({keyframes:[h.value,y(h.value)],velocity:g5(C,R,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return M(0),{calculatedDuration:null,next:R=>{let D=!1;return!A&&_===void 0&&(D=!0,N(R),M(R)),_!==void 0&&R>=_?A.next(R-_):(!D&&N(R),h)}}}const ite=Qp(.42,0,1,1),ste=Qp(0,0,.58,1),x5=Qp(.42,0,.58,1),ote=t=>Array.isArray(t)&&typeof t[0]!="number",ate={linear:Ni,easeIn:ite,easeInOut:x5,easeOut:ste,circIn:MT,circInOut:Q4,circOut:Z4,backIn:_T,backInOut:K4,backOut:G4,anticipate:X4},pR=t=>{if(CT(t)){m4(t.length===4);const[e,n,r,i]=t;return Qp(e,n,r,i)}else if(typeof t=="string")return ate[t];return t};function lte(t,e,n){const r=[],i=n||m5,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ni:e;a=Jp(l,a)}r.push(a)}return r}function cte(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(m4(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=lte(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=id(t[d],t[d+1],u);return a[d](h)};return n?u=>c(ra(t[0],t[s-1],u)):c}function ute(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=id(0,e,r);t.push(kn(n,1,i))}}function dte(t){const e=[0];return ute(e,t.length-1),e}function fte(t,e){return t.map(n=>n*e)}function hte(t,e){return t.map(()=>e||x5).splice(0,t.length-1)}function E0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ote(r)?r.map(pR):pR(r),s={done:!1,value:e[0]},o=fte(n&&n.length===e.length?n:dte(e),t),a=cte(o,e,{ease:Array.isArray(i)?i:hte(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const pte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>fn.update(e,!0),stop:()=>ll(e),now:()=>fr.isProcessing?fr.timestamp:io.now()}},mte={decay:hR,inertia:hR,tween:E0,keyframes:E0,spring:y5},gte=t=>t/100;class IT extends h5{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||DT,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=ST(n)?n:mte[n]||E0;let l,c;a!==E0&&typeof e[0]!="number"&&(l=Jp(gte,m5(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=j4(u));const{calculatedDuration:d}=u,h=d+i,m=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:y,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),k=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let C=this.currentTime,N=s;if(m){const R=Math.min(this.currentTime,u)/d;let D=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(y==="reverse"?(O=1-O,v&&(O-=v/d)):y==="mirror"&&(N=o)),C=ra(0,1,O)*d}const _=k?{done:!1,value:l[0]}:N.next(C);a&&(_.value=a(_.value));let{done:A}=_;!k&&c!==null&&(A=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return M&&i!==void 0&&(_.value=rv(l,this.options,i)),w&&w(_.value),M&&this.finish(),_}get duration(){const{resolved:e}=this;return e?Jo(e.calculatedDuration):0}get time(){return Jo(this.currentTime)}set time(e){e=Qo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pte,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yte=new Set(["opacity","clipPath","filter","transform"]);function xte(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=F4(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const vte=lT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),N0=10,wte=2e4;function bte(t){return ST(t.type)||t.type==="spring"||!L4(t.ease)}function kte(t,e){const n=new IT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<wte;)r=n.sample(s),i.push(r.value),s+=N0;return{times:void 0,keyframes:i,duration:s-N0,ease:"linear"}}const v5={anticipate:X4,backInOut:K4,circInOut:Q4};function Ste(t){return t in v5}class mR extends h5{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new f5(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&S0()&&Ste(s)&&(s=v5[s]),bte(this.options)){const{onComplete:d,onUpdate:h,motionValue:m,element:y,...v}=this.options,w=kte(e,v);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,i=w.times,s=w.ease,o="keyframes"}const u=xte(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(QP(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(rv(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Jo(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Jo(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ni;const{animation:r}=n;QP(r,e)}return Ni}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...m}=this.options,y=new IT({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=Qo(this.time);c.setWithVelocity(y.sample(v-N0).value,y.sample(v).value,N0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return vte()&&r&&yte.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Cte={type:"spring",stiffness:500,damping:25,restSpeed:10},Ete=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Nte={type:"keyframes",duration:.8},Tte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ate=(t,{keyframes:e})=>e.length>2?Nte:jc.has(t)?t.startsWith("scale")?Ete(e[1]):Cte:Tte;function _te({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const LT=(t,e,n,r={},i,s)=>o=>{const a=kT(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Qo(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};_te(a)||(u={...u,...Ate(t,u)}),u.duration&&(u.duration=Qo(u.duration)),u.repeatDelay&&(u.repeatDelay=Qo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=rv(u.keyframes,a);if(h!==void 0)return fn.update(()=>{u.onUpdate(h),u.onComplete()}),new GJ([])}return!s&&mR.supports(u)?new mR(u):new IT(u)};function Mte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function w5(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||u&&Mte(u,d))continue;const y={delay:n,...kT(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const b=H4(t);if(b){const k=window.MotionHandoffAnimation(b,d,fn);k!==null&&(y.startTime=k,v=!0)}}wC(t,d),h.start(LT(d,h,m,t.shouldReduceMotion&&V4.has(d)?{type:!1}:y,t,v));const w=h.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{fn.update(()=>{a&&lee(t,a)})}),c}function TC(t,e,n={}){var r;const i=nv(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(w5(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return Pte(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Pte(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Rte).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(TC(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Rte(t,e){return t.sortNodePosition(e)}function Ote(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>TC(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=TC(t,e,n);else{const i=typeof e=="function"?nv(t,e,n.custom):e;r=Promise.all(w5(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Dte=uT.length;function b5(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?b5(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Dte;n++){const r=uT[n],i=t.props[r];(Uh(i)||i===!1)&&(e[r]=i)}return e}const jte=[...cT].reverse(),Ite=cT.length;function Lte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ote(t,n,r)))}function Fte(t){let e=Lte(t),n=gR(),r=!0;const i=l=>(c,u)=>{var d;const h=nv(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:m,transitionEnd:y,...v}=h;c={...c,...v,...y}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=b5(t.parent)||{},d=[],h=new Set;let m={},y=1/0;for(let w=0;w<Ite;w++){const b=jte[w],k=n[b],C=c[b]!==void 0?c[b]:u[b],N=Uh(C),_=b===l?k.isActive:null;_===!1&&(y=w);let A=C===u[b]&&C!==c[b]&&N;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),k.protectedKeys={...m},!k.isActive&&_===null||!C&&!k.prevProp||ev(C)||typeof C=="boolean")continue;const M=Bte(k.prevProp,C);let R=M||b===l&&k.isActive&&!A&&N||w>y&&N,D=!1;const O=Array.isArray(C)?C:[C];let B=O.reduce(i(b),{});_===!1&&(B={});const{prevResolvedValues:F={}}=k,W={...F,...B},I=G=>{R=!0,h.has(G)&&(D=!0,h.delete(G)),k.needsAnimating[G]=!0;const H=t.getValue(G);H&&(H.liveStyle=!1)};for(const G in W){const H=B[G],$=F[G];if(m.hasOwnProperty(G))continue;let L=!1;yC(H)&&yC($)?L=!D4(H,$):L=H!==$,L?H!=null?I(G):h.add(G):H!==void 0&&h.has(G)?I(G):k.protectedKeys[G]=!0}k.prevProp=C,k.prevResolvedValues=B,k.isActive&&(m={...m,...B}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(A&&M)||D)&&d.push(...O.map(G=>({animation:G,options:{type:b}})))}if(h.size){const w={};h.forEach(b=>{const k=t.getBaseTarget(b),C=t.getValue(b);C&&(C.liveStyle=!0),w[b]=k??null}),d.push({animation:w})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=gR(),r=!0}}}function Bte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!D4(e,t):!1}function Gl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gR(){return{animate:Gl(!0),whileInView:Gl(),whileHover:Gl(),whileTap:Gl(),whileDrag:Gl(),whileFocus:Gl(),exit:Gl()}}class El{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zte extends El{constructor(e){super(e),e.animationState||(e.animationState=Fte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ev(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $te=0;class Vte extends El{constructor(){super(...arguments),this.id=$te++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Wte={animation:{Feature:zte},exit:{Feature:Vte}};function Kh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function em(t){return{point:{x:t.pageX,y:t.pageY}}}const Hte=t=>e=>ET(e)&&t(e,em(e));function kh(t,e,n,r){return Kh(t,e,Hte(n),r)}const yR=(t,e)=>Math.abs(t-e);function Ute(t,e){const n=yR(t.x,e.x),r=yR(t.y,e.y);return Math.sqrt(n**2+r**2)}class k5{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=w1(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Ute(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=d,{timestamp:v}=fr;this.history.push({...y,timestamp:v});const{onStart:w,onMove:b}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=v1(h,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=w1(d.type==="pointercancel"?this.lastMoveEventInfo:v1(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,w),y&&y(d,w)},!ET(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=em(e),a=v1(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=fr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,w1(a,this.history)),this.removeListeners=Jp(kh(this.contextWindow,"pointermove",this.handlePointerMove),kh(this.contextWindow,"pointerup",this.handlePointerUp),kh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ll(this.updatePoint)}}function v1(t,e){return e?{point:e(t.point)}:t}function xR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function w1({point:t},e){return{point:t,delta:xR(t,S5(e)),offset:xR(t,qte(e)),velocity:Yte(e,.1)}}function qte(t){return t[0]}function S5(t){return t[t.length-1]}function Yte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=S5(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qo(e)));)n--;if(!r)return{x:0,y:0};const s=Jo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const C5=1e-4,Gte=1-C5,Kte=1+C5,E5=.01,Xte=0-E5,Zte=0+E5;function Pi(t){return t.max-t.min}function Qte(t,e,n){return Math.abs(t-e)<=n}function vR(t,e,n,r=.5){t.origin=r,t.originPoint=kn(e.min,e.max,t.origin),t.scale=Pi(n)/Pi(e),t.translate=kn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Gte&&t.scale<=Kte||isNaN(t.scale))&&(t.scale=1),(t.translate>=Xte&&t.translate<=Zte||isNaN(t.translate))&&(t.translate=0)}function Sh(t,e,n,r){vR(t.x,e.x,n.x,r?r.originX:void 0),vR(t.y,e.y,n.y,r?r.originY:void 0)}function wR(t,e,n){t.min=n.min+e.min,t.max=t.min+Pi(e)}function Jte(t,e,n){wR(t.x,e.x,n.x),wR(t.y,e.y,n.y)}function bR(t,e,n){t.min=e.min-n.min,t.max=t.min+Pi(e)}function Ch(t,e,n){bR(t.x,e.x,n.x),bR(t.y,e.y,n.y)}function ene(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kn(n,t,r.max):Math.min(t,n)),t}function kR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tne(t,{top:e,left:n,bottom:r,right:i}){return{x:kR(t.x,n,i),y:kR(t.y,e,r)}}function SR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nne(t,e){return{x:SR(t.x,e.x),y:SR(t.y,e.y)}}function rne(t,e){let n=.5;const r=Pi(t),i=Pi(e);return i>r?n=id(e.min,e.max-r,t.min):r>i&&(n=id(t.min,t.max-i,e.min)),ra(0,1,n)}function ine(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const AC=.35;function sne(t=AC){return t===!1?t=0:t===!0&&(t=AC),{x:CR(t,"left","right"),y:CR(t,"top","bottom")}}function CR(t,e,n){return{min:ER(t,e),max:ER(t,n)}}function ER(t,e){return typeof t=="number"?t:t[e]||0}const NR=()=>({translate:0,scale:1,origin:0,originPoint:0}),_u=()=>({x:NR(),y:NR()}),TR=()=>({min:0,max:0}),Tn=()=>({x:TR(),y:TR()});function Hi(t){return[t("x"),t("y")]}function N5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function one({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ane(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function b1(t){return t===void 0||t===1}function _C({scale:t,scaleX:e,scaleY:n}){return!b1(t)||!b1(e)||!b1(n)}function Zl(t){return _C(t)||T5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function T5(t){return AR(t.x)||AR(t.y)}function AR(t){return t&&t!=="0%"}function T0(t,e,n){const r=t-n,i=e*r;return n+i}function _R(t,e,n,r,i){return i!==void 0&&(t=T0(t,i,r)),T0(t,n,r)+e}function MC(t,e=0,n=1,r,i){t.min=_R(t.min,e,n,r,i),t.max=_R(t.max,e,n,r,i)}function A5(t,{x:e,y:n}){MC(t.x,e.translate,e.scale,e.originPoint),MC(t.y,n.translate,n.scale,n.originPoint)}const MR=.999999999999,PR=1.0000000000001;function lne(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A5(t,o)),r&&Zl(s.latestValues)&&Pu(t,s.latestValues))}e.x<PR&&e.x>MR&&(e.x=1),e.y<PR&&e.y>MR&&(e.y=1)}function Mu(t,e){t.min=t.min+e,t.max=t.max+e}function RR(t,e,n,r,i=.5){const s=kn(t.min,t.max,i);MC(t,e,n,s,r)}function Pu(t,e){RR(t.x,e.x,e.scaleX,e.scale,e.originX),RR(t.y,e.y,e.scaleY,e.scale,e.originY)}function _5(t,e){return N5(ane(t.getBoundingClientRect(),e))}function cne(t,e,n){const r=_5(t,n),{scroll:i}=e;return i&&(Mu(r.x,i.offset.x),Mu(r.y,i.offset.y)),r}const M5=({current:t})=>t?t.ownerDocument.defaultView:null,une=new WeakMap;class dne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(em(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ree(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(w=>{let b=this.getAxisMotionValue(w).get()||0;if(ro.test(b)){const{projection:k}=this.visualElement;if(k&&k.layout){const C=k.layout.layoutBox[w];C&&(b=Pi(C)*(parseFloat(b)/100))}}this.originPoint[w]=b}),y&&fn.postRender(()=>y(u,d)),wC(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=d;if(m&&this.currentDirection===null){this.currentDirection=fne(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Hi(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new k5(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:M5(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&fn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Xg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ene(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Tu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=tne(i.layoutBox,n):this.constraints=!1,this.elastic=sne(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ine(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Tu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=cne(r,i.root,this.visualElement.getTransformPagePoint());let o=nne(i.layout.layoutBox,s);if(n){const a=n(one(o));this.hasMutatedConstraints=!!a,a&&(o=N5(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Hi(u=>{if(!Xg(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return wC(this.visualElement,e),r.start(LT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hi(n=>{const{drag:r}=this.getProps();if(!Xg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-kn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=rne({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hi(o=>{if(!Xg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(kn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;une.set(this.visualElement,this);const e=this.visualElement.current,n=kh(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fn.read(r);const o=Kh(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Hi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=AC,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Xg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hne extends El{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new dne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const OR=t=>(e,n)=>{t&&fn.postRender(()=>t(e,n))};class pne extends El{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new k5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:M5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OR(e),onStart:OR(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&fn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=kh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ky={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $f={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(lt.test(t))t=parseFloat(t);else return t;const n=DR(t,e.target.x),r=DR(t,e.target.y);return`${n}% ${r}%`}},mne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=cl.parse(t);if(i.length>5)return r;const s=cl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=kn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class gne extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;IJ(yne),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ky.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||fn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function P5(t){const[e,n]=h4(),r=S.useContext(rT);return g.jsx(gne,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(b4),isPresent:e,safeToRemove:n})}const yne={borderRadius:{...$f,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$f,borderTopRightRadius:$f,borderBottomLeftRadius:$f,borderBottomRightRadius:$f,boxShadow:mne};function xne(t,e,n){const r=Nr(t)?t:Yh(t);return r.start(LT("",r,e,n)),r.animation}function vne(t){return t instanceof SVGElement&&t.tagName!=="svg"}const wne=(t,e)=>t.depth-e.depth;class bne{constructor(){this.children=[],this.isDirty=!1}add(e){NT(this.children,e),this.isDirty=!0}remove(e){TT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wne),this.isDirty=!1,this.children.forEach(e)}}function kne(t,e){const n=io.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ll(r),t(s-e))};return fn.read(r,!0),()=>ll(r)}const R5=["TopLeft","TopRight","BottomLeft","BottomRight"],Sne=R5.length,jR=t=>typeof t=="string"?parseFloat(t):t,IR=t=>typeof t=="number"||lt.test(t);function Cne(t,e,n,r,i,s){i?(t.opacity=kn(0,n.opacity!==void 0?n.opacity:1,Ene(r)),t.opacityExit=kn(e.opacity!==void 0?e.opacity:1,0,Nne(r))):s&&(t.opacity=kn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Sne;o++){const a=`border${R5[o]}Radius`;let l=LR(e,a),c=LR(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||IR(l)===IR(c)?(t[a]=Math.max(kn(jR(l),jR(c),r),0),(ro.test(c)||ro.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=kn(e.rotate||0,n.rotate||0,r))}function LR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ene=O5(0,.5,Z4),Nne=O5(.5,.95,Ni);function O5(t,e,n){return r=>r<t?0:r>e?1:n(id(t,e,r))}function FR(t,e){t.min=e.min,t.max=e.max}function Wi(t,e){FR(t.x,e.x),FR(t.y,e.y)}function BR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zR(t,e,n,r,i){return t-=e,t=T0(t,1/n,r),i!==void 0&&(t=T0(t,1/i,r)),t}function Tne(t,e=0,n=1,r=.5,i,s=t,o=t){if(ro.test(e)&&(e=parseFloat(e),e=kn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=kn(s.min,s.max,r);t===s&&(a-=e),t.min=zR(t.min,e,n,a,i),t.max=zR(t.max,e,n,a,i)}function $R(t,e,[n,r,i],s,o){Tne(t,e[n],e[r],e[i],e.scale,s,o)}const Ane=["x","scaleX","originX"],_ne=["y","scaleY","originY"];function VR(t,e,n,r){$R(t.x,e,Ane,n?n.x:void 0,r?r.x:void 0),$R(t.y,e,_ne,n?n.y:void 0,r?r.y:void 0)}function WR(t){return t.translate===0&&t.scale===1}function D5(t){return WR(t.x)&&WR(t.y)}function HR(t,e){return t.min===e.min&&t.max===e.max}function Mne(t,e){return HR(t.x,e.x)&&HR(t.y,e.y)}function UR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function j5(t,e){return UR(t.x,e.x)&&UR(t.y,e.y)}function qR(t){return Pi(t.x)/Pi(t.y)}function YR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Pne{constructor(){this.members=[]}add(e){NT(this.members,e),e.scheduleRender()}remove(e){if(TT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rne(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ql={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},oh=typeof window<"u"&&window.MotionDebug!==void 0,k1=["","X","Y","Z"],One={visibility:"hidden"},GR=1e3;let Dne=0;function S1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function I5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=H4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&I5(r)}function L5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Dne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,oh&&(Ql.totalNodes=Ql.resolvedTargetDeltas=Ql.recalculatedProjection=0),this.nodes.forEach(Lne),this.nodes.forEach(Vne),this.nodes.forEach(Wne),this.nodes.forEach(Fne),oh&&window.MotionDebug.record(Ql)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bne)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vne(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=kne(h,250),Ky.hasAnimatedSinceResize&&(Ky.hasAnimatedSinceResize=!1,this.nodes.forEach(XR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Gne,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),k=!this.targetLayout||!j5(this.targetLayout,y)||m,C=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||h&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const N={...kT(v,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||XR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KR);return}this.isUpdating||this.nodes.forEach(zne),this.isUpdating=!1,this.nodes.forEach($ne),this.nodes.forEach(jne),this.nodes.forEach(Ine),this.clearAllSnapshots();const a=io.now();fr.delta=ra(0,1e3/60,a-fr.timestamp),fr.timestamp=a,fr.isProcessing=!0,p1.update.process(fr),p1.preRender.process(fr),p1.render.process(fr),fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bne),this.sharedNodes.forEach(Une)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!D5(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Zl(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Kne(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Tn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Xne))){const{scroll:u}=this.root;u&&(Mu(l.x,u.offset.x),Mu(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Tn();if(Wi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Wi(l,o),Mu(l.x,d.offset.x),Mu(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Tn();Wi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pu(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zl(u.latestValues)&&Pu(l,u.latestValues)}return Zl(this.latestValues)&&Pu(l,this.latestValues),l}removeTransform(o){const a=Tn();Wi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zl(c.latestValues))continue;_C(c.latestValues)&&c.updateSnapshot();const u=Tn(),d=c.measurePageBox();Wi(u,d),VR(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Zl(this.latestValues)&&VR(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=fr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),A5(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Ch(this.relativeTargetOrigin,this.target,m.target),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}oh&&Ql.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_C(this.parent.latestValues)||T5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Wi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;lne(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BR(this.prevProjectionDelta.x,this.projectionDelta.x),BR(this.prevProjectionDelta.y,this.projectionDelta.y)),Sh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!YR(this.projectionDelta.x,this.prevProjectionDelta.x)||!YR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),oh&&Ql.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_u(),this.projectionDelta=_u(),this.projectionDeltaWithTransform=_u()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=_u();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Tn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,w=this.getStack(),b=!w||w.members.length<=1,k=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(Yne));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const _=N/1e3;ZR(d.x,o.x,_),ZR(d.y,o.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qne(this.relativeTarget,this.relativeTargetOrigin,h,_),C&&Mne(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Tn()),Wi(C,this.relativeTarget)),v&&(this.animationValues=u,Cne(u,c,this.latestValues,_,k,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{Ky.hasAnimatedSinceResize=!0,this.currentAnimation=xne(0,GR,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&F5(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Tn();const d=Pi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Pi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Wi(a,l),Pu(a,u),Sh(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Pne),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&S1("z",o,c,this.animationValues);for(let u=0;u<k1.length;u++)S1(`rotate${k1[u]}`,o,c,this.animationValues),S1(`skew${k1[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return One;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Yy(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Yy(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zl(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Rne(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in k0){if(h[v]===void 0)continue;const{correct:w,applyTo:b}=k0[v],k=c.transform==="none"?h[v]:w(h[v],d);if(b){const C=b.length;for(let N=0;N<C;N++)c[b[N]]=k}else c[v]=k}return this.options.layoutId&&(c.pointerEvents=d===this?Yy(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KR),this.root.sharedNodes.clear()}}}function jne(t){t.updateLayout()}function Ine(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Hi(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],m=Pi(h);h.min=r[d].min,h.max=h.min+m}):F5(s,n.layoutBox,r)&&Hi(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],m=Pi(r[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=_u();Sh(a,r,n.layoutBox);const l=_u();o?Sh(l,t.applyTransform(i,!0),n.measuredBox):Sh(l,r,n.layoutBox);const c=!D5(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const y=Tn();Ch(y,n.layoutBox,h.layoutBox);const v=Tn();Ch(v,r,m.layoutBox),j5(y,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Lne(t){oh&&Ql.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bne(t){t.clearSnapshot()}function KR(t){t.clearMeasurements()}function zne(t){t.isLayoutDirty=!1}function $ne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Vne(t){t.resolveTargetDelta()}function Wne(t){t.calcProjection()}function Hne(t){t.resetSkewAndRotation()}function Une(t){t.removeLeadSnapshot()}function ZR(t,e,n){t.translate=kn(e.translate,0,n),t.scale=kn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function QR(t,e,n,r){t.min=kn(e.min,n.min,r),t.max=kn(e.max,n.max,r)}function qne(t,e,n,r){QR(t.x,e.x,n.x,r),QR(t.y,e.y,n.y,r)}function Yne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Gne={duration:.45,ease:[.4,0,.1,1]},JR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eO=JR("applewebkit/")&&!JR("chrome/")?Math.round:Ni;function tO(t){t.min=eO(t.min),t.max=eO(t.max)}function Kne(t){tO(t.x),tO(t.y)}function F5(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qte(qR(e),qR(n),.2)}function Xne(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Zne=L5({attachResizeListener:(t,e)=>Kh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C1={current:void 0},B5=L5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!C1.current){const t=new Zne({});t.mount(window),t.setOptions({layoutScroll:!0}),C1.current=t}return C1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Qne={pan:{Feature:pne},drag:{Feature:hne,ProjectionNode:B5,MeasureLayout:P5}};function nO(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&fn.postRender(()=>s(e,em(e)))}class Jne extends El{mount(){const{current:e}=this.node;e&&(this.unmount=QJ(e,n=>(nO(this.node,n,"Start"),r=>nO(this.node,r,"End"))))}unmount(){}}class ere extends El{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jp(Kh(this.node.current,"focus",()=>this.onFocus()),Kh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rO(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&fn.postRender(()=>s(e,em(e)))}class tre extends El{mount(){const{current:e}=this.node;e&&(this.unmount=nee(e,n=>(rO(this.node,n,"Start"),(r,{success:i})=>rO(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const PC=new WeakMap,E1=new WeakMap,nre=t=>{const e=PC.get(t.target);e&&e(t)},rre=t=>{t.forEach(nre)};function ire({root:t,...e}){const n=t||document;E1.has(n)||E1.set(n,{});const r=E1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(rre,{root:t,...e})),r[i]}function sre(t,e,n){const r=ire(e);return PC.set(t,n),r.observe(t),()=>{PC.delete(t),r.unobserve(t)}}const ore={some:0,all:1};class are extends El{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ore[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return sre(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lre(e,n))&&this.startObserver()}unmount(){}}function lre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cre={inView:{Feature:are},tap:{Feature:tre},focus:{Feature:ere},hover:{Feature:Jne}},ure={layout:{ProjectionNode:B5,MeasureLayout:P5}},RC={current:null},z5={current:!1};function dre(){if(z5.current=!0,!!oT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>RC.current=t.matches;t.addListener(e),e()}else RC.current=!1}const fre=[...d5,Sr,cl],hre=t=>fre.find(u5(t)),iO=new WeakMap;function pre(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Nr(i))t.addValue(r,i);else if(Nr(s))t.addValue(r,Yh(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Yh(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const sO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mre{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=io.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,fn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=tv(n),this.isVariantNode=v4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const y=h[m];l[m]!==void 0&&Nr(y)&&y.set(l[m],!1)}}mount(e){this.current=e,iO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z5.current||dre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:RC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iO.delete(this.current),this.projection&&this.projection.unmount(),ll(this.notifyUpdate),ll(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jc.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sd){const n=sd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sO.length;r++){const i=sO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(l5(i)||J4(i))?i=parseFloat(i):!hre(i)&&cl.test(n)&&(i=s5(e,n)),this.setBaseTarget(e,Nr(i)?i.get():i)),Nr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=pT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Nr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new AT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $5 extends mre{constructor(){super(...arguments),this.KeyframeResolver=f5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gre(t){return window.getComputedStyle(t)}class yre extends $5{constructor(){super(...arguments),this.type="html",this.renderInstance=A4}readValueFromInstance(e,n){if(jc.has(n)){const r=OT(n);return r&&r.default||0}else{const r=gre(e),i=(E4(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _5(e,n)}build(e,n,r){yT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return bT(e,n,r)}}class xre extends $5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jc.has(n)){const r=OT(n);return r&&r.default||0}return n=_4.has(n)?n:dT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return R4(e,n,r)}build(e,n,r){xT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){M4(e,n,r,i)}mount(e){this.isSVGTag=wT(e.tagName),super.mount(e)}}const vre=(t,e)=>hT(t)?new xre(e):new yre(e,{allowProjection:t!==S.Fragment}),wre=UJ({...Wte,...cre,...Qne,...ure},vre),tm=oJ(wre),fo=S.forwardRef(({className:t,...e},n)=>g.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm border-spacing-0",t),...e}));fo.displayName="Table";const ho=S.forwardRef(({className:t,...e},n)=>g.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",t),...e}));ho.displayName="TableHeader";const po=S.forwardRef(({className:t,...e},n)=>g.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",t),...e}));po.displayName="TableBody";const bre=S.forwardRef(({className:t,...e},n)=>g.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));bre.displayName="TableFooter";const cn=S.forwardRef(({className:t,...e},n)=>g.jsx("tr",{ref:n,className:ve("border-b-[0.5px] border-mastra-border-1 transition-colors hover:bg-muted/50 data-[state=selected]:bg-mastra-bg-4/70",t),...e}));cn.displayName="TableRow";const V5=tm(cn);V5.displayName="MotionTableRow";const yt=S.forwardRef(({className:t,...e},n)=>g.jsx("th",{ref:n,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));yt.displayName="TableHead";const ot=S.forwardRef(({className:t,...e},n)=>g.jsx("td",{ref:n,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ot.displayName="TableCell";const kre=S.forwardRef(({className:t,...e},n)=>g.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",t),...e}));kre.displayName="TableCaption";function Sre(){const{agents:t,isLoading:e}=UF(),n=ko();return g.jsxs("div",{className:"flex flex-col h-full relative overflow-hidden",children:[g.jsx(Ei,{title:"Agents"}),g.jsx("main",{className:"flex-1 relative overflow-hidden",children:g.jsx(Bn,{className:"rounded-lg h-full",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"w-[50px]"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Name"}),g.jsx(yt,{className:"text-mastra-el-3 w-1/2",children:"Instruction"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Provider"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Model"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Action"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:e?g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-8"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})})]}):Object.entries(t).map(([r,i])=>{var s;return g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{children:g.jsx("div",{className:"h-8 w-full flex items-center justify-center",children:g.jsx(DF,{className:"h-4 w-4 text-mastra-el-5"})})}),g.jsx(ot,{className:"font-medium text-mastra-el-5",children:i.name}),g.jsx(ot,{className:"truncate w-1/2 max-w-[500px] text-mastra-el-5",children:i.instructions}),g.jsx(ot,{className:"text-mastra-el-5 text-sm",children:(s=i.provider)==null?void 0:s.toUpperCase()}),g.jsx(ot,{className:"text-mastra-el-5 text-sm",children:i.modelId}),g.jsx(ot,{className:"text-mastra-el-5 text-sm",children:g.jsx("span",{onClick:()=>{n(`/agents/${r}/chat`)},className:"hover:no-underline",children:g.jsxs(pt,{size:"sm",variant:"outline",children:[g.jsx(FX,{className:"h-4 w-4 text-inherit"}),"Chat with agent"]})})})]},r)})})]})})})]})}var N1={exports:{}},T1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO;function Cre(){if(oO)return T1;oO=1;var t=Dd();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var m=h(),y=r({inst:{value:m,getSnapshot:h}}),v=y[0].inst,w=y[1];return s(function(){v.value=m,v.getSnapshot=h,l(v)&&w({inst:v})},[d,m,h]),i(function(){return l(v)&&w({inst:v}),d(function(){l(v)&&w({inst:v})})},[d]),o(m),m}function l(d){var h=d.getSnapshot;d=d.value;try{var m=h();return!n(d,m)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return T1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,T1}var aO;function Ere(){return aO||(aO=1,N1.exports=Cre()),N1.exports}var Nre=Ere();const W5=0,H5=1,U5=2,lO=3;var cO=Object.prototype.hasOwnProperty;function OC(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&OC(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(cO.call(t,n)&&++r&&!cO.call(e,n)||!(n in e)||!OC(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const Uo=new WeakMap,tl=()=>{},zr=tl(),DC=Object,Lt=t=>t===zr,Us=t=>typeof t=="function",ul=(t,e)=>({...t,...e}),q5=t=>Us(t.then),A1={},Zg={},FT="undefined",nm=typeof window!=FT,jC=typeof document!=FT,Tre=nm&&"Deno"in window,Are=()=>nm&&typeof window.requestAnimationFrame!=FT,Y5=(t,e)=>{const n=Uo.get(t);return[()=>!Lt(e)&&t.get(e)||A1,r=>{if(!Lt(e)){const i=t.get(e);e in Zg||(Zg[e]=i),n[5](e,ul(i,r),i||A1)}},n[6],()=>!Lt(e)&&e in Zg?Zg[e]:!Lt(e)&&t.get(e)||A1]};let IC=!0;const _re=()=>IC,[LC,FC]=nm&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[tl,tl],Mre=()=>{const t=jC&&document.visibilityState;return Lt(t)||t!=="hidden"},Pre=t=>(jC&&document.addEventListener("visibilitychange",t),LC("focus",t),()=>{jC&&document.removeEventListener("visibilitychange",t),FC("focus",t)}),Rre=t=>{const e=()=>{IC=!0,t()},n=()=>{IC=!1};return LC("online",e),LC("offline",n),()=>{FC("online",e),FC("offline",n)}},Ore={isOnline:_re,isVisible:Mre},Dre={initFocus:Pre,initReconnect:Rre},uO=!ne.useId,Xh=!nm||Tre,jre=t=>Are()?window.requestAnimationFrame(t):setTimeout(t,1),_1=Xh?S.useEffect:S.useLayoutEffect,M1=typeof navigator<"u"&&navigator.connection,dO=!Xh&&M1&&(["slow-2g","2g"].includes(M1.effectiveType)||M1.saveData),Qg=new WeakMap,P1=(t,e)=>DC.prototype.toString.call(t)===`[object ${e}]`;let Ire=0;const BC=t=>{const e=typeof t,n=P1(t,"Date"),r=P1(t,"RegExp"),i=P1(t,"Object");let s,o;if(DC(t)===t&&!n&&!r){if(s=Qg.get(t),s)return s;if(s=++Ire+"~",Qg.set(t,s),Array.isArray(t)){for(s="@",o=0;o<t.length;o++)s+=BC(t[o])+",";Qg.set(t,s)}if(i){s="#";const a=DC.keys(t).sort();for(;!Lt(o=a.pop());)Lt(t[o])||(s+=o+":"+BC(t[o])+",");Qg.set(t,s)}}else s=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},BT=t=>{if(Us(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?BC(t):"",[t,e]};let Lre=0;const zC=()=>++Lre;async function G5(...t){const[e,n,r,i]=t,s=ul({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let l=s.optimisticData;const c=h=>typeof a=="function"?a(h):a!==!1,u=s.throwOnError;if(Us(n)){const h=n,m=[],y=e.keys();for(const v of y)!/^\$(inf|sub)\$/.test(v)&&h(e.get(v)._k)&&m.push(v);return Promise.all(m.map(d))}return d(n);async function d(h){const[m]=BT(h);if(!m)return;const[y,v]=Y5(e,m),[w,b,k,C]=Uo.get(e),N=()=>{const W=w[m];return(Us(s.revalidate)?s.revalidate(y().data,h):s.revalidate!==!1)&&(delete k[m],delete C[m],W&&W[0])?W[0](U5).then(()=>y().data):y().data};if(t.length<3)return N();let _=r,A;const M=zC();b[m]=[M,0];const R=!Lt(l),D=y(),O=D.data,B=D._c,F=Lt(B)?O:B;if(R&&(l=Us(l)?l(F,O):l,v({data:l,_c:F})),Us(_))try{_=_(F)}catch(W){A=W}if(_&&q5(_))if(_=await _.catch(W=>{A=W}),M!==b[m][0]){if(A)throw A;return _}else A&&R&&c(A)&&(o=!0,v({data:F,_c:zr}));if(o&&!A)if(Us(o)){const W=o(_,F);v({data:W,error:zr,_c:zr})}else v({data:_,error:zr,_c:zr});if(b[m][1]=zC(),Promise.resolve(N()).then(()=>{v({_c:zr})}),A){if(u)throw A;return}return _}}const fO=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Fre=(t,e)=>{if(!Uo.has(t)){const n=ul(Dre,e),r={},i=G5.bind(zr,t);let s=tl;const o={},a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},l=(u,d,h)=>{t.set(u,d);const m=o[u];if(m)for(const y of m)y(d,h)},c=()=>{if(!Uo.has(t)&&(Uo.set(t,[r,{},{},{},i,l,a]),!Xh)){const u=n.initFocus(setTimeout.bind(zr,fO.bind(zr,r,W5))),d=n.initReconnect(setTimeout.bind(zr,fO.bind(zr,r,H5)));s=()=>{u&&u(),d&&d(),Uo.delete(t)}}};return c(),[t,i,c,s]}return[t,Uo.get(t)[4]]},Bre=(t,e,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!Lt(s)&&o>s||setTimeout(r,a,i)},zre=OC,[K5,$re]=Fre(new Map),Vre=ul({onLoadingSlow:tl,onSuccess:tl,onError:tl,onErrorRetry:Bre,onDiscarded:tl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:dO?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:dO?5e3:3e3,compare:zre,isPaused:()=>!1,cache:K5,mutate:$re,fallback:{}},Ore),Wre=(t,e)=>{const n=ul(t,e);if(e){const{use:r,fallback:i}=t,{use:s,fallback:o}=e;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=ul(i,o))}return n},Hre=S.createContext({}),Ure="$inf$",X5=nm&&window.__SWR_DEVTOOLS_USE__,qre=X5?window.__SWR_DEVTOOLS_USE__:[],Yre=()=>{X5&&(window.__SWR_DEVTOOLS_REACT__=ne)},Gre=t=>Us(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],zT=()=>ul(Vre,S.useContext(Hre)),Kre=t=>(e,n,r)=>t(e,n&&((...s)=>{const[o]=BT(e),[,,,a]=Uo.get(K5);if(o.startsWith(Ure))return n(...s);const l=a[o];return Lt(l)?n(...s):(delete a[o],l)}),r),Xre=qre.concat(Kre),Zre=t=>function(...n){const r=zT(),[i,s,o]=Gre(n),a=Wre(r,o);let l=t;const{use:c}=a,u=(c||[]).concat(Xre);for(let d=u.length;d--;)l=u[d](l);return l(i,s||a.fetcher||null,a)},Qre=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};Yre();const R1=ne.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),O1={dedupe:!0},Jre=(t,e,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[m,y,v,w]=Uo.get(r),[b,k]=BT(t),C=S.useRef(!1),N=S.useRef(!1),_=S.useRef(b),A=S.useRef(e),M=S.useRef(n),R=()=>M.current,D=()=>R().isVisible()&&R().isOnline(),[O,B,F,W]=Y5(r,b),I=S.useRef({}).current,Y=Lt(o)?Lt(n.fallback)?zr:n.fallback[b]:o,V=(be,Pe)=>{for(const Ze in I){const Qe=Ze;if(Qe==="data"){if(!i(be[Qe],Pe[Qe])&&(!Lt(be[Qe])||!i(X,Pe[Qe])))return!1}else if(Pe[Qe]!==be[Qe])return!1}return!0},G=S.useMemo(()=>{const be=!b||!e?!1:Lt(a)?R().isPaused()||s?!1:l!==!1:a,Pe=ce=>{const ke=ul(ce);return delete ke._k,be?{isValidating:!0,isLoading:!0,...ke}:ke},Ze=O(),Qe=W(),Dt=Pe(Ze),ee=Ze===Qe?Dt:Pe(Qe);let se=Dt;return[()=>{const ce=Pe(O());return V(ce,se)?(se.data=ce.data,se.isLoading=ce.isLoading,se.isValidating=ce.isValidating,se.error=ce.error,se):(se=ce,ce)},()=>ee]},[r,b]),H=Nre.useSyncExternalStore(S.useCallback(be=>F(b,(Pe,Ze)=>{V(Ze,Pe)||be()}),[r,b]),G[0],G[1]),$=!C.current,L=m[b]&&m[b].length>0,q=H.data,U=Lt(q)?Y&&q5(Y)?R1(Y):Y:q,j=H.error,K=S.useRef(U),X=h?Lt(q)?Lt(K.current)?U:K.current:q:U,J=L&&!Lt(j)?!1:$&&!Lt(a)?a:R().isPaused()?!1:s?Lt(U)?!1:l:Lt(U)||l,Z=!!(b&&e&&$&&J),oe=Lt(H.isValidating)?Z:H.isValidating,fe=Lt(H.isLoading)?Z:H.isLoading,me=S.useCallback(async be=>{const Pe=A.current;if(!b||!Pe||N.current||R().isPaused())return!1;let Ze,Qe,Dt=!0;const ee=be||{},se=!v[b]||!ee.dedupe,ce=()=>uO?!N.current&&b===_.current&&C.current:b===_.current,ke={isValidating:!1,isLoading:!1},Ce=()=>{B(ke)},ye=()=>{const $e=v[b];$e&&$e[1]===Qe&&delete v[b]},ze={isValidating:!0};Lt(O().data)&&(ze.isLoading=!0);try{if(se&&(B(ze),n.loadingTimeout&&Lt(O().data)&&setTimeout(()=>{Dt&&ce()&&R().onLoadingSlow(b,n)},n.loadingTimeout),v[b]=[Pe(k),zC()]),[Ze,Qe]=v[b],Ze=await Ze,se&&setTimeout(ye,n.dedupingInterval),!v[b]||v[b][1]!==Qe)return se&&ce()&&R().onDiscarded(b),!1;ke.error=zr;const $e=y[b];if(!Lt($e)&&(Qe<=$e[0]||Qe<=$e[1]||$e[1]===0))return Ce(),se&&ce()&&R().onDiscarded(b),!1;const ae=O().data;ke.data=i(ae,Ze)?ae:Ze,se&&ce()&&R().onSuccess(Ze,b,n)}catch($e){ye();const ae=R(),{shouldRetryOnError:he}=ae;ae.isPaused()||(ke.error=$e,se&&ce()&&(ae.onError($e,b,ae),(he===!0||Us(he)&&he($e))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||D())&&ae.onErrorRetry($e,b,ae,We=>{const et=m[b];et&&et[0]&&et[0](lO,We)},{retryCount:(ee.retryCount||0)+1,dedupe:!0})))}return Dt=!1,Ce(),!0},[b,r]),Te=S.useCallback((...be)=>G5(r,_.current,...be),[]);if(_1(()=>{A.current=e,M.current=n,Lt(q)||(K.current=q)}),_1(()=>{if(!b)return;const be=me.bind(zr,O1);let Pe=0;const Qe=Qre(b,m,(Dt,ee={})=>{if(Dt==W5){const se=Date.now();R().revalidateOnFocus&&se>Pe&&D()&&(Pe=se+R().focusThrottleInterval,be())}else if(Dt==H5)R().revalidateOnReconnect&&D()&&be();else{if(Dt==U5)return me();if(Dt==lO)return me(ee)}});return N.current=!1,_.current=b,C.current=!0,B({_k:k}),J&&(Lt(U)||Xh?be():jre(be)),()=>{N.current=!0,Qe()}},[b]),_1(()=>{let be;function Pe(){const Qe=Us(c)?c(O().data):c;Qe&&be!==-1&&(be=setTimeout(Ze,Qe))}function Ze(){!O().error&&(u||R().isVisible())&&(d||R().isOnline())?me(O1).then(Pe):Pe()}return Pe(),()=>{be&&(clearTimeout(be),be=-1)}},[c,u,d,b]),S.useDebugValue(X),s&&Lt(U)&&b){if(!uO&&Xh)throw new Error("Fallback data is required when using Suspense in SSR.");A.current=e,M.current=n,N.current=!1;const be=w[b];if(!Lt(be)){const Pe=Te(be);R1(Pe)}if(Lt(j)){const Pe=me(O1);Lt(X)||(Pe.status="fulfilled",Pe.value=!0),R1(Pe)}else throw j}return{mutate:Te,get data(){return I.data=!0,X},get error(){return I.error=!0,j},get isValidating(){return I.isValidating=!0,oe},get isLoading(){return I.isLoading=!0,fe}}},$T=Zre(Jre);function VT({text:t,copyMessage:e="Copied to clipboard!"}){const[n,r]=S.useState(!1),i=S.useRef(null),s=S.useCallback(()=>{navigator.clipboard.writeText(t).then(()=>{gn.success(e),r(!0),i.current&&(clearTimeout(i.current),i.current=null),i.current=setTimeout(()=>{r(!1)},2e3)}).catch(()=>{gn.error("Failed to copy to clipboard.")})},[t,e]);return{isCopied:n,handleCopy:s}}function A0({content:t,copyMessage:e,classname:n}){const{isCopied:r,handleCopy:i}=VT({text:t,copyMessage:e});return g.jsxs(pt,{variant:"ghost",size:"icon",className:ve("relative h-6 w-6",n),"aria-label":"Copy to clipboard",onClick:i,children:[g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx(KN,{className:ve("h-4 w-4 transition-transform ease-in-out",r?"scale-100":"scale-0")})}),g.jsx(IF,{className:ve("h-4 w-4 transition-transform ease-in-out",r?"scale-0":"scale-100")})]})}function eie(t,e,n){let r=i=>t(i,...e);return n===void 0?r:Object.assign(r,{lazy:n,lazyArgs:e})}function Z5(t,e,n){let r=t.length-e.length;if(r===0)return t(...e);if(r===1)return eie(t,e,n);throw new Error("Wrong number of arguments")}function hO(...t){return Z5(tie,t)}var tie=(t,e)=>t.length>=e;function pO(...t){return Z5(nie,t)}function nie(t,e){if(!hO(e,1))return{...t};if(!hO(e,2)){let{[e[0]]:r,...i}=t;return i}let n={...t};for(let r of e)delete n[r];return n}const WT=ne.forwardRef((t,e)=>t.file.type.startsWith("image/")?g.jsx(Q5,{...t,ref:e}):t.file.type.startsWith("text/")||t.file.name.endsWith(".txt")||t.file.name.endsWith(".md")?g.jsx(J5,{...t,ref:e}):g.jsx(eB,{...t,ref:e}));WT.displayName="FilePreview";const Q5=ne.forwardRef(({file:t,onRemove:e},n)=>g.jsxs(tm.div,{ref:n,className:"relative flex max-w-[200px] rounded-md border p-1.5 pr-2 text-xs",layout:!0,initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},children:[g.jsxs("div",{className:"flex w-full items-center space-x-2",children:[g.jsx("img",{alt:`Attachment ${t.name}`,className:"grid h-10 w-10 shrink-0 place-items-center rounded-sm border bg-muted object-cover",src:URL.createObjectURL(t)}),g.jsx("span",{className:"w-full truncate text-muted-foreground",children:t.name})]}),e?g.jsx("button",{className:"absolute -right-2 -top-2 flex h-4 w-4 items-center justify-center rounded-full border bg-background",type:"button",onClick:e,"aria-label":"Remove attachment",children:g.jsx(Cl,{className:"h-2.5 w-2.5"})}):null]}));Q5.displayName="ImageFilePreview";const J5=ne.forwardRef(({file:t,onRemove:e},n)=>{const[r,i]=ne.useState("");return S.useEffect(()=>{const s=new FileReader;s.onload=o=>{var l;const a=(l=o.target)==null?void 0:l.result;i(a.slice(0,50)+(a.length>50?"...":""))},s.readAsText(t)},[t]),g.jsxs(tm.div,{ref:n,className:"relative flex max-w-[200px] rounded-md border p-1.5 pr-2 text-xs",layout:!0,initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},children:[g.jsxs("div",{className:"flex w-full items-center space-x-2",children:[g.jsx("div",{className:"grid h-10 w-10 shrink-0 place-items-center rounded-sm border bg-muted p-0.5",children:g.jsx("div",{className:"h-full w-full overflow-hidden text-[6px] leading-none text-muted-foreground",children:r||"Loading..."})}),g.jsx("span",{className:"w-full truncate text-muted-foreground",children:t.name})]}),e?g.jsx("button",{className:"absolute -right-2 -top-2 flex h-4 w-4 items-center justify-center rounded-full border bg-background",type:"button",onClick:e,"aria-label":"Remove attachment",children:g.jsx(Cl,{className:"h-2.5 w-2.5"})}):null]})});J5.displayName="TextFilePreview";const eB=ne.forwardRef(({file:t,onRemove:e},n)=>g.jsxs(tm.div,{ref:n,className:"relative flex max-w-[200px] rounded-md border p-1.5 pr-2 text-xs",layout:!0,initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},children:[g.jsxs("div",{className:"flex w-full items-center space-x-2",children:[g.jsx("div",{className:"grid h-10 w-10 shrink-0 place-items-center rounded-sm border bg-muted",children:g.jsx(WX,{className:"h-6 w-6 text-foreground"})}),g.jsx("span",{className:"w-full truncate text-muted-foreground",children:t.name})]}),e?g.jsx("button",{className:"absolute -right-2 -top-2 flex h-4 w-4 items-center justify-center rounded-full border bg-background",type:"button",onClick:e,"aria-label":"Remove attachment",children:g.jsx(Cl,{className:"h-2.5 w-2.5"})}):null]}));eB.displayName="GenericFilePreview";function rie({ref:t,maxHeight:e=Number.MAX_SAFE_INTEGER,borderWidth:n=0,dependencies:r}){const i=S.useRef(null);S.useLayoutEffect(()=>{if(!t.current)return;const s=t.current,o=n*2;i.current===null&&(i.current=s.scrollHeight-o),s.style.removeProperty("height");const a=s.scrollHeight,l=Math.min(a,e),c=Math.max(l,i.current);s.style.height=`${c+o}px`},[e,t,...r])}function tB({placeholder:t="Ask AI...",className:e,onKeyDown:n,submitOnEnter:r=!0,stop:i,isGenerating:s,...o}){var b;const[a,l]=S.useState(!1),c=k=>{o.allowAttachments&&o.setFiles(C=>C===null?k:k===null?C:[...C,...k])},u=k=>{o.allowAttachments===!0&&(k.preventDefault(),l(!0))},d=k=>{o.allowAttachments===!0&&(k.preventDefault(),l(!1))},h=k=>{if(l(!1),o.allowAttachments!==!0)return;k.preventDefault();const C=k.dataTransfer;C.files.length&&c(Array.from(C.files))},m=k=>{var _;const C=(_=k.clipboardData)==null?void 0:_.items;if(!C)return;const N=Array.from(C).map(A=>A.getAsFile()).filter(A=>A!==null);o.allowAttachments&&N.length>0&&c(N)},y=k=>{var C;r&&k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),(C=k.currentTarget.form)==null||C.requestSubmit()),n==null||n(k)},v=S.useRef(null),w=o.allowAttachments&&o.files&&o.files.length>0;return rie({ref:v,maxHeight:240,borderWidth:1,dependencies:[o.value,w]}),g.jsxs("div",{className:"relative flex w-full",onDragOver:u,onDragLeave:d,onDrop:h,children:[g.jsx("textarea",{"aria-label":"Write your prompt here",placeholder:t,ref:v,onPaste:m,onKeyDown:y,className:ve("w-full grow resize-none rounded-xl border border-input bg-transparent p-3 pr-24 text-sm ring-offset-background transition-[border] placeholder:text-muted-foreground focus-visible:border-primary focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",w&&"pb-16",e),...o.allowAttachments?pO(o,["allowAttachments","files","setFiles"]):pO(o,["allowAttachments"])}),o.allowAttachments&&g.jsx("div",{className:"absolute inset-x-3 bottom-0 overflow-x-scroll py-3",children:g.jsx("div",{className:"flex space-x-3",children:g.jsx(aT,{mode:"popLayout",children:(b=o.files)==null?void 0:b.map(k=>g.jsx(WT,{file:k,onRemove:()=>{o.setFiles(C=>{if(!C)return null;const N=Array.from(C).filter(_=>_!==k);return N.length===0?null:N})}},k.name+String(k.lastModified)))})})}),g.jsxs("div",{className:"absolute right-3 top-3 flex gap-2",children:[o.allowAttachments&&g.jsx(pt,{type:"button",size:"icon",variant:"outline",className:"h-8 w-8","aria-label":"Attach a file",onClick:async()=>{const k=await sie();c(k)},children:g.jsx(LF,{className:"h-4 w-4"})}),s&&i?g.jsx(pt,{type:"button",size:"icon",className:"h-8 w-8","aria-label":"Stop generating",onClick:i,children:g.jsx(GX,{className:"h-3 w-3 animate-pulse",fill:"currentColor"})}):g.jsx(pt,{type:"submit",size:"icon",className:"h-8 w-8 transition-opacity","aria-label":"Send message",disabled:o.value===""||s,children:g.jsx(LX,{className:"h-5 w-5"})})]}),o.allowAttachments&&g.jsx(iie,{isDragging:a})]})}tB.displayName="MessageInput";function iie({isDragging:t}){return g.jsx(aT,{children:t&&g.jsxs(tm.div,{className:"pointer-events-none absolute inset-0 flex items-center justify-center space-x-2 rounded-xl border border-dashed border-border bg-background text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},"aria-hidden":!0,children:[g.jsx(LF,{className:"h-4 w-4"}),g.jsx("span",{children:"Drop your files here to attach them."})]})})}function sie(){const t=document.createElement("input");return t.type="file",t.multiple=!0,t.accept="*/*",t.click(),new Promise(e=>{t.onchange=n=>{const r=n.currentTarget.files;if(r){e(Array.from(r));return}e(null)}})}function oie(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const aie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cie={};function mO(t,e){return(cie.jsx?lie:aie).test(t)}const uie=/[ \t\n\f\r]/g;function die(t){return typeof t=="object"?t.type==="text"?gO(t.value):!1:gO(t)}function gO(t){return t.replace(uie,"")===""}class rm{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}rm.prototype.property={};rm.prototype.normal={};rm.prototype.space=null;function nB(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new rm(n,r,e)}function $C(t){return t.toLowerCase()}class rs{constructor(e,n){this.property=e,this.attribute=n}}rs.prototype.space=null;rs.prototype.boolean=!1;rs.prototype.booleanish=!1;rs.prototype.overloadedBoolean=!1;rs.prototype.number=!1;rs.prototype.commaSeparated=!1;rs.prototype.spaceSeparated=!1;rs.prototype.commaOrSpaceSeparated=!1;rs.prototype.mustUseProperty=!1;rs.prototype.defined=!1;let fie=0;const gt=Ic(),Dn=Ic(),rB=Ic(),Ae=Ic(),Jt=Ic(),$u=Ic(),wi=Ic();function Ic(){return 2**++fie}const VC=Object.freeze(Object.defineProperty({__proto__:null,boolean:gt,booleanish:Dn,commaOrSpaceSeparated:wi,commaSeparated:$u,number:Ae,overloadedBoolean:rB,spaceSeparated:Jt},Symbol.toStringTag,{value:"Module"})),D1=Object.keys(VC);class HT extends rs{constructor(e,n,r,i){let s=-1;if(super(e,n),yO(this,"space",i),typeof r=="number")for(;++s<D1.length;){const o=D1[s];yO(this,D1[s],(r&VC[o])===VC[o])}}}HT.prototype.defined=!0;function yO(t,e,n){n&&(t[e]=n)}const hie={}.hasOwnProperty;function Vd(t){const e={},n={};let r;for(r in t.properties)if(hie.call(t.properties,r)){const i=t.properties[r],s=new HT(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[$C(r)]=r,n[$C(s.attribute)]=r}return new rm(e,n,t.space)}const iB=Vd({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),sB=Vd({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function oB(t,e){return e in t?t[e]:e}function aB(t,e){return oB(t,e.toLowerCase())}const lB=Vd({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:aB,properties:{xmlns:null,xmlnsXLink:null}}),cB=Vd({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Dn,ariaAutoComplete:null,ariaBusy:Dn,ariaChecked:Dn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Jt,ariaCurrent:null,ariaDescribedBy:Jt,ariaDetails:null,ariaDisabled:Dn,ariaDropEffect:Jt,ariaErrorMessage:null,ariaExpanded:Dn,ariaFlowTo:Jt,ariaGrabbed:Dn,ariaHasPopup:null,ariaHidden:Dn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Jt,ariaLevel:Ae,ariaLive:null,ariaModal:Dn,ariaMultiLine:Dn,ariaMultiSelectable:Dn,ariaOrientation:null,ariaOwns:Jt,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:Dn,ariaReadOnly:Dn,ariaRelevant:null,ariaRequired:Dn,ariaRoleDescription:Jt,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:Dn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null}}),pie=Vd({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:aB,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$u,acceptCharset:Jt,accessKey:Jt,action:null,allow:null,allowFullScreen:gt,allowPaymentRequest:gt,allowUserMedia:gt,alt:null,as:null,async:gt,autoCapitalize:null,autoComplete:Jt,autoFocus:gt,autoPlay:gt,blocking:Jt,capture:null,charSet:null,checked:gt,cite:null,className:Jt,cols:Ae,colSpan:null,content:null,contentEditable:Dn,controls:gt,controlsList:Jt,coords:Ae|$u,crossOrigin:null,data:null,dateTime:null,decoding:null,default:gt,defer:gt,dir:null,dirName:null,disabled:gt,download:rB,draggable:Dn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:gt,formTarget:null,headers:Jt,height:Ae,hidden:gt,high:Ae,href:null,hrefLang:null,htmlFor:Jt,httpEquiv:Jt,id:null,imageSizes:null,imageSrcSet:null,inert:gt,inputMode:null,integrity:null,is:null,isMap:gt,itemId:null,itemProp:Jt,itemRef:Jt,itemScope:gt,itemType:Jt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:gt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:gt,muted:gt,name:null,nonce:null,noModule:gt,noValidate:gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:gt,optimum:Ae,pattern:null,ping:Jt,placeholder:null,playsInline:gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:gt,referrerPolicy:null,rel:Jt,required:gt,reversed:gt,rows:Ae,rowSpan:Ae,sandbox:Jt,scope:null,scoped:gt,seamless:gt,selected:gt,shadowRootClonable:gt,shadowRootDelegatesFocus:gt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:Dn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:gt,useMap:null,value:Dn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Jt,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:gt,declare:gt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:gt,noHref:gt,noShade:gt,noWrap:gt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:Dn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:gt,disableRemotePlayback:gt,prefix:null,property:null,results:Ae,security:null,unselectable:null}}),mie=Vd({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:oB,properties:{about:wi,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Jt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$u,g2:$u,glyphName:$u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:wi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Jt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wi,rev:wi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wi,requiredFeatures:wi,requiredFonts:wi,requiredFormats:wi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:wi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wi,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),gie=/^data[-\w.:]+$/i,xO=/-[a-z]/g,yie=/[A-Z]/g;function xie(t,e){const n=$C(e);let r=e,i=rs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gie.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(xO,wie);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!xO.test(s)){let o=s.replace(yie,vie);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=HT}return new i(r,e)}function vie(t){return"-"+t.toLowerCase()}function wie(t){return t.charAt(1).toUpperCase()}const bie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},kie=nB([sB,iB,lB,cB,pie],"html"),UT=nB([sB,iB,lB,cB,mie],"svg");function Sie(t){return t.join(" ").trim()}var hu={},j1,vO;function Cie(){if(vO)return j1;vO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",h="comment",m="declaration";j1=function(v,w){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];w=w||{};var b=1,k=1;function C(W){var I=W.match(e);I&&(b+=I.length);var Y=W.lastIndexOf(l);k=~Y?W.length-Y:k+W.length}function N(){var W={line:b,column:k};return function(I){return I.position=new _(W),R(),I}}function _(W){this.start=W,this.end={line:b,column:k},this.source=w.source}_.prototype.content=v;function A(W){var I=new Error(w.source+":"+b+":"+k+": "+W);if(I.reason=W,I.filename=w.source,I.line=b,I.column=k,I.source=v,!w.silent)throw I}function M(W){var I=W.exec(v);if(I){var Y=I[0];return C(Y),v=v.slice(Y.length),I}}function R(){M(n)}function D(W){var I;for(W=W||[];I=O();)I!==!1&&W.push(I);return W}function O(){var W=N();if(!(c!=v.charAt(0)||u!=v.charAt(1))){for(var I=2;d!=v.charAt(I)&&(u!=v.charAt(I)||c!=v.charAt(I+1));)++I;if(I+=2,d===v.charAt(I-1))return A("End of comment missing");var Y=v.slice(2,I-2);return k+=2,C(Y),v=v.slice(I),k+=2,W({type:h,comment:Y})}}function B(){var W=N(),I=M(r);if(I){if(O(),!M(i))return A("property missing ':'");var Y=M(s),V=W({type:m,property:y(I[0].replace(t,d)),value:Y?y(Y[0].replace(t,d)):d});return M(o),V}}function F(){var W=[];D(W);for(var I;I=B();)I!==!1&&(W.push(I),D(W));return W}return R(),F()};function y(v){return v?v.replace(a,d):d}return j1}var wO;function Eie(){if(wO)return hu;wO=1;var t=hu&&hu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.default=n;var e=t(Cie());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,u=l.value;a?i(c,u,l):u&&(s=s||{},s[c]=u)}}),s}return hu}var Nie=Eie();const bO=Od(Nie),Tie=bO.default||bO,uB=dB("end"),qT=dB("start");function dB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Aie(t){const e=qT(t),n=uB(t);if(e&&n)return{start:e,end:n}}function Eh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?kO(t.position):"start"in t||"end"in t?kO(t):"line"in t||"column"in t?WC(t):""}function WC(t){return SO(t&&t.line)+":"+SO(t&&t.column)}function kO(t){return WC(t&&t.start)+"-"+WC(t&&t.end)}function SO(t){return t&&typeof t=="number"?t:1}class Rr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Eh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Rr.prototype.file="";Rr.prototype.name="";Rr.prototype.reason="";Rr.prototype.message="";Rr.prototype.stack="";Rr.prototype.column=void 0;Rr.prototype.line=void 0;Rr.prototype.ancestors=void 0;Rr.prototype.cause=void 0;Rr.prototype.fatal=void 0;Rr.prototype.place=void 0;Rr.prototype.ruleId=void 0;Rr.prototype.source=void 0;const YT={}.hasOwnProperty,_ie=new Map,Mie=/[A-Z]/g,Pie=/-([a-z])/g,Rie=new Set(["table","tbody","thead","tfoot","tr"]),Oie=new Set(["td","th"]),fB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Die(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vie(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$ie(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?UT:kie,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=hB(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function hB(t,e,n){if(e.type==="element")return jie(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Iie(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Fie(t,e,n);if(e.type==="mdxjsEsm")return Lie(t,e);if(e.type==="root")return Bie(t,e,n);if(e.type==="text")return zie(t,e)}function jie(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=UT,t.schema=i),t.ancestors.push(e);const s=mB(t,e.tagName,!1),o=Wie(t,e);let a=KT(t,e);return Rie.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!die(l):!0})),pB(t,o,s,e),GT(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Iie(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Zh(t,e.position)}function Lie(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Zh(t,e.position)}function Fie(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=UT,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:mB(t,e.name,!0),o=Hie(t,e),a=KT(t,e);return pB(t,o,s,e),GT(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Bie(t,e,n){const r={};return GT(r,KT(t,e)),t.create(e,t.Fragment,r,n)}function zie(t,e){return e.value}function pB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function GT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function $ie(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function Vie(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=qT(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Wie(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&YT.call(e.properties,i)){const s=Uie(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Oie.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hie(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Zh(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Zh(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function KT(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:_ie;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=hB(t,s,o);a!==void 0&&n.push(a)}return n}function Uie(t,e,n){const r=xie(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?oie(n):Sie(n)),r.property==="style"){let i=typeof n=="object"?n:qie(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Yie(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?bie[r.property]||r.property:r.attribute,n]}}function qie(t,e){const n={};try{Tie(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new Rr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=fB+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Pie,Kie)),n[o]=s}}function mB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=mO(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=mO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return YT.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Zh(t)}function Zh(t,e){const n=new Rr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=fB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Yie(t){const e={};let n;for(n in t)YT.call(t,n)&&(e[Gie(n)]=t[n]);return e}function Gie(t){let e=t.replace(Mie,Xie);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Kie(t,e){return e.toUpperCase()}function Xie(t){return"-"+t.toLowerCase()}const I1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Zie={};function XT(t,e){const n=Zie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gB(t,r,i)}function gB(t,e,n){if(Qie(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return CO(t.children,e,n)}return Array.isArray(t)?CO(t,e,n):""}function CO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=gB(t[i],e,n);return r.join("")}function Qie(t){return!!(t&&typeof t=="object")}const EO=document.createElement("i");function ZT(t){const e="&"+t+";";EO.innerHTML=e;const n=EO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ti(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function qi(t,e){return t.length>0?(Ti(t,t.length,0,e),t):e}const NO={}.hasOwnProperty;function yB(t){const e={};let n=-1;for(;++n<t.length;)Jie(e,t[n]);return e}function Jie(t,e){let n;for(n in e){const i=(NO.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){NO.call(i,o)||(i[o]=[]);const a=s[o];ese(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ese(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ti(t,0,0,r)}function xB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function bs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $r=Nl(/[A-Za-z]/),Tr=Nl(/[\dA-Za-z]/),tse=Nl(/[#-'*+\--9=?A-Z^-~]/);function _0(t){return t!==null&&(t<32||t===127)}const HC=Nl(/\d/),nse=Nl(/[\dA-Fa-f]/),rse=Nl(/[!-/:-@[-`{-~]/);function it(t){return t!==null&&t<-2}function Xt(t){return t!==null&&(t<0||t===32)}function Tt(t){return t===-2||t===-1||t===32}const iv=Nl(new RegExp("\\p{P}|\\p{S}","u")),gc=Nl(/\s/);function Nl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Wd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Tr(t.charCodeAt(n+1))&&Tr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Pt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Tt(l)?(t.enter(n),a(l)):e(l)}function a(l){return Tt(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const ise={tokenize:sse};function sse(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Pt(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return it(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const ose={tokenize:ase},TO={tokenize:lse};function ase(t){const e=this,n=[];let r=0,i,s,o;return a;function a(C){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,l,c)(C)}return c(C)}function l(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();const N=e.events.length;let _=N,A;for(;_--;)if(e.events[_][0]==="exit"&&e.events[_][1].type==="chunkFlow"){A=e.events[_][1].end;break}b(r);let M=N;for(;M<e.events.length;)e.events[M][1].end={...A},M++;return Ti(e.events,_+1,0,e.events.slice(N)),e.events.length=M,c(C)}return a(C)}function c(C){if(r===n.length){if(!i)return h(C);if(i.currentConstruct&&i.currentConstruct.concrete)return y(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(TO,u,d)(C)}function u(C){return i&&k(),b(r),h(C)}function d(C){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(C)}function h(C){return e.containerState={},t.attempt(TO,m,y)(C)}function m(C){return r++,n.push([e.currentConstruct,e.containerState]),h(C)}function y(C){if(C===null){i&&k(),b(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(C)}function v(C){if(C===null){w(t.exit("chunkFlow"),!0),b(0),t.consume(C);return}return it(C)?(t.consume(C),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(C),v)}function w(C,N){const _=e.sliceStream(C);if(N&&_.push(null),C.previous=s,s&&(s.next=C),s=C,i.defineSkip(C.start),i.write(_),e.parser.lazy[C.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const M=e.events.length;let R=M,D,O;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(D){O=e.events[R][1].end;break}D=!0}for(b(r),A=M;A<e.events.length;)e.events[A][1].end={...O},A++;Ti(e.events,R+1,0,e.events.slice(M)),e.events.length=A}}function b(C){let N=n.length;for(;N-- >C;){const _=n[N];e.containerState=_[1],_[0].exit.call(e,t)}n.length=C}function k(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function lse(t,e,n){return Pt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ad(t){if(t===null||Xt(t)||gc(t))return 1;if(iv(t))return 2}function sv(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const UC={name:"attention",resolveAll:cse,tokenize:use};function cse(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};AO(d,-l),AO(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=qi(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=qi(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=qi(c,sv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=qi(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=qi(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Ti(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function use(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ad(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=ad(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(u||!d)),e(l)}}function AO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const dse={name:"autolink",tokenize:fse};function fse(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return $r(m)?(t.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Tr(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||Tr(m))&&r++<32?(t.consume(m),a):(r=0,c(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||_0(m)?n(m):(t.consume(m),l)}function c(m){return m===64?(t.consume(m),u):tse(m)?(t.consume(m),c):n(m)}function u(m){return Tr(m)?d(m):n(m)}function d(m){return m===46?(t.consume(m),r=0,u):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):h(m)}function h(m){if((m===45||Tr(m))&&r++<63){const y=m===45?h:d;return t.consume(m),y}return n(m)}}const im={partial:!0,tokenize:hse};function hse(t,e,n){return r;function r(s){return Tt(s)?Pt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||it(s)?e(s):n(s)}}const vB={continuation:{tokenize:mse},exit:gse,name:"blockQuote",tokenize:pse};function pse(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Tt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function mse(t,e,n){const r=this;return i;function i(o){return Tt(o)?Pt(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(vB,e,n)(o)}}function gse(t){t.exit("blockQuote")}const wB={name:"characterEscape",tokenize:yse};function yse(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return rse(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const bB={name:"characterReference",tokenize:xse};function xse(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Tr,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=nse,u):(t.enter("characterReferenceValue"),s=7,o=HC,u(d))}function u(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return o===Tr&&!ZT(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const _O={partial:!0,tokenize:wse},MO={concrete:!0,name:"codeFenced",tokenize:vse};function vse(t,e,n){const r=this,i={partial:!0,tokenize:_};let s=0,o=0,a;return l;function l(A){return c(A)}function c(A){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,a=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(A)}function u(A){return A===a?(o++,t.consume(A),u):o<3?n(A):(t.exit("codeFencedFenceSequence"),Tt(A)?Pt(t,d,"whitespace")(A):d(A))}function d(A){return A===null||it(A)?(t.exit("codeFencedFence"),r.interrupt?e(A):t.check(_O,v,N)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(A))}function h(A){return A===null||it(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(A)):Tt(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Pt(t,m,"whitespace")(A)):A===96&&A===a?n(A):(t.consume(A),h)}function m(A){return A===null||it(A)?d(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||it(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(A)):A===96&&A===a?n(A):(t.consume(A),y)}function v(A){return t.attempt(i,N,w)(A)}function w(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),b}function b(A){return s>0&&Tt(A)?Pt(t,k,"linePrefix",s+1)(A):k(A)}function k(A){return A===null||it(A)?t.check(_O,v,N)(A):(t.enter("codeFlowValue"),C(A))}function C(A){return A===null||it(A)?(t.exit("codeFlowValue"),k(A)):(t.consume(A),C)}function N(A){return t.exit("codeFenced"),e(A)}function _(A,M,R){let D=0;return O;function O(Y){return A.enter("lineEnding"),A.consume(Y),A.exit("lineEnding"),B}function B(Y){return A.enter("codeFencedFence"),Tt(Y)?Pt(A,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):F(Y)}function F(Y){return Y===a?(A.enter("codeFencedFenceSequence"),W(Y)):R(Y)}function W(Y){return Y===a?(D++,A.consume(Y),W):D>=o?(A.exit("codeFencedFenceSequence"),Tt(Y)?Pt(A,I,"whitespace")(Y):I(Y)):R(Y)}function I(Y){return Y===null||it(Y)?(A.exit("codeFencedFence"),M(Y)):R(Y)}}}function wse(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const L1={name:"codeIndented",tokenize:kse},bse={partial:!0,tokenize:Sse};function kse(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Pt(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):it(c)?t.attempt(bse,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||it(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function Sse(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):it(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Pt(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):it(o)?i(o):n(o)}}const Cse={name:"codeText",previous:Nse,resolve:Ese,tokenize:Tse};function Ese(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Nse(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Tse(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):it(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||it(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class Ase{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Vf(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Vf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Vf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Vf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Vf(this.left,n.reverse())}}}function Vf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function kB(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new Ase(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,_se(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(o[1].type!=="linePrefix")break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Ti(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function _se(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,d,h=-1,m=n,y=0,v=0;const w=[v];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(u=r.sliceStream(m),m.next||u.push(null),d&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(v=h+1,w.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),h=w.length;h--;){const b=a.slice(w[h],w[h+1]),k=s.pop();l.push([k,k+b.length-1]),t.splice(k,2,b)}for(l.reverse(),h=-1;++h<l.length;)c[y+l[h][0]]=y+l[h][1],y+=l[h][1]-l[h][0]-1;return c}const Mse={resolve:Rse,tokenize:Ose},Pse={partial:!0,tokenize:Dse};function Rse(t){return kB(t),t}function Ose(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):it(a)?t.check(Pse,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Dse(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Pt(t,s,"linePrefix")}function s(o){if(o===null||it(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function SB(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),h):b===null||b===32||b===41||_0(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(b))}function h(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(a),h(b)):b===null||b===60||it(b)?n(b):(t.consume(b),b===92?y:m)}function y(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function v(b){return!u&&(b===null||b===41||Xt(b))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):u<c&&b===40?(t.consume(b),u++,v):b===41?(t.consume(b),u--,v):b===null||b===32||b===40||_0(b)?n(b):(t.consume(b),b===92?w:v)}function w(b){return b===40||b===41||b===92?(t.consume(b),v):v(b)}}function CB(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),u}function u(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):it(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||it(m)||a++>999?(t.exit("chunkString"),u(m)):(t.consume(m),l||(l=!Tt(m)),m===92?h:d)}function h(m){return m===91||m===92||m===93?(t.consume(m),a++,d):d(m)}}function EB(t,e,n,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),c(h))}function c(h){return h===o?(t.exit(s),l(o)):h===null?n(h):it(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Pt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||it(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(t.consume(h),u):u(h)}}function Nh(t,e){let n;return r;function r(i){return it(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Tt(i)?Pt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const jse={name:"definition",tokenize:Lse},Ise={partial:!0,tokenize:Fse};function Lse(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return CB.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=bs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return Xt(m)?Nh(t,c)(m):c(m)}function c(m){return SB(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function u(m){return t.attempt(Ise,d,d)(m)}function d(m){return Tt(m)?Pt(t,h,"whitespace")(m):h(m)}function h(m){return m===null||it(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function Fse(t,e,n){return r;function r(a){return Xt(a)?Nh(t,i)(a):n(a)}function i(a){return EB(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Tt(a)?Pt(t,o,"whitespace")(a):o(a)}function o(a){return a===null||it(a)?e(a):n(a)}}const Bse={name:"hardBreakEscape",tokenize:zse};function zse(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return it(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const $se={name:"headingAtx",resolve:Vse,tokenize:Wse};function Vse(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ti(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Wse(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||Xt(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||it(u)?(t.exit("atxHeading"),e(u)):Tt(u)?Pt(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Xt(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const Hse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PO=["pre","script","style","textarea"],Use={concrete:!0,name:"htmlFlow",resolveTo:Gse,tokenize:Kse},qse={partial:!0,tokenize:Zse},Yse={partial:!0,tokenize:Xse};function Gse(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Kse(t,e,n){const r=this;let i,s,o,a,l;return c;function c(j){return u(j)}function u(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),d}function d(j){return j===33?(t.consume(j),h):j===47?(t.consume(j),s=!0,v):j===63?(t.consume(j),i=3,r.interrupt?e:L):$r(j)?(t.consume(j),o=String.fromCharCode(j),w):n(j)}function h(j){return j===45?(t.consume(j),i=2,m):j===91?(t.consume(j),i=5,a=0,y):$r(j)?(t.consume(j),i=4,r.interrupt?e:L):n(j)}function m(j){return j===45?(t.consume(j),r.interrupt?e:L):n(j)}function y(j){const K="CDATA[";return j===K.charCodeAt(a++)?(t.consume(j),a===K.length?r.interrupt?e:F:y):n(j)}function v(j){return $r(j)?(t.consume(j),o=String.fromCharCode(j),w):n(j)}function w(j){if(j===null||j===47||j===62||Xt(j)){const K=j===47,X=o.toLowerCase();return!K&&!s&&PO.includes(X)?(i=1,r.interrupt?e(j):F(j)):Hse.includes(o.toLowerCase())?(i=6,K?(t.consume(j),b):r.interrupt?e(j):F(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):s?k(j):C(j))}return j===45||Tr(j)?(t.consume(j),o+=String.fromCharCode(j),w):n(j)}function b(j){return j===62?(t.consume(j),r.interrupt?e:F):n(j)}function k(j){return Tt(j)?(t.consume(j),k):O(j)}function C(j){return j===47?(t.consume(j),O):j===58||j===95||$r(j)?(t.consume(j),N):Tt(j)?(t.consume(j),C):O(j)}function N(j){return j===45||j===46||j===58||j===95||Tr(j)?(t.consume(j),N):_(j)}function _(j){return j===61?(t.consume(j),A):Tt(j)?(t.consume(j),_):C(j)}function A(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),l=j,M):Tt(j)?(t.consume(j),A):R(j)}function M(j){return j===l?(t.consume(j),l=null,D):j===null||it(j)?n(j):(t.consume(j),M)}function R(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Xt(j)?_(j):(t.consume(j),R)}function D(j){return j===47||j===62||Tt(j)?C(j):n(j)}function O(j){return j===62?(t.consume(j),B):n(j)}function B(j){return j===null||it(j)?F(j):Tt(j)?(t.consume(j),B):n(j)}function F(j){return j===45&&i===2?(t.consume(j),V):j===60&&i===1?(t.consume(j),G):j===62&&i===4?(t.consume(j),q):j===63&&i===3?(t.consume(j),L):j===93&&i===5?(t.consume(j),$):it(j)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(qse,U,W)(j)):j===null||it(j)?(t.exit("htmlFlowData"),W(j)):(t.consume(j),F)}function W(j){return t.check(Yse,I,U)(j)}function I(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),Y}function Y(j){return j===null||it(j)?W(j):(t.enter("htmlFlowData"),F(j))}function V(j){return j===45?(t.consume(j),L):F(j)}function G(j){return j===47?(t.consume(j),o="",H):F(j)}function H(j){if(j===62){const K=o.toLowerCase();return PO.includes(K)?(t.consume(j),q):F(j)}return $r(j)&&o.length<8?(t.consume(j),o+=String.fromCharCode(j),H):F(j)}function $(j){return j===93?(t.consume(j),L):F(j)}function L(j){return j===62?(t.consume(j),q):j===45&&i===2?(t.consume(j),L):F(j)}function q(j){return j===null||it(j)?(t.exit("htmlFlowData"),U(j)):(t.consume(j),q)}function U(j){return t.exit("htmlFlow"),e(j)}}function Xse(t,e,n){const r=this;return i;function i(o){return it(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Zse(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(im,e,n)}}const Qse={name:"htmlText",tokenize:Jse};function Jse(t,e,n){const r=this;let i,s,o;return a;function a(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),l}function l(L){return L===33?(t.consume(L),c):L===47?(t.consume(L),_):L===63?(t.consume(L),C):$r(L)?(t.consume(L),R):n(L)}function c(L){return L===45?(t.consume(L),u):L===91?(t.consume(L),s=0,y):$r(L)?(t.consume(L),k):n(L)}function u(L){return L===45?(t.consume(L),m):n(L)}function d(L){return L===null?n(L):L===45?(t.consume(L),h):it(L)?(o=d,G(L)):(t.consume(L),d)}function h(L){return L===45?(t.consume(L),m):d(L)}function m(L){return L===62?V(L):L===45?h(L):d(L)}function y(L){const q="CDATA[";return L===q.charCodeAt(s++)?(t.consume(L),s===q.length?v:y):n(L)}function v(L){return L===null?n(L):L===93?(t.consume(L),w):it(L)?(o=v,G(L)):(t.consume(L),v)}function w(L){return L===93?(t.consume(L),b):v(L)}function b(L){return L===62?V(L):L===93?(t.consume(L),b):v(L)}function k(L){return L===null||L===62?V(L):it(L)?(o=k,G(L)):(t.consume(L),k)}function C(L){return L===null?n(L):L===63?(t.consume(L),N):it(L)?(o=C,G(L)):(t.consume(L),C)}function N(L){return L===62?V(L):C(L)}function _(L){return $r(L)?(t.consume(L),A):n(L)}function A(L){return L===45||Tr(L)?(t.consume(L),A):M(L)}function M(L){return it(L)?(o=M,G(L)):Tt(L)?(t.consume(L),M):V(L)}function R(L){return L===45||Tr(L)?(t.consume(L),R):L===47||L===62||Xt(L)?D(L):n(L)}function D(L){return L===47?(t.consume(L),V):L===58||L===95||$r(L)?(t.consume(L),O):it(L)?(o=D,G(L)):Tt(L)?(t.consume(L),D):V(L)}function O(L){return L===45||L===46||L===58||L===95||Tr(L)?(t.consume(L),O):B(L)}function B(L){return L===61?(t.consume(L),F):it(L)?(o=B,G(L)):Tt(L)?(t.consume(L),B):D(L)}function F(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,W):it(L)?(o=F,G(L)):Tt(L)?(t.consume(L),F):(t.consume(L),I)}function W(L){return L===i?(t.consume(L),i=void 0,Y):L===null?n(L):it(L)?(o=W,G(L)):(t.consume(L),W)}function I(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Xt(L)?D(L):(t.consume(L),I)}function Y(L){return L===47||L===62||Xt(L)?D(L):n(L)}function V(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function G(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),H}function H(L){return Tt(L)?Pt(t,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):$(L)}function $(L){return t.enter("htmlTextData"),o(L)}}const QT={name:"labelEnd",resolveAll:roe,resolveTo:ioe,tokenize:soe},eoe={tokenize:ooe},toe={tokenize:aoe},noe={tokenize:loe};function roe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ti(t,0,t.length,n),t}function ioe(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=qi(a,t.slice(s+1,s+r+3)),a=qi(a,[["enter",u,e]]),a=qi(a,sv(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=qi(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=qi(a,t.slice(o+1)),a=qi(a,[["exit",l,e]]),Ti(t,s,t.length,a),t}function soe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?d(h):(o=r.parser.defined.includes(bs(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(eoe,u,o?u:d)(h):h===91?t.attempt(toe,u,o?c:d)(h):o?u(h):d(h)}function c(h){return t.attempt(noe,u,d)(h)}function u(h){return e(h)}function d(h){return s._balanced=!0,n(h)}}function ooe(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Xt(d)?Nh(t,s)(d):s(d)}function s(d){return d===41?u(d):SB(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Xt(d)?Nh(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?EB(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Xt(d)?Nh(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function aoe(t,e,n){const r=this;return i;function i(a){return CB.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(bs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function loe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const coe={name:"labelStartImage",resolveAll:QT.resolveAll,tokenize:uoe};function uoe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const doe={name:"labelStartLink",resolveAll:QT.resolveAll,tokenize:foe};function foe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const F1={name:"lineEnding",tokenize:hoe};function hoe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Pt(t,e,"linePrefix")}}const Xy={name:"thematicBreak",tokenize:poe};function poe(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||it(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Tt(c)?Pt(t,a,"whitespace")(c):a(c))}}const Jr={continuation:{tokenize:xoe},exit:woe,name:"list",tokenize:yoe},moe={partial:!0,tokenize:boe},goe={partial:!0,tokenize:voe};function yoe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:HC(m)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Xy,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return HC(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(im,r.interrupt?n:u,t.attempt(moe,h,d))}function u(m){return r.containerState.initialBlankLine=!0,s++,h(m)}function d(m){return Tt(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function xoe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(im,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pt(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Tt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(goe,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pt(t,t.attempt(Jr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function voe(t,e,n){const r=this;return Pt(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function woe(t){t.exit(this.containerState.type)}function boe(t,e,n){const r=this;return Pt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Tt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const RO={name:"setextUnderline",resolveTo:koe,tokenize:Soe};function koe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Soe(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Tt(c)?Pt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||it(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const Coe={tokenize:Eoe};function Eoe(t){const e=this,n=t.attempt(im,r,t.attempt(this.parser.constructs.flowInitial,i,Pt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Mse,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Noe={resolveAll:TB()},Toe=NB("string"),Aoe=NB("text");function NB(t){return{resolveAll:TB(t==="text"?_oe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const m=d[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function TB(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function _oe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const Moe={42:Jr,43:Jr,45:Jr,48:Jr,49:Jr,50:Jr,51:Jr,52:Jr,53:Jr,54:Jr,55:Jr,56:Jr,57:Jr,62:vB},Poe={91:jse},Roe={[-2]:L1,[-1]:L1,32:L1},Ooe={35:$se,42:Xy,45:[RO,Xy],60:Use,61:RO,95:Xy,96:MO,126:MO},Doe={38:bB,92:wB},joe={[-5]:F1,[-4]:F1,[-3]:F1,33:coe,38:bB,42:UC,60:[dse,Qse],91:doe,92:[Bse,wB],93:QT,95:UC,96:Cse},Ioe={null:[UC,Noe]},Loe={null:[42,95]},Foe={null:[]},Boe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Loe,contentInitial:Poe,disable:Foe,document:Moe,flow:Ooe,flowInitial:Roe,insideSpan:Ioe,string:Doe,text:joe},Symbol.toStringTag,{value:"Module"}));function zoe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:M(_),check:M(A),consume:k,enter:C,exit:N,interrupt:M(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:y,parser:t,previous:null,sliceSerialize:h,sliceStream:m,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(B){return o=qi(o,B),w(),o[o.length-1]!==null?[]:(R(e,0),c.events=sv(s,c.events,c),c.events)}function h(B,F){return Voe(m(B),F)}function m(B){return $oe(o,B)}function y(){const{_bufferIndex:B,_index:F,line:W,column:I,offset:Y}=r;return{_bufferIndex:B,_index:F,line:W,column:I,offset:Y}}function v(B){i[B.line]=B.column,O()}function w(){let B;for(;r._index<o.length;){const F=o[r._index];if(typeof F=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<F.length;)b(F.charCodeAt(r._bufferIndex));else b(F)}}function b(B){u=u(B)}function k(B){it(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,O()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=B}function C(B,F){const W=F||{};return W.type=B,W.start=y(),c.events.push(["enter",W,c]),a.push(W),W}function N(B){const F=a.pop();return F.end=y(),c.events.push(["exit",F,c]),F}function _(B,F){R(B,F.from)}function A(B,F){F.restore()}function M(B,F){return W;function W(I,Y,V){let G,H,$,L;return Array.isArray(I)?U(I):"tokenize"in I?U([I]):q(I);function q(J){return Z;function Z(oe){const fe=oe!==null&&J[oe],me=oe!==null&&J.null,Te=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(me)?me:me?[me]:[]];return U(Te)(oe)}}function U(J){return G=J,H=0,J.length===0?V:j(J[H])}function j(J){return Z;function Z(oe){return L=D(),$=J,J.partial||(c.currentConstruct=J),J.name&&c.parser.constructs.disable.null.includes(J.name)?X():J.tokenize.call(F?Object.assign(Object.create(c),F):c,l,K,X)(oe)}}function K(J){return B($,L),Y}function X(J){return L.restore(),++H<G.length?j(G[H]):V}}}function R(B,F){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Ti(c.events,F,c.events.length-F,B.resolve(c.events.slice(F),c)),B.resolveTo&&(c.events=B.resolveTo(c.events,c))}function D(){const B=y(),F=c.previous,W=c.currentConstruct,I=c.events.length,Y=Array.from(a);return{from:I,restore:V};function V(){r=B,c.previous=F,c.currentConstruct=W,c.events.length=I,a=Y,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function $oe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Voe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Woe(t){const r={constructs:yB([Boe,...(t||{}).extensions||[]]),content:i(ise),defined:[],document:i(ose),flow:i(Coe),lazy:{},string:i(Toe),text:i(Aoe)};return r;function i(s){return o;function o(a){return zoe(r,s,a)}}}function Hoe(t){for(;!kB(t););return t}const OO=/[\0\t\n\r]/g;function Uoe(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,h,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(OO.lastIndex=d,c=OO.exec(s),h=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(h),!c){e=s.slice(d);break}if(m===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),t+=h-d),m){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const qoe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yoe(t){return t.replace(qoe,Goe)}function Goe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return xB(n.slice(s?2:1),s?16:10)}return ZT(n)||t}const AB={}.hasOwnProperty;function Koe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Xoe(n)(Hoe(Woe(n).document().write(Uoe()(t,e,!0))))}function Xoe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(se),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(Ze),blockQuote:s(me),characterEscape:D,characterReference:D,codeFenced:s(Te),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Te,o),codeText:s(xe,o),codeTextData:D,data:D,codeFlowValue:D,definition:s(be),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Pe),hardBreakEscape:s(Qe),hardBreakTrailing:s(Qe),htmlFlow:s(Dt,o),htmlFlowData:D,htmlText:s(Dt,o),htmlTextData:D,image:s(ee),label:o,link:s(se),listItem:s(ke),listItemValue:h,listOrdered:s(ce,d),listUnordered:s(ce),paragraph:s(Ce),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ze),strong:s(ye),thematicBreak:s($e)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:fe,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:J,characterReference:Z,codeFenced:l(w),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:O,codeIndented:l(b),codeText:l(Y),codeTextData:O,data:O,definition:l(),definitionDestinationString:N,definitionLabelString:k,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l(W),htmlFlowData:O,htmlText:l(I),htmlTextData:O,image:l(G),label:$,labelText:H,lineEnding:B,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:K,resourceDestinationString:L,resourceTitleString:q,resource:U,setextHeading:l(R),setextHeadingLineSequence:M,setextHeadingText:A,strong:l(),thematicBreak:l()}};_B(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ae){let he={type:"root",children:[]};const We={stack:[he],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},et=[];let ft=-1;for(;++ft<ae.length;)if(ae[ft][1].type==="listOrdered"||ae[ft][1].type==="listUnordered")if(ae[ft][0]==="enter")et.push(ft);else{const qt=et.pop();ft=i(ae,qt,ft)}for(ft=-1;++ft<ae.length;){const qt=e[ae[ft][0]];AB.call(qt,ae[ft][1].type)&&qt[ae[ft][1].type].call(Object.assign({sliceSerialize:ae[ft][2].sliceSerialize},We),ae[ft][1])}if(We.tokenStack.length>0){const qt=We.tokenStack[We.tokenStack.length-1];(qt[1]||DO).call(We,void 0,qt[0])}for(he.position={start:Va(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:Va(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)he=e.transforms[ft](he)||he;return he}function i(ae,he,We){let et=he-1,ft=-1,qt=!1,st,mt,ht,hn;for(;++et<=We;){const Ct=ae[et];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?ft++:ft--,hn=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(st&&!hn&&!ft&&!ht&&(ht=et),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!ft&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||ft===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(st){let Hn=et;for(mt=void 0;Hn--;){const _t=ae[Hn];if(_t[1].type==="lineEnding"||_t[1].type==="lineEndingBlank"){if(_t[0]==="exit")continue;mt&&(ae[mt][1].type="lineEndingBlank",qt=!0),_t[1].type="lineEnding",mt=Hn}else if(!(_t[1].type==="linePrefix"||_t[1].type==="blockQuotePrefix"||_t[1].type==="blockQuotePrefixWhitespace"||_t[1].type==="blockQuoteMarker"||_t[1].type==="listItemIndent"))break}ht&&(!mt||ht<mt)&&(st._spread=!0),st.end=Object.assign({},mt?ae[mt][1].start:Ct[1].end),ae.splice(mt||et,0,["exit",st,Ct[2]]),et++,We++}if(Ct[1].type==="listItemPrefix"){const Hn={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};st=Hn,ae.splice(et,0,["enter",Hn,Ct[2]]),et++,We++,ht=void 0,hn=!0}}}return ae[he][1]._spread=qt,We}function s(ae,he){return We;function We(et){a.call(this,ae(et),et),he&&he.call(this,et)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ae,he,We){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([he,We||void 0]),ae.position={start:Va(he.start),end:void 0}}function l(ae){return he;function he(We){ae&&ae.call(this,We),c.call(this,We)}}function c(ae,he){const We=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==ae.type&&(he?he.call(this,ae,et[0]):(et[1]||DO).call(this,ae,et[0]));else throw new Error("Cannot close `"+ae.type+"` ("+Eh({start:ae.start,end:ae.end})+"): its not open");We.position.end=Va(ae.end)}function u(){return XT(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ae){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.lang=ae}function y(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.meta=ae}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.value=ae.replace(/(\r?\n|\r)$/g,"")}function k(ae){const he=this.resume(),We=this.stack[this.stack.length-1];We.label=he,We.identifier=bs(this.sliceSerialize(ae)).toLowerCase()}function C(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.title=ae}function N(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.url=ae}function _(ae){const he=this.stack[this.stack.length-1];if(!he.depth){const We=this.sliceSerialize(ae).length;he.depth=We}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function M(ae){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ae){const We=this.stack[this.stack.length-1].children;let et=We[We.length-1];(!et||et.type!=="text")&&(et=ze(),et.position={start:Va(ae.start),end:void 0},We.push(et)),this.stack.push(et)}function O(ae){const he=this.stack.pop();he.value+=this.sliceSerialize(ae),he.position.end=Va(ae.end)}function B(ae){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=he.children[he.children.length-1];We.position.end=Va(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(D.call(this,ae),O.call(this,ae))}function F(){this.data.atHardBreak=!0}function W(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.value=ae}function I(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.value=ae}function Y(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.value=ae}function V(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=he,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function G(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=he,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function H(ae){const he=this.sliceSerialize(ae),We=this.stack[this.stack.length-2];We.label=Yoe(he),We.identifier=bs(he).toLowerCase()}function $(){const ae=this.stack[this.stack.length-1],he=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const et=ae.children;We.children=et}else We.alt=he}function L(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.url=ae}function q(){const ae=this.resume(),he=this.stack[this.stack.length-1];he.title=ae}function U(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function K(ae){const he=this.resume(),We=this.stack[this.stack.length-1];We.label=he,We.identifier=bs(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function X(ae){this.data.characterReferenceType=ae.type}function J(ae){const he=this.sliceSerialize(ae),We=this.data.characterReferenceType;let et;We?(et=xB(he,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=ZT(he);const ft=this.stack[this.stack.length-1];ft.value+=et}function Z(ae){const he=this.stack.pop();he.position.end=Va(ae.end)}function oe(ae){O.call(this,ae);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ae)}function fe(ae){O.call(this,ae);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ae)}function me(){return{type:"blockquote",children:[]}}function Te(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pe(){return{type:"emphasis",children:[]}}function Ze(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Dt(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function ce(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function ke(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function ze(){return{type:"text",value:""}}function $e(){return{type:"thematicBreak"}}}function Va(t){return{line:t.line,column:t.column,offset:t.offset}}function _B(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?_B(t,r):Zoe(t,r)}}function Zoe(t,e){let n;for(n in e)if(AB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function DO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Eh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Eh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Eh({start:e.start,end:e.end})+") is still open")}function Qoe(t){const e=this;e.parser=n;function n(r){return Koe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Joe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function eae(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function tae(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function nae(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rae(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iae(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Wd(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function sae(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oae(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function MB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function aae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return MB(t,e);const i={src:Wd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function lae(t,e){const n={src:Wd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function cae(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function uae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return MB(t,e);const i={href:Wd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function dae(t,e){const n={href:Wd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fae(t,e,n){const r=t.all(e),i=n?hae(n):PB(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function hae(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=PB(n[r])}return e}function PB(t){const e=t.spread;return e??t.children.length>1}function pae(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function mae(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gae(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function yae(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xae(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=qT(e.children[1]),l=uB(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function vae(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],h={},m=o?o[l]:void 0;m&&(h.align=m);let y={type:"element",tagName:s,properties:h,children:[]};d&&(y.children=t.all(d),t.patch(d,y),y=t.applyData(d,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function wae(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const jO=9,IO=32;function bae(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(LO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(LO(e.slice(i),i>0,!1)),s.join("")}function LO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===jO||s===IO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===jO||s===IO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function kae(t,e){const n={type:"text",value:bae(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Sae(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Cae={blockquote:Joe,break:eae,code:tae,delete:nae,emphasis:rae,footnoteReference:iae,heading:sae,html:oae,imageReference:aae,image:lae,inlineCode:cae,linkReference:uae,link:dae,listItem:fae,list:pae,paragraph:mae,root:gae,strong:yae,table:xae,tableCell:wae,tableRow:vae,text:kae,thematicBreak:Sae,toml:Jg,yaml:Jg,definition:Jg,footnoteDefinition:Jg};function Jg(){}const RB=-1,ov=0,Th=1,M0=2,JT=3,eA=4,tA=5,nA=6,OB=7,DB=8,FO=typeof self=="object"?self:globalThis,Eae=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case ov:case RB:return n(o,i);case Th:{const a=n([],i);for(const l of o)a.push(r(l));return a}case M0:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case JT:return n(new Date(o),i);case eA:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case tA:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case nA:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case OB:{const{name:a,message:l}=o;return n(new FO[a](l),i)}case DB:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new FO[s](o),i)};return r},BO=t=>Eae(new Map,t)(0),pu="",{toString:Nae}={},{keys:Tae}=Object,Wf=t=>{const e=typeof t;if(e!=="object"||!t)return[ov,e];const n=Nae.call(t).slice(8,-1);switch(n){case"Array":return[Th,pu];case"Object":return[M0,pu];case"Date":return[JT,pu];case"RegExp":return[eA,pu];case"Map":return[tA,pu];case"Set":return[nA,pu];case"DataView":return[Th,n]}return n.includes("Array")?[Th,n]:n.includes("Error")?[OB,n]:[M0,n]},ey=([t,e])=>t===ov&&(e==="function"||e==="symbol"),Aae=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Wf(o);switch(a){case ov:{let u=o;switch(l){case"bigint":a=DB,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([RB],o)}return i([a,u],o)}case Th:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([a,u],o);for(const h of o)u.push(s(h));return d}case M0:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const h of Tae(o))(t||!ey(Wf(o[h])))&&u.push([s(h),s(o[h])]);return d}case JT:return i([a,o.toISOString()],o);case eA:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case tA:{const u=[],d=i([a,u],o);for(const[h,m]of o)(t||!(ey(Wf(h))||ey(Wf(m))))&&u.push([s(h),s(m)]);return d}case nA:{const u=[],d=i([a,u],o);for(const h of o)(t||!ey(Wf(h)))&&u.push(s(h));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},zO=(t,{json:e,lossy:n}={})=>{const r=[];return Aae(!(e||n),!!e,new Map,r)(t),r},P0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?BO(zO(t,e)):structuredClone(t):(t,e)=>BO(zO(t,e));function _ae(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Mae(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Pae(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||_ae,r=t.options.footnoteBackLabel||Mae,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),h=Wd(d.toLowerCase());let m=0;const y=[],v=t.footnoteCounts.get(d);for(;v!==void 0&&++m<=v;){y.length>0&&y.push({type:"text",value:" "});let k=typeof n=="string"?n:n(l,m);typeof k=="string"&&(k={type:"text",value:k}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...y)}else u.push(...y);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,b),a.push(b)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...P0(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const av=function(t){if(t==null)return jae;if(typeof t=="function")return lv(t);if(typeof t=="object")return Array.isArray(t)?Rae(t):Oae(t);if(typeof t=="string")return Dae(t);throw new Error("Expected function, string, or object as test")};function Rae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=av(t[n]);return lv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Oae(t){const e=t;return lv(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Dae(t){return lv(e);function e(n){return n&&n.type===t}}function lv(t){return e;function e(n,r,i){return!!(Iae(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function jae(){return!0}function Iae(t){return t!==null&&typeof t=="object"&&"type"in t}const jB=[],Lae=!0,qC=!1,Fae="skip";function IB(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=av(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=jB,y,v,w;if((!e||s(l,c,u[u.length-1]||void 0))&&(m=Bae(n(l,u)),m[0]===qC))return m;if("children"in l&&l.children){const b=l;if(b.children&&m[0]!==Fae)for(v=(r?b.children.length:-1)+o,w=u.concat(b);v>-1&&v<b.children.length;){const k=b.children[v];if(y=a(k,v,w)(),y[0]===qC)return y;v=typeof y[1]=="number"?y[1]:v+o}}return m}}}function Bae(t){return Array.isArray(t)?t:typeof t=="number"?[Lae,t]:t==null?jB:[t]}function rA(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),IB(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const YC={}.hasOwnProperty,zae={};function $ae(t,e){const n=e||zae,r=new Map,i=new Map,s=new Map,o={...Cae,...n.handlers},a={all:c,applyData:Wae,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Vae,wrap:Uae};return rA(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,m=a.handlers[h];if(YC.call(a.handlers,h)&&m)return m(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:v,...w}=u,b=P0(w);return b.children=a.all(u),b}return P0(u)}return(a.options.unknownHandler||Hae)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let m=-1;for(;++m<h.length;){const y=a.one(h[m],u);if(y){if(m&&h[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=$O(y.value)),!Array.isArray(y)&&y.type==="element")){const v=y.children[0];v&&v.type==="text"&&(v.value=$O(v.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function Vae(t,e){t.position&&(e.position=Aie(t))}function Wae(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,P0(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Hae(t,e){const n=e.data||{},r="value"in e&&!(YC.call(n,"hProperties")||YC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Uae(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $O(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function VO(t,e){const n=$ae(t,e),r=n.one(t,void 0),i=Pae(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function qae(t,e){return t&&"run"in t?async function(n,r){const i=VO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return VO(n,{file:r,...t||e})}}function WO(t){if(t)throw t}var B1,HO;function Yae(){if(HO)return B1;HO=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var u=t.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var h;for(h in c);return typeof h>"u"||t.call(c,h)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(t.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return B1=function l(){var c,u,d,h,m,y,v=arguments[0],w=1,b=arguments.length,k=!1;for(typeof v=="boolean"&&(k=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<b;++w)if(c=arguments[w],c!=null)for(u in c)d=a(v,u),h=a(c,u),v!==h&&(k&&h&&(s(h)||(m=i(h)))?(m?(m=!1,y=d&&i(d)?d:[]):y=d&&s(d)?d:{},o(v,{name:u,newValue:l(k,y,h)})):typeof h<"u"&&o(v,{name:u,newValue:h}));return v},B1}var Gae=Yae();const z1=Od(Gae);function GC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Kae(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?Xae(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Xae(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Hs={basename:Zae,dirname:Qae,extname:Jae,join:ele,sep:"/"};function Zae(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');sm(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Qae(t){if(sm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Jae(t){sm(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function ele(...t){let e=-1,n;for(;++e<t.length;)sm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":tle(n)}function tle(t){sm(t);const e=t.codePointAt(0)===47;let n=nle(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function nle(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function sm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const rle={cwd:ile};function ile(){return"/"}function KC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function sle(t){if(typeof t=="string")t=new URL(t);else if(!KC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ole(t)}function ole(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const $1=["history","path","basename","stem","extname","dirname"];class LB{constructor(e){let n;e?KC(e)?n={path:e}:typeof e=="string"||ale(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":rle.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$1.length;){const s=$1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)$1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Hs.basename(this.path):void 0}set basename(e){W1(e,"basename"),V1(e,"basename"),this.path=Hs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Hs.dirname(this.path):void 0}set dirname(e){UO(this.basename,"dirname"),this.path=Hs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Hs.extname(this.path):void 0}set extname(e){if(V1(e,"extname"),UO(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){KC(e)&&(e=sle(e)),W1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Hs.basename(this.path,this.extname):void 0}set stem(e){W1(e,"stem"),V1(e,"stem"),this.path=Hs.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Rr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function V1(t,e){if(t&&t.includes(Hs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Hs.sep+"`")}function W1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function UO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function ale(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lle=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},cle={}.hasOwnProperty;class iA extends lle{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kae()}copy(){const e=new iA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(z1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(q1("data",this.frozen),this.namespace[e]=n,this):cle.call(this.namespace,e)&&this.namespace[e]||void 0:e?(q1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ty(e),r=this.parser||this.Parser;return H1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),H1("process",this.parser||this.Parser),U1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=ty(e),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const m=d,y=r.stringify(m,h);fle(y)?h.value=y:h.result=y,c(u,h)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),H1("processSync",this.parser||this.Parser),U1("processSync",this.compiler||this.Compiler),this.process(e,i),YO("processSync","process",n),r;function i(s,o){n=!0,WO(s),r=o}}run(e,n,r){qO(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=ty(n);i.run(e,l,c);function c(u,d,h){const m=d||e;u?a(u):o?o(m):r(void 0,m,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),YO("runSync","run",r),i;function s(o,a){WO(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=ty(n),i=this.compiler||this.Compiler;return U1("stringify",i),qO(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(q1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=z1(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[m,...y]=u;const v=r[h][1];GC(v)&&GC(m)&&(m=z1(!0,v,m)),r[h]=[c,m,...y]}}}}const ule=new iA().freeze();function H1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function U1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function q1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qO(t){if(!GC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function YO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ty(t){return dle(t)?t:new LB(t)}function dle(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function fle(t){return typeof t=="string"||hle(t)}function hle(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ple="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",GO=[],KO={allowDangerousHtml:!0},mle=/^(https?|ircs?|mailto|xmpp)$/i,gle=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yle(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||GO,l=t.remarkPlugins||GO,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...KO}:KO,u=t.skipHtml,d=t.unwrapDisallowed,h=t.urlTransform||xle,m=ule().use(Qoe).use(l).use(qae,c).use(a),y=new LB;typeof r=="string"&&(y.value=r);for(const k of gle)Object.hasOwn(t,k.from)&&(""+k.from+(k.to?"use `"+k.to+"` instead":"remove it")+ple+k.id,void 0);const v=m.parse(y);let w=m.runSync(v,y);return i&&(w={type:"element",tagName:"div",properties:{className:i},children:w.type==="root"?w.children:[w]}),rA(w,b),Die(w,{Fragment:g.Fragment,components:s,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function b(k,C,N){if(k.type==="raw"&&N&&typeof C=="number")return u?N.children.splice(C,1):N.children[C]={type:"text",value:k.value},C;if(k.type==="element"){let _;for(_ in I1)if(Object.hasOwn(I1,_)&&Object.hasOwn(k.properties,_)){const A=k.properties[_],M=I1[_];(M===null||M.includes(k.tagName))&&(k.properties[_]=h(String(A||""),_,k))}}if(k.type==="element"){let _=e?!e.includes(k.tagName):o?o.includes(k.tagName):!1;if(!_&&n&&typeof C=="number"&&(_=!n(k,C,N)),_&&N&&typeof C=="number")return d&&k.children?N.children.splice(C,1,...k.children):N.children.splice(C,1),C}}}function xle(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||mle.test(t.slice(0,e))?t:""}function XO(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function vle(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function wle(t,e,n){const i=av((n||{}).ignore||[]),s=ble(e);let o=-1;for(;++o<s.length;)IB(t,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const m=u[d],y=h?h.children:void 0;if(i(m,y?y.indexOf(m):void 0,h))return;h=m}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=s[o][0],m=s[o][1];let y=0;const w=d.children.indexOf(c);let b=!1,k=[];h.lastIndex=0;let C=h.exec(c.value);for(;C;){const N=C.index,_={index:C.index,input:C.input,stack:[...u,c]};let A=m(...C,_);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?h.lastIndex=N+1:(y!==N&&k.push({type:"text",value:c.value.slice(y,N)}),Array.isArray(A)?k.push(...A):A&&k.push(A),y=N+C[0].length,b=!0),!h.global)break;C=h.exec(c.value)}return b?(y<c.value.length&&k.push({type:"text",value:c.value.slice(y)}),d.children.splice(w,1,...k)):k=[c],w+k.length}}function ble(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([kle(i[0]),Sle(i[1])])}return e}function kle(t){return typeof t=="string"?new RegExp(vle(t),"g"):t}function Sle(t){return typeof t=="function"?t:function(){return t}}const Y1="phrasing",G1=["autolink","link","image","label"];function Cle(){return{transforms:[Ple],enter:{literalAutolink:Nle,literalAutolinkEmail:K1,literalAutolinkHttp:K1,literalAutolinkWww:K1},exit:{literalAutolink:Mle,literalAutolinkEmail:_le,literalAutolinkHttp:Tle,literalAutolinkWww:Ale}}}function Ele(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Y1,notInConstruct:G1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Y1,notInConstruct:G1},{character:":",before:"[ps]",after:"\\/",inConstruct:Y1,notInConstruct:G1}]}}function Nle(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function K1(t){this.config.enter.autolinkProtocol.call(this,t)}function Tle(t){this.config.exit.autolinkProtocol.call(this,t)}function Ale(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function _le(t){this.config.exit.autolinkEmail.call(this,t)}function Mle(t){this.exit(t)}function Ple(t){wle(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Rle],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Ole]],{ignore:["link","linkReference"]})}function Rle(t,e,n,r,i){let s="";if(!FB(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Dle(n)))return!1;const o=jle(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Ole(t,e,n,r){return!FB(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Dle(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function jle(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=XO(t,"(");let s=XO(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function FB(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||gc(n)||iv(n))&&(!e||n!==47)}BB.peek=Hle;function Ile(){this.buffer()}function Lle(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Fle(){this.buffer()}function Ble(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function zle(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=bs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function $le(t){this.exit(t)}function Vle(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=bs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Wle(t){this.exit(t)}function Hle(){return"["}function BB(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Ule(){return{enter:{gfmFootnoteCallString:Ile,gfmFootnoteCall:Lle,gfmFootnoteDefinitionLabelString:Fle,gfmFootnoteDefinition:Ble},exit:{gfmFootnoteCallString:zle,gfmFootnoteCall:$le,gfmFootnoteDefinitionLabelString:Vle,gfmFootnoteDefinition:Wle}}}function qle(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:BB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?zB:Yle))),c(),l}}function Yle(t,e,n){return e===0?t:zB(t,e,n)}function zB(t,e,n){return(n?"":"    ")+t}const Gle=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];$B.peek=Jle;function Kle(){return{canContainEols:["delete"],enter:{strikethrough:Zle},exit:{strikethrough:Qle}}}function Xle(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Gle}],handlers:{delete:$B}}}function Zle(t){this.enter({type:"delete",children:[]},t)}function Qle(t){this.exit(t)}function $B(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Jle(){return"~"}function ece(t){return t.length}function tce(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||ece,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const v=[],w=[];let b=-1;for(t[u].length>c&&(c=t[u].length);++b<t[u].length;){const k=nce(t[u][b]);if(n.alignDelimiters!==!1){const C=i(k);w[b]=C,(l[b]===void 0||C>l[b])&&(l[b]=C)}v.push(k)}o[u]=v,a[u]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=ZO(r[d]);else{const v=ZO(r);for(;++d<c;)s[d]=v}d=-1;const h=[],m=[];for(;++d<c;){const v=s[d];let w="",b="";v===99?(w=":",b=":"):v===108?w=":":v===114&&(b=":");let k=n.alignDelimiters===!1?1:Math.max(1,l[d]-w.length-b.length);const C=w+"-".repeat(k)+b;n.alignDelimiters!==!1&&(k=w.length+k+b.length,k>l[d]&&(l[d]=k),m[d]=k),h[d]=C}o.splice(1,0,h),a.splice(1,0,m),u=-1;const y=[];for(;++u<o.length;){const v=o[u],w=a[u];d=-1;const b=[];for(;++d<c;){const k=v[d]||"";let C="",N="";if(n.alignDelimiters!==!1){const _=l[d]-(w[d]||0),A=s[d];A===114?C=" ".repeat(_):A===99?_%2?(C=" ".repeat(_/2+.5),N=" ".repeat(_/2-.5)):(C=" ".repeat(_/2),N=C):N=" ".repeat(_)}n.delimiterStart!==!1&&!d&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||d)&&b.push(" "),n.alignDelimiters!==!1&&b.push(C),b.push(k),n.alignDelimiters!==!1&&b.push(N),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&b.push("|")}y.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return y.join(`
`)}function nce(t){return t==null?"":String(t)}function ZO(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function rce(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),ice);return i(),o}function ice(t,e,n){return">"+(n?"":" ")+t}function sce(t,e){return QO(t,e.inConstruct,!0)&&!QO(t,e.notInConstruct,!1)}function QO(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function JO(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&sce(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function oce(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function ace(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function lce(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function cce(t,e,n,r){const i=lce(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(ace(t,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,uce);return d(),h}const a=n.createTracker(r),l=i.repeat(Math.max(oce(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function uce(t,e,n){return(n?"":"    ")+t}function sA(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function dce(t,e,n,r){const i=sA(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function fce(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Qh(t){return"&#x"+t.toString(16).toUpperCase()+";"}function R0(t,e,n){const r=ad(t),i=ad(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}VB.peek=hce;function VB(t,e,n,r){const i=fce(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=R0(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Qh(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=R0(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+Qh(d));const m=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+m}function hce(t,e,n){return n.options.emphasis||"*"}function pce(t,e){let n=!1;return rA(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,qC}),!!((!t.depth||t.depth<3)&&XT(t)&&(e.options.setext||n))}function mce(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(pce(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Qh(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}WB.peek=gce;function WB(t){return t.value||""}function gce(){return"<"}HB.peek=yce;function HB(t,e,n,r){const i=sA(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function yce(){return"!"}UB.peek=xce;function UB(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function xce(){return"!"}qB.peek=vce;function qB(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function vce(){return"`"}function YB(t,e){const n=XT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}GB.peek=wce;function GB(t,e,n,r){const i=sA(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(YB(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function wce(t,e,n){return YB(t,n)?"<":"["}KB.peek=bce;function KB(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function bce(){return"["}function oA(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function kce(t){const e=oA(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Sce(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function XB(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Cce(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?Sce(n):oA(n);const a=t.ordered?o==="."?")":".":kce(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),XB(n)===o&&u){let d=-1;for(;++d<t.children.length;){const h=t.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function Ece(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Nce(t,e,n,r){const i=Ece(n);let s=n.bulletCurrent||oA(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,h,m){return h?(m?"":" ".repeat(o))+d:(m?s:s+" ".repeat(o-s.length))+d}}function Tce(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const Ace=av(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _ce(t,e,n,r){return(t.children.some(function(o){return Ace(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Mce(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}ZB.peek=Pce;function ZB(t,e,n,r){const i=Mce(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=R0(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Qh(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=R0(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+Qh(d));const m=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+m}function Pce(t,e,n){return n.options.strong||"*"}function Rce(t,e,n,r){return n.safe(t.value,r)}function Oce(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Dce(t,e,n){const r=(XB(n)+(n.options.ruleSpaces?" ":"")).repeat(Oce(n));return n.options.ruleSpaces?r.slice(0,-1):r}const QB={blockquote:rce,break:JO,code:cce,definition:dce,emphasis:VB,hardBreak:JO,heading:mce,html:WB,image:HB,imageReference:UB,inlineCode:qB,link:GB,linkReference:KB,list:Cce,listItem:Nce,paragraph:Tce,root:_ce,strong:ZB,text:Rce,thematicBreak:Dce};function jce(){return{enter:{table:Ice,tableData:eD,tableHeader:eD,tableRow:Fce},exit:{codeText:Bce,table:Lce,tableData:X1,tableHeader:X1,tableRow:X1}}}function Ice(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Lce(t){this.exit(t),this.data.inTable=void 0}function Fce(t){this.enter({type:"tableRow",children:[]},t)}function X1(t){this.exit(t)}function eD(t){this.enter({type:"tableCell",children:[]},t)}function Bce(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,zce));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function zce(t,e){return e==="|"?e:t}function $ce(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(m,y,v,w){return c(u(m,v,w),m.align)}function a(m,y,v,w){const b=d(m,v,w),k=c([b]);return k.slice(0,k.indexOf(`
`))}function l(m,y,v,w){const b=v.enter("tableCell"),k=v.enter("phrasing"),C=v.containerPhrasing(m,{...w,before:s,after:s});return k(),b(),C}function c(m,y){return tce(m,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function u(m,y,v){const w=m.children;let b=-1;const k=[],C=y.enter("table");for(;++b<w.length;)k[b]=d(w[b],y,v);return C(),k}function d(m,y,v){const w=m.children;let b=-1;const k=[],C=y.enter("tableRow");for(;++b<w.length;)k[b]=l(w[b],m,y,v);return C(),k}function h(m,y,v){let w=QB.inlineCode(m,y,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Vce(){return{exit:{taskListCheckValueChecked:tD,taskListCheckValueUnchecked:tD,paragraph:Hce}}}function Wce(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Uce}}}function tD(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Hce(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Uce(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=QB.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function qce(){return[Cle(),Ule(),Kle(),jce(),Vce()]}function Yce(t){return{extensions:[Ele(),qle(t),Xle(),$ce(t),Wce()]}}const Gce={tokenize:eue,partial:!0},JB={tokenize:tue,partial:!0},ez={tokenize:nue,partial:!0},tz={tokenize:rue,partial:!0},Kce={tokenize:iue,partial:!0},nz={name:"wwwAutolink",tokenize:Qce,previous:iz},rz={name:"protocolAutolink",tokenize:Jce,previous:sz},ha={name:"emailAutolink",tokenize:Zce,previous:oz},Co={};function Xce(){return{text:Co}}let Kl=48;for(;Kl<123;)Co[Kl]=ha,Kl++,Kl===58?Kl=65:Kl===91&&(Kl=97);Co[43]=ha;Co[45]=ha;Co[46]=ha;Co[95]=ha;Co[72]=[ha,rz];Co[104]=[ha,rz];Co[87]=[ha,nz];Co[119]=[ha,nz];function Zce(t,e,n){const r=this;let i,s;return o;function o(d){return!XC(d)||!oz.call(r,r.previous)||aA(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return XC(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(Kce,u,c)(d):d===45||d===95||Tr(d)?(s=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return s&&i&&$r(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function Qce(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!iz.call(r,r.previous)||aA(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Gce,t.attempt(JB,t.attempt(ez,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function Jce(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&sz.call(r,r.previous)&&!aA(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if($r(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||_0(d)||Xt(d)||gc(d)||iv(d)?n(d):t.attempt(JB,t.attempt(ez,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function eue(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function tue(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(tz,l,a)(c):c===null||Xt(c)||gc(c)||c!==45&&iv(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function nue(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(tz,e,s)(o):o===null||Xt(o)||gc(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function rue(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Xt(a)||gc(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Xt(a)||gc(a)?e(a):r(a)}function s(a){return $r(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):$r(a)?(t.consume(a),o):n(a)}}function iue(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Tr(s)?n(s):e(s)}}function iz(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Xt(t)}function sz(t){return!$r(t)}function oz(t){return!(t===47||XC(t))}function XC(t){return t===43||t===45||t===46||t===95||Tr(t)}function aA(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sue={tokenize:hue,partial:!0};function oue(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uue,continuation:{tokenize:due},exit:fue}},text:{91:{name:"gfmFootnoteCall",tokenize:cue},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aue,resolveTo:lue}}}}function aue(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=bs(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function lue(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function cue(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Xt(d))return n(d);if(d===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(bs(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Xt(d)||(o=!0),s++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function uue(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(y){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(y)}function u(y){if(o>999||y===93&&!a||y===null||y===91||Xt(y))return n(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return s=bs(r.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return Xt(y)||(a=!0),o++,t.consume(y),y===92?d:u}function d(y){return y===91||y===92||y===93?(t.consume(y),o++,u):u(y)}function h(y){return y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),i.includes(s)||i.push(s),Pt(t,m,"gfmFootnoteDefinitionWhitespace")):n(y)}function m(y){return e(y)}}function due(t,e,n){return t.check(im,e,t.attempt(sue,e,n))}function fue(t){t.exit("gfmFootnoteDefinition")}function hue(t,e,n){const r=this;return Pt(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function pue(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],m=a.parser.constructs.insideSpan.null;m&&Ti(h,h.length,0,sv(m,o.slice(c+1,l),a)),Ti(h,h.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Ti(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(y){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(y):(o.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const v=ad(c);if(y===126)return d>1?l(y):(o.consume(y),d++,m);if(d<2&&!n)return l(y);const w=o.exit("strikethroughSequenceTemporary"),b=ad(y);return w._open=!b||b===2&&!!v,w._close=!v||v===2&&!!b,a(y)}}}class mue{constructor(){this.map=[]}add(e,n,r){gue(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function gue(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function yue(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function xue(){return{flow:{null:{name:"table",tokenize:vue,resolveAll:wue}}}}function vue(t,e,n){const r=this;let i=0,s=0,o;return a;function a(O){let B=r.events.length-1;for(;B>-1;){const I=r.events[B][1].type;if(I==="lineEnding"||I==="linePrefix")B--;else break}const F=B>-1?r.events[B][1].type:null,W=F==="tableHead"||F==="tableRow"?A:l;return W===A&&r.parser.lazy[r.now().line]?n(O):W(O)}function l(O){return t.enter("tableHead"),t.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,s+=1),u(O)}function u(O){return O===null?n(O):it(O)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),m):n(O):Tt(O)?Pt(t,u,"whitespace")(O):(s+=1,o&&(o=!1,i+=1),O===124?(t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),d(O)))}function d(O){return O===null||O===124||Xt(O)?(t.exit("data"),u(O)):(t.consume(O),O===92?h:d)}function h(O){return O===92||O===124?(t.consume(O),d):d(O)}function m(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(O):(t.enter("tableDelimiterRow"),o=!1,Tt(O)?Pt(t,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):y(O))}function y(O){return O===45||O===58?w(O):O===124?(o=!0,t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),v):_(O)}function v(O){return Tt(O)?Pt(t,w,"whitespace")(O):w(O)}function w(O){return O===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(O),t.exit("tableDelimiterMarker"),b):O===45?(s+=1,b(O)):O===null||it(O)?N(O):_(O)}function b(O){return O===45?(t.enter("tableDelimiterFiller"),k(O)):_(O)}function k(O){return O===45?(t.consume(O),k):O===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(O),t.exit("tableDelimiterMarker"),C):(t.exit("tableDelimiterFiller"),C(O))}function C(O){return Tt(O)?Pt(t,N,"whitespace")(O):N(O)}function N(O){return O===124?y(O):O===null||it(O)?!o||i!==s?_(O):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(O)):_(O)}function _(O){return n(O)}function A(O){return t.enter("tableRow"),M(O)}function M(O){return O===124?(t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),M):O===null||it(O)?(t.exit("tableRow"),e(O)):Tt(O)?Pt(t,M,"whitespace")(O):(t.enter("data"),R(O))}function R(O){return O===null||O===124||Xt(O)?(t.exit("data"),M(O)):(t.consume(O),O===92?D:R)}function D(O){return O===92||O===124?(t.consume(O),R):R(O)}}function wue(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const h=new mue;for(;++n<t.length;){const m=t[n],y=m[1];m[0]==="enter"?y.type==="tableHead"?(a=!1,l!==0&&(nD(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",c,e]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",u,e]])),i=y.type==="tableDelimiterRow"?2:u?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=ny(h,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=ny(h,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):y.type==="tableHead"?(a=!0,l=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=ny(h,e,s,i,n,d)):o[1]!==0&&(d=ny(h,e,o,i,n,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&nD(h,e,l,c,u),h.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=yue(e.events,n))}return t}function ny(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},ku(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=ku(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=ku(e.events,n[2]),u=ku(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const h=e.events[n[2]],m=e.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,v=n[3]-n[2]-1;t.add(y,v,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},ku(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function nD(t,e,n,r,i){const s=[],o=ku(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function ku(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const bue={name:"tasklistCheck",tokenize:Sue};function kue(){return{text:{91:bue}}}function Sue(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Xt(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return it(l)?e(l):Tt(l)?t.check({tokenize:Cue},e,n)(l):n(l)}}function Cue(t,e,n){return Pt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Eue(t){return yB([Xce(),oue(),pue(t),xue(),kue()])}const Nue={};function Tue(t){const e=this,n=t||Nue,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Eue(n)),s.push(qce()),o.push(Yce(n))}const Aue="modulepreload",_ue=function(t){return"/"+t},rD={},Mue=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=_ue(l),l in rD)return;rD[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Aue,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};async function Pue(t,e){const{codeToTokens:n,bundledLanguages:r}=await Mue(async()=>{const{codeToTokens:s,bundledLanguages:o}=await import("./index-Bgnf4IzZ.js");return{codeToTokens:s,bundledLanguages:o}},[]);if(!(e in r))return null;const{tokens:i}=await n(t,{lang:e,defaultColor:!1,themes:{light:"github-light",dark:"github-dark"}});return i}function Rue({children:t}){const e=t.replace(/\\/g,"\\\\").replace(/\\n/g,`
`);return g.jsx(yle,{remarkPlugins:[Tue],components:Due,className:"space-y-3",children:e})}const az=ne.memo(({children:t,language:e,...n})=>{const[r,i]=S.useState([]);return S.useEffect(()=>{Pue(t,e).then(s=>{s&&i(s)})},[t,e]),r.length?g.jsx("pre",{...n,children:g.jsx("code",{children:r.map((s,o)=>g.jsxs(g.Fragment,{children:[g.jsx("span",{children:s.map((a,l)=>{const c=typeof a.htmlStyle=="string"?void 0:a.htmlStyle;return g.jsx("span",{className:"text-shiki-light bg-shiki-light-bg dark:text-shiki-dark dark:bg-shiki-dark-bg",style:c,children:a.content},l)})},o),o!==r.length-1&&`
`]}))})}):g.jsx("pre",{...n,children:t})});az.displayName="HighlightedCode";const Oue=({children:t,className:e,language:n,...r})=>{const i=typeof t=="string"?t:ZC(t),s=ve("overflow-x-scroll rounded-md border bg-background/50 p-4 font-mono text-sm [scrollbar-width:none]",e);return g.jsxs("div",{className:"group/code relative mb-4",children:[g.jsx(S.Suspense,{fallback:g.jsx("pre",{className:s,...r,children:t}),children:g.jsx(az,{language:n,className:s,children:i})}),g.jsx("div",{className:"invisible absolute right-2 top-2 flex space-x-1 rounded-lg p-1 opacity-0 transition-all duration-200 group-hover/code:visible group-hover/code:opacity-100",children:g.jsx(A0,{content:i,copyMessage:"Copied code to clipboard"})})]})};function ZC(t){var e;if(typeof t=="string")return t;if((e=t==null?void 0:t.props)!=null&&e.children){let n=t.props.children;return Array.isArray(n)?n.map(r=>ZC(r)).join(""):ZC(n)}return""}const Due={h1:dr("h1","text-2xl font-semibold"),h2:dr("h2","font-semibold text-xl"),h3:dr("h3","font-semibold text-lg"),h4:dr("h4","font-semibold text-base"),h5:dr("h5","font-medium"),strong:dr("strong","font-semibold"),a:dr("a","underline underline-offset-2"),blockquote:dr("blockquote","border-l-2 border-primary pl-4"),code:({children:t,className:e,node:n,...r})=>{const i=/language-(\w+)/.exec(e||"");return i?g.jsx(Oue,{className:e,language:i[1],...r,children:t}):g.jsx("code",{className:ve("font-mono [:not(pre)>&]:rounded-md [:not(pre)>&]:bg-background/50 [:not(pre)>&]:px-1 [:not(pre)>&]:py-0.5"),...r,children:t})},pre:({children:t})=>t,ol:dr("ol","list-decimal space-y-2 pl-6"),ul:dr("ul","list-disc space-y-2 pl-6"),li:dr("li","my-1.5"),table:dr("table","w-full border-collapse overflow-y-auto rounded-md border border-foreground/20"),th:dr("th","border border-foreground/20 px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right"),td:dr("td","border border-foreground/20 px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right"),tr:dr("tr","m-0 border-t p-0 even:bg-muted"),p:dr("p","whitespace-pre-wrap leading-relaxed"),hr:dr("hr","border-foreground/20")};function dr(t,e){const n=({node:r,...i})=>g.jsx(t,{className:e,...i});return n.displayName=t,n}const jue=Bd("group/message relative break-words rounded-lg p-3 text-sm sm:max-w-[70%]",{variants:{isUser:{true:"bg-primary text-primary-foreground",false:"bg-muted text-foreground"},isError:{true:"bg-red-100 dark:bg-red-900/20",false:""},animation:{none:"",slide:"duration-300 animate-in fade-in-0",scale:"duration-300 animate-in fade-in-0 zoom-in-75",fade:"duration-500 animate-in fade-in-0"}},compoundVariants:[{isUser:!0,animation:"slide",class:"slide-in-from-right"},{isUser:!1,animation:"slide",class:"slide-in-from-left"},{isUser:!0,animation:"scale",class:"origin-bottom-right"},{isUser:!1,animation:"scale",class:"origin-bottom-left"}]}),Iue=({role:t,content:e,createdAt:n,showTimeStamp:r=!1,animation:i="scale",actions:s,className:o,experimental_attachments:a,isError:l=!1})=>{const c=t==="user",u=S.useMemo(()=>a==null?void 0:a.map(h=>{const m=Lue(h.url);return new File([m],h.name??"Unknown")}),[a]),d=n==null?void 0:n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{className:ve("flex flex-col",c?"items-end":"items-start"),children:[u?g.jsx("div",{className:"mb-1 flex gap-2 flex-wrap",children:u.map((h,m)=>g.jsx(WT,{file:h},m))}):null,g.jsxs("div",{className:ve(jue({isUser:c,isError:l,animation:i}),o),children:[g.jsx("div",{children:g.jsx(Rue,{children:e})}),t==="assistant"&&s?g.jsx("div",{className:"absolute -bottom-4 right-2 flex space-x-1 rounded-lg border bg-background p-1 opacity-0 transition-opacity group-hover/message:opacity-100 text-foreground",children:s}):null]}),r&&n?g.jsx("time",{dateTime:n.toISOString(),className:ve("mt-1 block px-1 text-xs opacity-50",i!=="none"&&"duration-500 animate-in fade-in-0"),children:d}):null]})};function Lue(t){const e=t.split(",")[1],n=Buffer.from(e??"","base64");return new Uint8Array(n)}function Fue(){return g.jsx("div",{className:"justify-left flex space-x-1",children:g.jsx("div",{className:"rounded-lg bg-muted p-3",children:g.jsxs("div",{className:"flex -space-x-2.5",children:[g.jsx(f1,{className:"h-5 w-5 animate-typing-dot-bounce"}),g.jsx(f1,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),g.jsx(f1,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}function Bue({messages:t,showTimeStamps:e=!0,isTyping:n=!1,messageOptions:r}){return g.jsxs("div",{className:"space-y-4 overflow-visible",children:[t.map((i,s)=>{const o=typeof r=="function"?r(i):r;return i.role==="assistant"&&!i.content.trim()?null:g.jsx(Iue,{showTimeStamp:e,...i,...o},s)}),n&&g.jsx(Fue,{})]})}function zue({label:t,append:e,suggestions:n}){return g.jsxs("div",{className:"space-y-6",children:[g.jsx("h2",{className:"text-center text-2xl font-bold",children:t}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-6 text-sm items-center justify-center",children:n.map(r=>g.jsx("button",{onClick:()=>e({role:"user",content:r}),className:"h-max rounded-xl border bg-transparent p-4 hover:bg-accent",children:g.jsx("p",{children:r})},r))})]})}const $ue=50;function Vue(t){const e=S.useRef(null),n=S.useRef(null),[r,i]=S.useState(!0),s=()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},o=()=>{if(e.current){const{scrollTop:l,scrollHeight:c,clientHeight:u}=e.current;if(n.current?l<n.current:!1)i(!1);else{const h=Math.abs(c-l-u)<$ue;i(h)}n.current=l}},a=()=>{i(!1)};return S.useEffect(()=>{e.current&&(n.current=e.current.scrollTop)},[]),S.useEffect(()=>{r&&s()},t),{containerRef:e,scrollToBottom:s,handleScroll:o,shouldAutoScroll:r,handleTouchStart:a}}function Wue({messages:t,children:e}){const{containerRef:n,scrollToBottom:r,handleScroll:i,shouldAutoScroll:s,handleTouchStart:o}=Vue([t]);return g.jsxs("div",{className:"grid overflow-y-auto pb-4 grid-cols-1",ref:n,onScroll:i,onTouchStart:o,children:[g.jsx("div",{className:"[grid-column:1/1] [grid-row:1/1] max-w-full",children:e}),g.jsx("div",{className:"flex justify-end items-end [grid-column:1/1] [grid-row:1/1] flex-1",children:!s&&g.jsx("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:g.jsx(pt,{onClick:r,className:"h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:g.jsx(jX,{className:"h-4 w-4"})})})})]})}const lz=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ve("grid max-h-full w-full grid-rows-[1fr_auto]",t),...e}));lz.displayName="ChatContainer";const cz=S.forwardRef(({children:t,handleSubmit:e,isPending:n,className:r},i)=>{const[s,o]=S.useState(null),a=l=>{if(n){l.preventDefault();return}if(!s){e(l);return}const c=Hue(s);e(l,{experimental_attachments:c}),o(null)};return g.jsx("form",{ref:i,onSubmit:a,className:r,children:t({files:s,setFiles:o})})});cz.displayName="ChatForm";function Hue(t){const e=new DataTransfer;for(const n of Array.from(t))e.items.add(n);return e.files}function Uue({agentId:t,initialMessages:e=[],agentName:n,threadId:r,memory:i}){const[s,o]=S.useState(e),[a,l]=S.useState(""),[c,u]=S.useState(!1),{mutate:d}=zT();S.useEffect(()=>{e&&o(e)},[e]);const h=S.useCallback(C=>{l(C.target.value)},[]),m=async C=>{var M;if((M=C==null?void 0:C.preventDefault)==null||M.call(C),!a.trim()||c)return;const N=a;l(""),u(!0);const _={id:Date.now().toString(),role:"user",content:N},A={id:(Date.now()+1).toString(),role:"assistant",content:""};o(R=>[...R,_,A]);try{const R=await fetch("/api/agents/"+t+"/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[N],...i?{threadId:r,resourceid:t}:{}})});if(!R.body)throw new Error("No response body");if(R.status!==200){const I=await R.json();throw new Error(I.message)}d(`/api/memory/threads?resourceid=${t}&agentId=${t}`);const D=R.body.getReader(),O=new TextDecoder;let B="",F="",W="";try{for(;;){const{done:I,value:Y}=await D.read();if(I)break;const V=O.decode(Y);B+=V;const G=B.matchAll(/0:"([^"]*)"/g),H=B.matchAll(/3:"([^"]*)"/g);if(H)for(const $ of H){const L=$[1];W+=L,o(q=>[...q.slice(0,-1),{...q[q.length-1],content:W,isError:!0}])}for(const $ of G){const L=$[1];F+=L,o(q=>[...q.slice(0,-1),{...q[q.length-1],content:F}])}B=""}}catch(I){throw new Error(I.message)}finally{D.releaseLock()}}catch(R){o(D=>[...D.slice(0,-1),{...D[D.length-1],content:(R==null?void 0:R.message)||"An error occurred while processing your request.",isError:!0}])}finally{u(!1)}},y=s.at(-1),v=s.length===0,w=c&&(y==null?void 0:y.role)==="assistant"&&!(y!=null&&y.content.trim()),b=S.useCallback(C=>{l(C.content),m()},[m]),k=["What capabilities do you have?","How can you help me?","Tell me about yourself"];return g.jsxs(lz,{className:"h-full px-4 pb-3 pt-4 max-w-[1000px] mx-auto",children:[g.jsx("div",{className:"flex flex-col h-full",children:v?g.jsx("div",{className:"mx-auto max-w-2xl",children:g.jsx(zue,{label:`Chat with ${n}`,append:b,suggestions:k})}):g.jsx(Bn,{className:" h-[calc(100vh-15rem)] px-4",children:g.jsx(Wue,{messages:s,children:g.jsx(Bue,{messages:s,isTyping:w})})})}),g.jsxs("div",{className:"flex flex-col mt-auto gap-2",children:[g.jsx(cz,{isPending:c||w,handleSubmit:m,children:({files:C,setFiles:N})=>g.jsx(tB,{value:a,onChange:h,files:C,setFiles:N,isGenerating:c,placeholder:"Enter your message..."})}),!i&&g.jsxs("div",{className:"flex items-center gap-1 text-sm text-mastra-el-5",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-purple-400",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M12 16v-4"}),g.jsx("path",{d:"M12 8h.01"})]}),g.jsxs("span",{className:"text-xs text-gray-300/60",children:["Agent will not remember previous messages. To enable memory for agent see"," ",g.jsx("a",{href:"https://mastra.ai/docs/agents/01-agent-memory",target:"_blank",rel:"noopener",className:"text-gray-300/60 hover:text-gray-100 underline",children:"docs."})]})]})]})]})}function lA(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:v}=m,w=ne.useRef(null),b=ne.useRef(new Map).current;return g.jsx(i,{scope:y,itemMap:b,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=ne.forwardRef((m,y)=>{const{scope:v,children:w}=m,b=s(a,v),k=kt(y,b.collectionRef);return g.jsx(uo,{ref:k,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=ne.forwardRef((m,y)=>{const{scope:v,children:w,...b}=m,k=ne.useRef(null),C=kt(y,k),N=s(c,v);return ne.useEffect(()=>(N.itemMap.set(k,{ref:k,...b}),()=>void N.itemMap.delete(k))),g.jsx(uo,{[u]:"",ref:C,children:w})});d.displayName=c;function h(m){const y=s(t+"CollectionConsumer",m);return ne.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((N,_)=>b.indexOf(N.ref.current)-b.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}var que=tK.useId||(()=>{}),Yue=0;function zn(t){const[e,n]=S.useState(que());return Ar(()=>{n(r=>r??String(Yue++))},[t]),e?`radix-${e}`:""}function mo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Gue({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=In(n),l=S.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function Gue({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),s=In(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Z1="rovingFocusGroup.onEntryFocus",Kue={bubbles:!1,cancelable:!0},cv="RovingFocusGroup",[QC,uz,Xue]=lA(cv),[Zue,uv]=Oi(cv,[Xue]),[Que,Jue]=Zue(cv),dz=S.forwardRef((t,e)=>g.jsx(QC.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(QC.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(ede,{...t,ref:e})})}));dz.displayName=cv;var ede=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=S.useRef(null),m=kt(e,h),y=Xp(s),[v=null,w]=mo({prop:o,defaultProp:a,onChange:l}),[b,k]=S.useState(!1),C=In(c),N=uz(n),_=S.useRef(!1),[A,M]=S.useState(0);return S.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Z1,C),()=>R.removeEventListener(Z1,C)},[C]),g.jsx(Que,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:v,onItemFocus:S.useCallback(R=>w(R),[w]),onItemShiftTab:S.useCallback(()=>k(!0),[]),onFocusableItemAdd:S.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:S.useCallback(()=>M(R=>R-1),[]),children:g.jsx(Xe.div,{tabIndex:b||A===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{_.current=!0}),onFocus:Re(t.onFocus,R=>{const D=!_.current;if(R.target===R.currentTarget&&D&&!b){const O=new CustomEvent(Z1,Kue);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const B=N().filter(V=>V.focusable),F=B.find(V=>V.active),W=B.find(V=>V.id===v),Y=[F,W,...B].filter(Boolean).map(V=>V.ref.current);pz(Y,u)}}_.current=!1}),onBlur:Re(t.onBlur,()=>k(!1))})})}),fz="RovingFocusGroupItem",hz=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=zn(),l=s||a,c=Jue(fz,n),u=c.currentTabStopId===l,d=uz(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return S.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),g.jsx(QC.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:g.jsx(Xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Re(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:Re(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Re(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=rde(y,c.orientation,c.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=d().filter(k=>k.focusable).map(k=>k.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const k=b.indexOf(y.currentTarget);b=c.loop?ide(b,k+1):b.slice(k+1)}setTimeout(()=>pz(b))}})})})});hz.displayName=fz;var tde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nde(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rde(t,e,n){const r=nde(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tde[r]}function pz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ide(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mz=dz,gz=hz,cA="Tabs",[sde,rLe]=Oi(cA,[uv]),yz=uv(),[ode,uA]=sde(cA),xz=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Xp(a),[d,h]=mo({prop:r,onChange:i,defaultProp:s});return g.jsx(ode,{scope:n,baseId:zn(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:g.jsx(Xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});xz.displayName=cA;var vz="TabsList",wz=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=uA(vz,n),o=yz(n);return g.jsx(mz,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(Xe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});wz.displayName=vz;var bz="TabsTrigger",kz=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=uA(bz,n),a=yz(n),l=Ez(o.baseId,r),c=Nz(o.baseId,r),u=r===o.value;return g.jsx(gz,{asChild:!0,...a,focusable:!i,active:u,children:g.jsx(Xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Re(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Re(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});kz.displayName=bz;var Sz="TabsContent",Cz=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=uA(Sz,n),l=Ez(a.baseId,r),c=Nz(a.baseId,r),u=r===a.value,d=S.useRef(u);return S.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),g.jsx(Pr,{present:i||u,children:({present:h})=>g.jsx(Xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Cz.displayName=Sz;function Ez(t,e){return`${t}-trigger-${e}`}function Nz(t,e){return`${t}-content-${e}`}var ade=xz,Tz=wz,Az=kz,_z=Cz;const dA=ade,dv=S.forwardRef(({className:t,...e},n)=>g.jsx(Tz,{ref:n,className:ve(t),...e}));dv.displayName=Tz.displayName;const Zs=S.forwardRef(({className:t,...e},n)=>g.jsx(Az,{ref:n,className:ve(t),...e}));Zs.displayName=Az.displayName;const Qs=S.forwardRef(({className:t,...e},n)=>g.jsx(_z,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qs.displayName=_z.displayName;function lde({agentId:t}){var i;const{isLoading:e,agent:n}=Dc(t),r=ko();return e?g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"})]})]})]})}):g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"Name"}),g.jsx("p",{className:"text-mastra-el-5",children:n==null?void 0:n.name})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"Instructions"}),g.jsx("p",{className:"text-mastra-el-5 whitespace-pre-wrap",children:n==null?void 0:n.instructions})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"Model"}),g.jsx("p",{className:"text-mastra-el-5",children:n==null?void 0:n.modelId})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"Provider"}),g.jsx("p",{className:"text-mastra-el-5",children:(i=n==null?void 0:n.provider)==null?void 0:i.split(".")[0].toUpperCase()})]}),g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"Tools"}),g.jsx("div",{className:"flex flex-col gap-2 text-mastra-el-5",children:Object.entries((n==null?void 0:n.tools)??{}).map(([s,o])=>g.jsx("span",{onClick:()=>{r(`/tools/${t}/${o.id}`)},className:"no-underline",children:o.id},s))})]})]})})}function cde({agentId:t}){return g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs w-[400px]",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"GET"}),g.jsx("p",{className:"text-mastra-el-5",children:"/api/agents"})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"GET"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"GET"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/evals/ci"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"GET"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/evals/live"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/instructions"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/generate"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/stream"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/text-object"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/agents/",t,"/stream-object"]})]})]})})}function ude(t,e=globalThis==null?void 0:globalThis.document){const n=In(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dde="DismissableLayer",JC="dismissableLayer.update",fde="dismissableLayer.pointerDownOutside",hde="dismissableLayer.focusOutside",iD,Mz=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hd=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(Mz),[u,d]=S.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),y=kt(e,M=>d(M)),v=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),k=u?v.indexOf(u):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,N=k>=b,_=gde(M=>{const R=M.target,D=[...c.branches].some(O=>O.contains(R));!N||D||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},h),A=yde(M=>{const R=M.target;[...c.branches].some(O=>O.contains(R))||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},h);return ude(M=>{k===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},h),S.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(iD=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),sD(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=iD)}},[u,h,n,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),sD())},[u,c]),S.useEffect(()=>{const M=()=>m({});return document.addEventListener(JC,M),()=>document.removeEventListener(JC,M)},[]),g.jsx(Xe.div,{...l,ref:y,style:{pointerEvents:C?N?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,_.onPointerDownCapture)})});Hd.displayName=dde;var pde="DismissableLayerBranch",mde=S.forwardRef((t,e)=>{const n=S.useContext(Mz),r=S.useRef(null),i=kt(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Xe.div,{...t,ref:i})});mde.displayName=pde;function gde(t,e=globalThis==null?void 0:globalThis.document){const n=In(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Pz(fde,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yde(t,e=globalThis==null?void 0:globalThis.document){const n=In(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&Pz(hde,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sD(){const t=new CustomEvent(JC);document.dispatchEvent(t)}function Pz(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?QF(i,s):i.dispatchEvent(s)}var Q1="focusScope.autoFocusOnMount",J1="focusScope.autoFocusOnUnmount",oD={bubbles:!1,cancelable:!0},xde="FocusScope",om=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=S.useState(null),c=In(i),u=In(s),d=S.useRef(null),h=kt(e,v=>l(v)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let v=function(C){if(m.paused||!a)return;const N=C.target;a.contains(N)?d.current=N:Ga(d.current,{select:!0})},w=function(C){if(m.paused||!a)return;const N=C.relatedTarget;N!==null&&(a.contains(N)||Ga(d.current,{select:!0}))},b=function(C){if(document.activeElement===document.body)for(const _ of C)_.removedNodes.length>0&&Ga(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const k=new MutationObserver(b);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),k.disconnect()}}},[r,a,m.paused]),S.useEffect(()=>{if(a){lD.add(m);const v=document.activeElement;if(!a.contains(v)){const b=new CustomEvent(Q1,oD);a.addEventListener(Q1,c),a.dispatchEvent(b),b.defaultPrevented||(vde(Cde(Rz(a)),{select:!0}),document.activeElement===v&&Ga(a))}return()=>{a.removeEventListener(Q1,c),setTimeout(()=>{const b=new CustomEvent(J1,oD);a.addEventListener(J1,u),a.dispatchEvent(b),b.defaultPrevented||Ga(v??document.body,{select:!0}),a.removeEventListener(J1,u),lD.remove(m)},0)}}},[a,c,u,m]);const y=S.useCallback(v=>{if(!n&&!r||m.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const k=v.currentTarget,[C,N]=wde(k);C&&N?!v.shiftKey&&b===N?(v.preventDefault(),n&&Ga(C,{select:!0})):v.shiftKey&&b===C&&(v.preventDefault(),n&&Ga(N,{select:!0})):b===k&&v.preventDefault()}},[n,r,m.paused]);return g.jsx(Xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});om.displayName=xde;function vde(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ga(r,{select:e}),document.activeElement!==n)return}function wde(t){const e=Rz(t),n=aD(e,t),r=aD(e.reverse(),t);return[n,r]}function Rz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aD(t,e){for(const n of t)if(!bde(n,{upTo:e}))return n}function bde(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kde(t){return t instanceof HTMLInputElement&&"select"in t}function Ga(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kde(t)&&e&&t.select()}}var lD=Sde();function Sde(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cD(t,e),t.unshift(e)},remove(e){var n;t=cD(t,e),(n=t[0])==null||n.resume()}}}function cD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Cde(t){return t.filter(e=>e.tagName!=="A")}var Ede="Portal",am=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);Ar(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?BF.createPortal(g.jsx(Xe.div,{...r,ref:e}),o):null});am.displayName=Ede;var ek=0;function fv(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uD()),document.body.insertAdjacentElement("beforeend",t[1]??uD()),ek++,()=>{ek===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ek--}},[])}function uD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qs=function(){return qs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qs.apply(this,arguments)};function Oz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nde(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Zy="right-scroll-bar-position",Qy="width-before-scroll-bar",Tde="with-scroll-bars-hidden",Ade="--removed-body-scroll-bar-size";function tk(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _de(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Mde=typeof window<"u"?S.useLayoutEffect:S.useEffect,dD=new WeakMap;function Pde(t,e){var n=_de(null,function(r){return t.forEach(function(i){return tk(i,r)})});return Mde(function(){var r=dD.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||tk(a,null)}),s.forEach(function(a){i.has(a)||tk(a,o)})}dD.set(n,t)},[t]),n}function Rde(t){return t}function Ode(t,e){e===void 0&&(e=Rde);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Dde(t){t===void 0&&(t={});var e=Ode(null);return e.options=qs({async:!0,ssr:!1},t),e}var Dz=function(t){var e=t.sideCar,n=Oz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,qs({},n))};Dz.isSideCarExport=!0;function jde(t,e){return t.useMedium(e),Dz}var jz=Dde(),nk=function(){},hv=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:nk,onWheelCapture:nk,onTouchMoveCapture:nk}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,v=t.allowPinchZoom,w=t.as,b=w===void 0?"div":w,k=t.gapMode,C=Oz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=Pde([n,e]),A=qs(qs({},C),i);return S.createElement(S.Fragment,null,u&&S.createElement(N,{sideCar:jz,removeScrollBar:c,shards:d,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:k}),o?S.cloneElement(S.Children.only(a),qs(qs({},A),{ref:_})):S.createElement(b,qs({},A,{className:l,ref:_}),a))});hv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hv.classNames={fullWidth:Qy,zeroRight:Zy};var Ide=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lde(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ide();return e&&t.setAttribute("nonce",e),t}function Fde(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bde(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zde=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Lde())&&(Fde(e,n),Bde(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$de=function(){var t=zde();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Iz=function(){var t=$de(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Vde={left:0,top:0,right:0,gap:0},rk=function(t){return parseInt(t||"",10)||0},Wde=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rk(n),rk(r),rk(i)]},Hde=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Vde;var e=Wde(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ude=Iz(),Vu="data-scroll-locked",qde=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tde,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qy,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qy," .").concat(Qy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vu,`] {
    `).concat(Ade,": ").concat(a,`px;
  }
`)},fD=function(){var t=parseInt(document.body.getAttribute(Vu)||"0",10);return isFinite(t)?t:0},Yde=function(){S.useEffect(function(){return document.body.setAttribute(Vu,(fD()+1).toString()),function(){var t=fD()-1;t<=0?document.body.removeAttribute(Vu):document.body.setAttribute(Vu,t.toString())}},[])},Gde=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Yde();var s=S.useMemo(function(){return Hde(i)},[i]);return S.createElement(Ude,{styles:qde(s,!e,i,n?"":"!important")})},eE=!1;if(typeof window<"u")try{var ry=Object.defineProperty({},"passive",{get:function(){return eE=!0,!0}});window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{eE=!1}var mu=eE?{passive:!1}:!1,Kde=function(t){return t.tagName==="TEXTAREA"},Lz=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kde(t)&&n[e]==="visible")},Xde=function(t){return Lz(t,"overflowY")},Zde=function(t){return Lz(t,"overflowX")},hD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Fz(t,r);if(i){var s=Bz(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qde=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jde=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Fz=function(t,e){return t==="v"?Xde(e):Zde(e)},Bz=function(t,e){return t==="v"?Qde(e):Jde(e)},efe=function(t,e){return t==="h"&&e==="rtl"?-1:1},tfe=function(t,e,n,r,i){var s=efe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var m=Bz(t,a),y=m[0],v=m[1],w=m[2],b=v-w-s*y;(y||b)&&Fz(t,a)&&(d+=b,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},iy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pD=function(t){return[t.deltaX,t.deltaY]},mD=function(t){return t&&"current"in t?t.current:t},nfe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rfe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ife=0,gu=[];function sfe(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(ife++)[0],s=S.useState(Iz)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Nde([t.lockRef.current],(t.shards||[]).map(mD),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=iy(v),k=n.current,C="deltaX"in v?v.deltaX:k[0]-b[0],N="deltaY"in v?v.deltaY:k[1]-b[1],_,A=v.target,M=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in v&&M==="h"&&A.type==="range")return!1;var R=hD(M,A);if(!R)return!0;if(R?_=M:(_=M==="v"?"h":"v",R=hD(M,A)),!R)return!1;if(!r.current&&"changedTouches"in v&&(C||N)&&(r.current=_),!_)return!0;var D=r.current||_;return tfe(D,w,v,D==="h"?C:N)},[]),l=S.useCallback(function(v){var w=v;if(!(!gu.length||gu[gu.length-1]!==s)){var b="deltaY"in w?pD(w):iy(w),k=e.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&nfe(_.delta,b)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var C=(o.current.shards||[]).map(mD).filter(Boolean).filter(function(_){return _.contains(w.target)}),N=C.length>0?a(w,C[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=S.useCallback(function(v,w,b,k){var C={name:v,delta:w,target:b,should:k,shadowParent:ofe(b)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(N){return N!==C})},1)},[]),u=S.useCallback(function(v){n.current=iy(v),r.current=void 0},[]),d=S.useCallback(function(v){c(v.type,pD(v),v.target,a(v,t.lockRef.current))},[]),h=S.useCallback(function(v){c(v.type,iy(v),v.target,a(v,t.lockRef.current))},[]);S.useEffect(function(){return gu.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,mu),document.addEventListener("touchmove",l,mu),document.addEventListener("touchstart",u,mu),function(){gu=gu.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,mu),document.removeEventListener("touchmove",l,mu),document.removeEventListener("touchstart",u,mu)}},[]);var m=t.removeScrollBar,y=t.inert;return S.createElement(S.Fragment,null,y?S.createElement(s,{styles:rfe(i)}):null,m?S.createElement(Gde,{gapMode:t.gapMode}):null)}function ofe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const afe=jde(jz,sfe);var lm=S.forwardRef(function(t,e){return S.createElement(hv,qs({},t,{ref:e,sideCar:afe}))});lm.classNames=hv.classNames;var lfe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yu=new WeakMap,sy=new WeakMap,oy={},ik=0,zz=function(t){return t&&(t.host||zz(t.parentNode))},cfe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=zz(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ufe=function(t,e,n,r){var i=cfe(e,Array.isArray(t)?t:[t]);oy[n]||(oy[n]=new WeakMap);var s=oy[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",v=(yu.get(h)||0)+1,w=(s.get(h)||0)+1;yu.set(h,v),s.set(h,w),o.push(h),v===1&&y&&sy.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),a.clear(),ik++,function(){o.forEach(function(d){var h=yu.get(d)-1,m=s.get(d)-1;yu.set(d,h),s.set(d,m),h||(sy.has(d)||d.removeAttribute(r),sy.delete(d)),m||d.removeAttribute(n)}),ik--,ik||(yu=new WeakMap,yu=new WeakMap,sy=new WeakMap,oy={})}},pv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=lfe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ufe(r,i,n,"aria-hidden")):function(){return null}},fA="Dialog",[$z,Vz]=Oi(fA),[dfe,Ms]=$z(fA),Wz=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=S.useRef(null),l=S.useRef(null),[c=!1,u]=mo({prop:r,defaultProp:i,onChange:s});return g.jsx(dfe,{scope:e,triggerRef:a,contentRef:l,contentId:zn(),titleId:zn(),descriptionId:zn(),open:c,onOpenChange:u,onOpenToggle:S.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};Wz.displayName=fA;var Hz="DialogTrigger",Uz=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ms(Hz,n),s=kt(e,i.triggerRef);return g.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mA(i.open),...r,ref:s,onClick:Re(t.onClick,i.onOpenToggle)})});Uz.displayName=Hz;var hA="DialogPortal",[ffe,qz]=$z(hA,{forceMount:void 0}),Yz=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ms(hA,e);return g.jsx(ffe,{scope:e,forceMount:n,children:S.Children.map(r,o=>g.jsx(Pr,{present:n||s.open,children:g.jsx(am,{asChild:!0,container:i,children:o})}))})};Yz.displayName=hA;var O0="DialogOverlay",Gz=S.forwardRef((t,e)=>{const n=qz(O0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ms(O0,t.__scopeDialog);return s.modal?g.jsx(Pr,{present:r||s.open,children:g.jsx(hfe,{...i,ref:e})}):null});Gz.displayName=O0;var hfe=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ms(O0,n);return g.jsx(lm,{as:uo,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Xe.div,{"data-state":mA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),yc="DialogContent",Kz=S.forwardRef((t,e)=>{const n=qz(yc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ms(yc,t.__scopeDialog);return g.jsx(Pr,{present:r||s.open,children:s.modal?g.jsx(pfe,{...i,ref:e}):g.jsx(mfe,{...i,ref:e})})});Kz.displayName=yc;var pfe=S.forwardRef((t,e)=>{const n=Ms(yc,t.__scopeDialog),r=S.useRef(null),i=kt(e,n.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return pv(s)},[]),g.jsx(Xz,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,s=>s.preventDefault())})}),mfe=S.forwardRef((t,e)=>{const n=Ms(yc,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return g.jsx(Xz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Xz=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Ms(yc,n),l=S.useRef(null),c=kt(e,l);return fv(),g.jsxs(g.Fragment,{children:[g.jsx(om,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Hd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mA(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(yfe,{titleId:a.titleId}),g.jsx(vfe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),pA="DialogTitle",Zz=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ms(pA,n);return g.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});Zz.displayName=pA;var Qz="DialogDescription",Jz=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ms(Qz,n);return g.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});Jz.displayName=Qz;var e$="DialogClose",t$=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ms(e$,n);return g.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>i.onOpenChange(!1))})});t$.displayName=e$;function mA(t){return t?"open":"closed"}var n$="DialogTitleWarning",[gfe,r$]=OQ(n$,{contentName:yc,titleName:pA,docsSlug:"dialog"}),yfe=({titleId:t})=>{const e=r$(n$),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xfe="DialogDescriptionWarning",vfe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r$(xfe).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},i$=Wz,wfe=Uz,s$=Yz,o$=Gz,a$=Kz,bfe=Zz,kfe=Jz,l$=t$,c$="AlertDialog",[Sfe,iLe]=Oi(c$,[Vz]),pa=Vz(),u$=t=>{const{__scopeAlertDialog:e,...n}=t,r=pa(e);return g.jsx(i$,{...r,...n,modal:!0})};u$.displayName=c$;var Cfe="AlertDialogTrigger",d$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=pa(n);return g.jsx(wfe,{...i,...r,ref:e})});d$.displayName=Cfe;var Efe="AlertDialogPortal",f$=t=>{const{__scopeAlertDialog:e,...n}=t,r=pa(e);return g.jsx(s$,{...r,...n})};f$.displayName=Efe;var Nfe="AlertDialogOverlay",h$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=pa(n);return g.jsx(o$,{...i,...r,ref:e})});h$.displayName=Nfe;var Wu="AlertDialogContent",[Tfe,Afe]=Sfe(Wu),p$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=pa(n),o=S.useRef(null),a=kt(e,o),l=S.useRef(null);return g.jsx(gfe,{contentName:Wu,titleName:m$,docsSlug:"alert-dialog",children:g.jsx(Tfe,{scope:n,cancelRef:l,children:g.jsxs(a$,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Re(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[g.jsx(QN,{children:r}),g.jsx(Mfe,{contentRef:o})]})})})});p$.displayName=Wu;var m$="AlertDialogTitle",g$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=pa(n);return g.jsx(bfe,{...i,...r,ref:e})});g$.displayName=m$;var y$="AlertDialogDescription",x$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=pa(n);return g.jsx(kfe,{...i,...r,ref:e})});x$.displayName=y$;var _fe="AlertDialogAction",v$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=pa(n);return g.jsx(l$,{...i,...r,ref:e})});v$.displayName=_fe;var w$="AlertDialogCancel",b$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Afe(w$,n),s=pa(n),o=kt(e,i);return g.jsx(l$,{...s,...r,ref:o})});b$.displayName=w$;var Mfe=({contentRef:t})=>{const e=`\`${Wu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wu}\` by passing a \`${y$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Pfe=u$,Rfe=d$,Ofe=f$,k$=h$,S$=p$,C$=v$,E$=b$,N$=g$,T$=x$;const Dfe=Pfe,jfe=Rfe,A$=Ofe;function nn({open:t,onOpenChange:e,children:n}){return g.jsx(Dfe,{open:t,onOpenChange:e,children:n})}const gA=S.forwardRef(({className:t,...e},n)=>g.jsx(k$,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));gA.displayName=k$.displayName;const _$=S.forwardRef(({className:t,...e},n)=>g.jsxs(A$,{children:[g.jsx(gA,{}),g.jsx(S$,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));_$.displayName=S$.displayName;const M$=({className:t,...e})=>g.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...e});M$.displayName="AlertDialogHeader";const P$=({className:t,...e})=>g.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});P$.displayName="AlertDialogFooter";const R$=S.forwardRef(({className:t,...e},n)=>g.jsx(N$,{ref:n,className:ve("text-lg font-semibold",t),...e}));R$.displayName=N$.displayName;const O$=S.forwardRef(({className:t,...e},n)=>g.jsx(T$,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));O$.displayName=T$.displayName;const D$=S.forwardRef(({className:t,...e},n)=>g.jsx(C$,{ref:n,className:ve(zu(),t),...e}));D$.displayName=C$.displayName;const j$=S.forwardRef(({className:t,...e},n)=>g.jsx(E$,{ref:n,className:ve(zu({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));j$.displayName=E$.displayName;nn.Trigger=jfe;nn.Portal=A$;nn.Overlay=gA;nn.Content=_$;nn.Header=M$;nn.Footer=P$;nn.Title=R$;nn.Description=O$;nn.Action=D$;nn.Cancel=j$;function I$({content:t,height:e="150px",isCopied:n=!1,isDraft:r=!1,onCopy:i,className:s=""}){return g.jsx("div",{className:`rounded-md border bg-mastra-bg-2 ${s}`,style:{height:e},children:g.jsx(Bn,{className:"h-full",children:g.jsxs("div",{className:"p-2 cursor-pointer hover:bg-mastra-bg-3/50 transition-colors group relative",onClick:i,children:[g.jsx("pre",{className:"text-[10px] whitespace-pre-wrap font-mono",children:t}),r&&g.jsx("div",{className:"mt-1.5",children:g.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-yellow-500/20 text-yellow-500",children:"Draft - Save changes to apply"})}),n&&g.jsx("span",{className:"absolute top-2 right-2 text-[10px] px-1.5 py-0.5 rounded-full bg-green-500/20 text-green-500",children:"Copied!"}),i&&g.jsx("span",{className:"absolute top-2 right-2 text-[10px] px-1.5 py-0.5 rounded-full bg-mastra-bg-3 text-mastra-el-4 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]})})})}const yA=S.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));yA.displayName="Textarea";function Ife({instructions:t,enhancedPrompt:e,isEnhancing:n,showCommentInput:r,userComment:i,onEnhance:s,onCancel:o,onSave:a,onCommentToggle:l,onCommentChange:c}){const u=e||(t==null?void 0:t.trim()),{isCopied:d,handleCopy:h}=VT({text:u||""});return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-sm font-medium text-mastra-el-5",children:" Current Instructions "})}),g.jsx(pt,{variant:"default",size:"sm",onClick:s,disabled:n||!t,className:"bg-[#6366F1] hover:bg-[#6366F1]/90 text-white font-medium",children:n?g.jsxs(g.Fragment,{children:[g.jsx(KX,{className:"mr-2 h-3 w-3 animate-spin"}),"Enhancing..."]}):g.jsxs(g.Fragment,{children:[g.jsx(QX,{className:"mr-2 h-3 w-3"}),"Enhance"]})})]}),g.jsx("div",{className:"space-y-2",children:g.jsx(I$,{content:u||"",isCopied:d,isDraft:!!e,onCopy:()=>u&&h()})}),g.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[e&&g.jsxs("div",{className:"flex space-x-1.5",children:[g.jsx(pt,{variant:"outline",onClick:o,children:"Cancel"}),g.jsx(pt,{onClick:a,disabled:!e,children:"Save"})]}),g.jsxs(pt,{variant:"ghost",size:"sm",onClick:l,className:"text-mastra-el-4 hover:text-mastra-el-5",children:[g.jsx(UX,{className:"h-3 w-3 mr-1"}),r?"Hide Comment":"Add Comment"]})]}),r&&g.jsx("div",{className:"mt-1.5 bg-mastra-bg-1/50 p-2 rounded-lg border border-mastra-bg-3 shadow-sm",children:g.jsx(yA,{value:i,onChange:m=>c(m.target.value),placeholder:"Add your comments or requirements for enhancing the prompt...",className:"w-full h-16 px-3 py-2 text-xs rounded-md bg-mastra-bg-2 border border-mastra-bg-3 text-mastra-el-5 placeholder:text-mastra-el-3 focus:outline-none focus:ring-2 focus:ring-[#6366F1]/30 focus:border-[#6366F1] transition-all"})})]})}function Lfe({version:t,index:e,isUpdating:n,onSetActive:r,onDelete:i}){return g.jsxs("div",{className:"flex items-center space-x-1",children:[t.status!=="active"&&t.status!=="draft"&&g.jsx(pt,{variant:"ghost",size:"sm",className:"h-6 px-2 hover:bg-mastra-bg-3 relative group",onClick:s=>{s.stopPropagation(),r(t,e)},disabled:n,children:g.jsx(YX,{className:"h-3 w-3"})}),e!==0&&t.status!=="active"&&g.jsx(pt,{variant:"ghost",size:"sm",className:"h-6 px-2 hover:bg-mastra-bg-3 relative group",onClick:s=>{s.stopPropagation(),i(e)},children:g.jsx(XX,{className:"h-3 w-3 text-red-400 hover:text-red-500"})})]})}function Ffe({version:t,index:e,isExpanded:n,isAnalysisExpanded:r,isUpdating:i,onToggleExpand:s,onToggleAnalysis:o,onSetActive:a,onDelete:l}){const[c,u]=S.useState(!1),[d,h]=S.useState(!0),[m,y]=S.useState(!1),{handleCopy:v,isCopied:w}=VT({text:t.content}),b=k=>k.replace(/\\n/g,`
`);return g.jsxs("div",{className:`rounded-md border ${n?"border-mastra-purple/30":"border-mastra-bg-3"} bg-mastra-bg-2`,children:[g.jsxs("div",{className:"p-2 flex items-center justify-between cursor-pointer hover:bg-mastra-bg-3/50",onClick:s,children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(rh,{className:`h-3 w-3 transition-transform ${n?"rotate-90 text-mastra-purple":""}`}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("p",{className:"text-xs font-medium text-mastra-el-4",children:["Version ",e+1]}),t.status==="active"&&g.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-green-500/20 text-green-500",children:"Active"}),t.status==="original"&&g.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-blue-500/20 text-blue-500",children:"Original"}),t.status==="draft"&&g.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-yellow-500/20 text-yellow-500",children:"Draft"})]}),g.jsx("p",{className:"text-[10px] text-mastra-el-3",children:t.timestamp.toLocaleString()})]})]}),g.jsx(Lfe,{version:t,index:e,isUpdating:i,isAnalysisExpanded:r===e,onSetActive:a,onDelete:l,onToggleAnalysis:o})]}),n&&g.jsx(Bn,{className:"h-[250px]",children:g.jsxs("div",{className:"px-2 pb-2 space-y-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:bg-mastra-bg-3/50 p-1 rounded-md mb-2",onClick:k=>{k.stopPropagation(),h(!d)},children:[g.jsx(rh,{className:`h-3 w-3 transition-transform ${d?"rotate-90":""}`}),g.jsx("p",{className:"text-xs font-medium text-mastra-el-4",children:"Instructions"})]}),d&&g.jsx("div",{className:"rounded-md border border-mastra-bg-3",children:g.jsx("div",{className:"mt-2",children:g.jsx(I$,{content:b(t.content),isCopied:w,onCopy:v})})})]}),t.analysis&&g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:bg-mastra-bg-3/50 p-1 rounded-md mb-2",onClick:k=>{k.stopPropagation(),y(!m)},children:[g.jsx(rh,{className:`h-3 w-3 transition-transform ${m?"rotate-90":""}`}),g.jsx("p",{className:"text-xs font-medium text-mastra-el-4",children:"Analysis"})]}),m&&g.jsx("div",{className:"rounded-md border border-mastra-bg-3",children:g.jsx("div",{className:"p-2",children:g.jsx("pre",{className:"text-[10px] text-mastra-el-4 whitespace-pre-wrap font-mono",children:b(t.analysis||"")})})})]}),t.evals&&t.evals.length>0&&g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:bg-mastra-bg-3/50 p-1 rounded-md",onClick:k=>{k.stopPropagation(),u(!c)},children:[g.jsx(rh,{className:`h-3 w-3 transition-transform ${c?"rotate-90":""}`}),g.jsxs("p",{className:"text-xs font-medium text-mastra-el-4",children:["Evaluations (",t.evals.length,")"]})]}),c&&g.jsx("div",{className:"pl-4",children:g.jsx("div",{className:"space-y-1 pr-4",children:t.evals.map((k,C)=>g.jsxs("div",{className:"rounded-md border border-mastra-bg-3 p-1.5 text-[10px]",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:`px-1.5 py-0.5 rounded-full min-w-[32px] text-center ${k.result.score>=.7?"bg-green-500/20 text-green-500":k.result.score>=.4?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:k.result.score.toFixed(2)}),g.jsx("span",{className:"text-mastra-el-3 text-[9px]",children:new Date(k.createdAt).toLocaleTimeString()})]})}),g.jsxs("div",{className:"mt-1 space-y-1",children:[g.jsxs("div",{className:"flex gap-1.5",children:[g.jsx("span",{className:"text-mastra-el-3 shrink-0",children:""}),g.jsx("span",{className:"text-mastra-el-4",children:k.input})]}),g.jsxs("div",{className:"flex gap-1.5",children:[g.jsx("span",{className:"text-mastra-el-3 shrink-0",children:""}),g.jsx("span",{className:"text-mastra-el-4",children:k.output})]}),g.jsxs("div",{className:"flex gap-1.5 text-[9px] text-mastra-el-3",children:[g.jsx("span",{className:"shrink-0",children:""}),g.jsx("span",{children:k.result.info.reason})]})]})]},C))})})]})]})})]})}function Bfe({versions:t,isUpdating:e,copiedVersions:n,onCopy:r,onSetActive:i,onDelete:s}){const[o,a]=S.useState(null),[l,c]=S.useState(null);return g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"flex items-center justify-between mb-1.5",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-mastra-el-5",children:"Version History"}),g.jsx("p",{className:"text-xs text-mastra-el-3",children:"Previous versions of the instructions"})]})}),g.jsx(Bn,{className:"flex-1",children:g.jsx("div",{className:"space-y-2 pr-4",children:t.map((u,d)=>g.jsx(Ffe,{version:u,index:d,isExpanded:o===d,isAnalysisExpanded:l,isUpdating:e,copiedVersions:n,onToggleExpand:()=>{if(o===d)return a(null);a(d)},onToggleAnalysis:()=>{if(l===d)return c(null);c(d)},onCopy:r,onSetActive:i,onDelete:s},d))})})]})}function zfe({agentId:t,instructions:e,versions:n,onVersionCreate:r,onVersionUpdate:i}){const[s,o]=S.useState(""),[a,l]=S.useState(""),[c,u]=S.useState(!1),[d,h]=S.useState(!1),[m,y]=S.useState(""),v=async()=>{if(e){u(!0);try{const k=await fetch(`http://localhost:4111/api/agents/${t}/instructions/enhance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instructions:e,comment:m})});if(!k.ok)throw new Error("Failed to enhance prompt");const C=await k.json();o(C.new_prompt),l(C.explanation),y(""),h(!1)}catch(k){console.error("Failed to enhance prompt:",k)}finally{u(!1)}}},w=()=>{o(""),l("")};return{enhancedPrompt:s,explanation:a,isEnhancing:c,userComment:m,showCommentInput:d,enhancePrompt:v,setUserComment:y,setShowCommentInput:h,clearEnhancement:w,applyChanges:()=>{if(!s)return;const k=n.findIndex(C=>C.status==="draft");k!==-1?i(k,{content:s,analysis:a,status:"published",timestamp:new Date}):r({content:s,timestamp:new Date,analysis:a,status:"published"}),w()}}}function $fe(t,e){const[n,r]=S.useState([]),[i,s]=S.useState({}),[o,a]=S.useState(!1),[l,c]=S.useState(null),u=async()=>{try{const v=await fetch(`/api/agents/${t}/evals/live`,{method:"GET"});if(!v.ok)throw new Error("Failed to fetch eval results");const w=await v.json();return w==null?void 0:w.evals}catch(v){return console.error("Failed to fetch eval results:",v),[]}};return S.useEffect(()=>{(async()=>{const w=await u(),b=localStorage.getItem(`agent-${t}-versions`);if(b){const k=JSON.parse(b),C=k.find(N=>N.status==="original");if(e&&C&&C.content!==e){const N=w==null?void 0:w.filter(A=>A.meta.instructions===e),_=[{content:e,timestamp:new Date,analysis:"Original instructions",status:"original",evals:N}];_[0].evals=w,r(_),localStorage.setItem(`agent-${t}-versions`,JSON.stringify(_))}else{const N=await Promise.all(k.map(async _=>{const A=w==null?void 0:w.filter(R=>R.meta.instructions===_.content);return{...{..._,timestamp:new Date(_.timestamp),status:_.content===e?"active":_.status==="active"?"published":_.status},evals:A}}));r(N)}}else if(e){const k=[{content:e,timestamp:new Date,analysis:"Original instructions",status:"original",evals:[]}],C=w==null?void 0:w.filter(N=>N.meta.instructions===e);k[0].evals=C,r(k),localStorage.setItem(`agent-${t}-versions`,JSON.stringify(k))}})()},[e,t]),S.useEffect(()=>{n.length>0&&localStorage.setItem(`agent-${t}-versions`,JSON.stringify(n))},[n,t]),{versions:n,copiedVersions:i,isUpdating:o,versionToDelete:l,setVersions:r,setVersionToDelete:c,copyToClipboard:async(v,w)=>{s(k=>({...k,[w]:!0}));const b=setTimeout(()=>{s(k=>({...k,[w]:!1}))},1e3);return()=>clearTimeout(b)},setVersionActive:async(v,w)=>{a(!0);try{if(!(await fetch(`http://localhost:4111/api/agents/${t}/instructions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instructions:v.content})})).ok)throw new Error("Failed to update instructions");r(k=>k.map((C,N)=>({...C,status:N===w?"active":C.status==="active"?"published":C.status})))}catch(b){console.error("Failed to set version as active:",b)}finally{a(!1)}},deleteVersion:v=>{r(w=>w.filter((b,k)=>k!==v)),c(null)},updateVersion:async(v,w)=>{const b={...n[v],...w};r(k=>k.map((C,N)=>N===v?b:C))}}}function Vfe({agentId:t}){const{agent:e}=Dc(t),{versions:n,isUpdating:r,versionToDelete:i,setVersions:s,setVersionToDelete:o,deleteVersion:a,updateVersion:l,setVersionActive:c}=$fe(t,e==null?void 0:e.instructions),{enhancedPrompt:u,isEnhancing:d,userComment:h,showCommentInput:m,enhancePrompt:y,setUserComment:v,setShowCommentInput:w,clearEnhancement:b,applyChanges:k}=zfe({agentId:t,instructions:e==null?void 0:e.instructions,versions:n,onVersionCreate:C=>{s(N=>[...N,C])},onVersionUpdate:l});return g.jsxs("div",{className:"grid p-4 h-full",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ife,{instructions:e==null?void 0:e.instructions,enhancedPrompt:u,isEnhancing:d,showCommentInput:m,userComment:h,onEnhance:y,onCancel:b,onSave:k,onCommentToggle:()=>w(!m),onCommentChange:v}),g.jsx(Bfe,{versions:n,isUpdating:r,copiedVersions:{},onCopy:async()=>{},onSetActive:c,onDelete:o})]}),g.jsx(nn,{open:i!==null,onOpenChange:()=>o(null),children:g.jsxs(nn.Content,{children:[g.jsxs(nn.Header,{children:[g.jsxs(nn.Title,{children:["Delete Version ",i!==null?i+1:""]}),g.jsx(nn.Description,{children:"Are you sure you want to delete this version? This action cannot be undone."})]}),g.jsxs(nn.Footer,{children:[g.jsx(nn.Cancel,{children:"Cancel"}),g.jsx(nn.Action,{className:"bg-red-500 hover:bg-red-600",onClick:()=>{i!==null&&a(i)},children:"Delete"})]})]})})]})}const L$=t=>{const[e,n]=S.useState([]),[r,i]=S.useState(!0),s=async o=>{i(!0);try{const a=await fetch(`/api/logs/${o??t}`);if(!a.ok){const c=await a.json();n([]),console.error("Error fetching logs",c),gn.error((c==null?void 0:c.error)||"Error fetching logs");return}const l=await a.json();n(l)}catch(a){n([]),console.error("Error fetching logs",a),gn.error("Error fetching logs")}finally{i(!1)}};return S.useEffect(()=>{s(t)},[t]),{logs:e,isLoading:r,refetchLogs:s}};function Wfe({agentId:t}){const{logs:e,isLoading:n,refetchLogs:r}=L$(t);return g.jsxs(Bn,{className:"h-[calc(100vh-126px)] px-4 pb-4 text-xs w-full",children:[g.jsx("div",{className:"flex justify-end sticky top-0 bg-mastra-bg-2 py-2",children:g.jsx(pt,{variant:"outline",onClick:()=>r(),children:n?g.jsx(nd,{className:"w-4 h-4 animate-spin"}):g.jsx(nd,{className:"w-4 h-4"})})}),g.jsx("div",{className:"space-y-4",children:e.length===0?g.jsxs("p",{className:"text-gray-300/60",children:["No log drains. By default, logs are sent to the console. To configure log drains see"," ",g.jsx("a",{href:"https://mastra.ai/docs/reference/observability/create-logger#upstash-logger-remote-log-drain",target:"_blank",rel:"noopener",className:" hover:text-gray-100 underline",children:"docs."})]}):e.map(i=>{const s=JSON.parse(i.message);return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("p",{className:"text-mastra-el-4",children:["[",i.timestamp,"]"]}),g.jsxs("p",{className:"text-mastra-el-5",children:["[",i.level,"]"]})]}),g.jsx("p",{className:"text-mastra-el-5 whitespace-pre-wrap",children:g.jsx("code",{children:JSON.stringify(s,null,2)})})]},i.timestamp)})})]})}function D0({agentId:t}){return g.jsxs(dA,{defaultValue:"details",children:[g.jsxs(dv,{className:"flex shrink-0 border-b",children:[g.jsx(Zs,{value:"details",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Details"})}),g.jsx(Zs,{value:"instructions",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Instructions"})}),g.jsx(Zs,{value:"endpoints",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Endpoints"})}),g.jsx(Zs,{value:"logs",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Log Drains"})})]}),g.jsx(Qs,{value:"details",children:t?g.jsx(lde,{agentId:t}):null}),g.jsx(Qs,{value:"endpoints",children:g.jsx(cde,{agentId:t})}),g.jsx(Qs,{value:"logs",children:g.jsx(Wfe,{agentId:t})}),g.jsx(Qs,{value:"instructions",children:g.jsx(Vfe,{agentId:t})})]})}const Hfe=["top","right","bottom","left"],dl=Math.min,ki=Math.max,j0=Math.round,ay=Math.floor,so=t=>({x:t,y:t}),Ufe={left:"right",right:"left",bottom:"top",top:"bottom"},qfe={start:"end",end:"start"};function tE(t,e,n){return ki(t,dl(e,n))}function ia(t,e){return typeof t=="function"?t(e):t}function sa(t){return t.split("-")[0]}function Ud(t){return t.split("-")[1]}function xA(t){return t==="x"?"y":"x"}function vA(t){return t==="y"?"height":"width"}function fl(t){return["top","bottom"].includes(sa(t))?"y":"x"}function wA(t){return xA(fl(t))}function Yfe(t,e,n){n===void 0&&(n=!1);const r=Ud(t),i=wA(t),s=vA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=I0(o)),[o,I0(o)]}function Gfe(t){const e=I0(t);return[nE(t),e,nE(e)]}function nE(t){return t.replace(/start|end/g,e=>qfe[e])}function Kfe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Xfe(t,e,n,r){const i=Ud(t);let s=Kfe(sa(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(nE)))),s}function I0(t){return t.replace(/left|right|bottom|top/g,e=>Ufe[e])}function Zfe(t){return{top:0,right:0,bottom:0,left:0,...t}}function F$(t){return typeof t!="number"?Zfe(t):{top:t,right:t,bottom:t,left:t}}function L0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function gD(t,e,n){let{reference:r,floating:i}=t;const s=fl(e),o=wA(e),a=vA(o),l=sa(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ud(e)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const Qfe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=gD(c,r,l),h=r,m={},y=0;for(let v=0;v<a.length;v++){const{name:w,fn:b}=a[v],{x:k,y:C,data:N,reset:_}=await b({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=k??u,d=C??d,m={...m,[w]:{...m[w],...N}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:d}=gD(c,h,l)),v=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:m}};async function Jh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=ia(e,t),y=F$(m),w=a[h?d==="floating"?"reference":"floating":d],b=L0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),k=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},_=L0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:C,strategy:l}):k);return{top:(b.top-_.top+y.top)/N.y,bottom:(_.bottom-b.bottom+y.bottom)/N.y,left:(b.left-_.left+y.left)/N.x,right:(_.right-b.right+y.right)/N.x}}const Jfe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ia(t,e)||{};if(c==null)return{};const d=F$(u),h={x:n,y:r},m=wA(i),y=vA(m),v=await o.getDimensions(c),w=m==="y",b=w?"top":"left",k=w?"bottom":"right",C=w?"clientHeight":"clientWidth",N=s.reference[y]+s.reference[m]-h[m]-s.floating[y],_=h[m]-s.reference[m],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=A?A[C]:0;(!M||!await(o.isElement==null?void 0:o.isElement(A)))&&(M=a.floating[C]||s.floating[y]);const R=N/2-_/2,D=M/2-v[y]/2-1,O=dl(d[b],D),B=dl(d[k],D),F=O,W=M-v[y]-B,I=M/2-v[y]/2+R,Y=tE(F,I,W),V=!l.arrow&&Ud(i)!=null&&I!==Y&&s.reference[y]/2-(I<F?O:B)-v[y]/2<0,G=V?I<F?I-F:I-W:0;return{[m]:h[m]+G,data:{[m]:Y,centerOffset:I-Y-G,...V&&{alignmentOffset:G}},reset:V}}}),ehe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=ia(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=sa(i),k=fl(a),C=sa(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(C||!v?[I0(a)]:Gfe(a)),A=y!=="none";!h&&A&&_.push(...Xfe(a,v,y,N));const M=[a,..._],R=await Jh(e,w),D=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&D.push(R[b]),d){const I=Yfe(i,o,N);D.push(R[I[0]],R[I[1]])}if(O=[...O,{placement:i,overflows:D}],!D.every(I=>I<=0)){var B,F;const I=(((B=s.flip)==null?void 0:B.index)||0)+1,Y=M[I];if(Y)return{data:{index:I,overflows:O},reset:{placement:Y}};let V=(F=O.filter(G=>G.overflows[0]<=0).sort((G,H)=>G.overflows[1]-H.overflows[1])[0])==null?void 0:F.placement;if(!V)switch(m){case"bestFit":{var W;const G=(W=O.filter(H=>{if(A){const $=fl(H.placement);return $===k||$==="y"}return!0}).map(H=>[H.placement,H.overflows.filter($=>$>0).reduce(($,L)=>$+L,0)]).sort((H,$)=>H[1]-$[1])[0])==null?void 0:W[0];G&&(V=G);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function yD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xD(t){return Hfe.some(e=>t[e]>=0)}const the=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ia(t,e);switch(r){case"referenceHidden":{const s=await Jh(e,{...i,elementContext:"reference"}),o=yD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xD(o)}}}case"escaped":{const s=await Jh(e,{...i,altBoundary:!0}),o=yD(s,n.floating);return{data:{escapedOffsets:o,escaped:xD(o)}}}default:return{}}}}};async function nhe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=sa(n),a=Ud(n),l=fl(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=ia(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const rhe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await nhe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},ihe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:b,y:k}=w;return{x:b,y:k}}},...l}=ia(t,e),c={x:n,y:r},u=await Jh(e,l),d=fl(sa(i)),h=xA(d);let m=c[h],y=c[d];if(s){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",k=m+u[w],C=m-u[b];m=tE(k,m,C)}if(o){const w=d==="y"?"top":"left",b=d==="y"?"bottom":"right",k=y+u[w],C=y-u[b];y=tE(k,y,C)}const v=a.fn({...e,[h]:m,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[d]:o}}}}}},she=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ia(t,e),u={x:n,y:r},d=fl(i),h=xA(d);let m=u[h],y=u[d];const v=ia(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const C=h==="y"?"height":"width",N=s.reference[h]-s.floating[C]+w.mainAxis,_=s.reference[h]+s.reference[C]-w.mainAxis;m<N?m=N:m>_&&(m=_)}if(c){var b,k;const C=h==="y"?"width":"height",N=["top","left"].includes(sa(i)),_=s.reference[d]-s.floating[C]+(N&&((b=o.offset)==null?void 0:b[d])||0)+(N?0:w.crossAxis),A=s.reference[d]+s.reference[C]+(N?0:((k=o.offset)==null?void 0:k[d])||0)-(N?w.crossAxis:0);y<_?y=_:y>A&&(y=A)}return{[h]:m,[d]:y}}}},ohe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ia(t,e),u=await Jh(e,c),d=sa(i),h=Ud(i),m=fl(i)==="y",{width:y,height:v}=s.floating;let w,b;d==="top"||d==="bottom"?(w=d,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,w=h==="end"?"top":"bottom");const k=v-u.top-u.bottom,C=y-u.left-u.right,N=dl(v-u[w],k),_=dl(y-u[b],C),A=!e.middlewareData.shift;let M=N,R=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=k),A&&!h){const O=ki(u.left,0),B=ki(u.right,0),F=ki(u.top,0),W=ki(u.bottom,0);m?R=y-2*(O!==0||B!==0?O+B:ki(u.left,u.right)):M=v-2*(F!==0||W!==0?F+W:ki(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:M});const D=await o.getDimensions(a.floating);return y!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function mv(){return typeof window<"u"}function qd(t){return B$(t)?(t.nodeName||"").toLowerCase():"#document"}function Ai(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Eo(t){var e;return(e=(B$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B$(t){return mv()?t instanceof Node||t instanceof Ai(t).Node:!1}function Ss(t){return mv()?t instanceof Element||t instanceof Ai(t).Element:!1}function go(t){return mv()?t instanceof HTMLElement||t instanceof Ai(t).HTMLElement:!1}function vD(t){return!mv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ai(t).ShadowRoot}function cm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ahe(t){return["table","td","th"].includes(qd(t))}function gv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function bA(t){const e=kA(),n=Ss(t)?Cs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lhe(t){let e=hl(t);for(;go(e)&&!ld(e);){if(bA(e))return e;if(gv(e))return null;e=hl(e)}return null}function kA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ld(t){return["html","body","#document"].includes(qd(t))}function Cs(t){return Ai(t).getComputedStyle(t)}function yv(t){return Ss(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hl(t){if(qd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vD(t)&&t.host||Eo(t);return vD(e)?e.host:e}function z$(t){const e=hl(t);return ld(e)?t.ownerDocument?t.ownerDocument.body:t.body:go(e)&&cm(e)?e:z$(e)}function ep(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=z$(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ai(i);if(s){const a=rE(o);return e.concat(o,o.visualViewport||[],cm(i)?i:[],a&&n?ep(a):[])}return e.concat(i,ep(i,[],n))}function rE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $$(t){const e=Cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=go(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=j0(n)!==s||j0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function SA(t){return Ss(t)?t:t.contextElement}function Hu(t){const e=SA(t);if(!go(e))return so(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=$$(e);let o=(s?j0(n.width):n.width)/r,a=(s?j0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const che=so(0);function V$(t){const e=Ai(t);return!kA()||!e.visualViewport?che:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uhe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ai(t)?!1:e}function xc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=SA(t);let o=so(1);e&&(r?Ss(r)&&(o=Hu(r)):o=Hu(t));const a=uhe(s,n,r)?V$(s):so(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Ai(s),m=r&&Ss(r)?Ai(r):r;let y=h,v=rE(y);for(;v&&r&&m!==y;){const w=Hu(v),b=v.getBoundingClientRect(),k=Cs(v),C=b.left+(v.clientLeft+parseFloat(k.paddingLeft))*w.x,N=b.top+(v.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=C,c+=N,y=Ai(v),v=rE(y)}}return L0({width:u,height:d,x:l,y:c})}function CA(t,e){const n=yv(t).scrollLeft;return e?e.left+n:xc(Eo(t)).left+n}function W$(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:CA(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function dhe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Eo(r),a=e?gv(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=so(1);const u=so(0),d=go(r);if((d||!d&&!s)&&((qd(r)!=="body"||cm(o))&&(l=yv(r)),go(r))){const m=xc(r);c=Hu(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const h=o&&!d&&!s?W$(o,l,!0):so(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function fhe(t){return Array.from(t.getClientRects())}function hhe(t){const e=Eo(t),n=yv(t),r=t.ownerDocument.body,i=ki(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ki(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+CA(t);const a=-n.scrollTop;return Cs(r).direction==="rtl"&&(o+=ki(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function phe(t,e){const n=Ai(t),r=Eo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=kA();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function mhe(t,e){const n=xc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=go(t)?Hu(t):so(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function wD(t,e,n){let r;if(e==="viewport")r=phe(t,n);else if(e==="document")r=hhe(Eo(t));else if(Ss(e))r=mhe(e,n);else{const i=V$(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return L0(r)}function H$(t,e){const n=hl(t);return n===e||!Ss(n)||ld(n)?!1:Cs(n).position==="fixed"||H$(n,e)}function ghe(t,e){const n=e.get(t);if(n)return n;let r=ep(t,[],!1).filter(a=>Ss(a)&&qd(a)!=="body"),i=null;const s=Cs(t).position==="fixed";let o=s?hl(t):t;for(;Ss(o)&&!ld(o);){const a=Cs(o),l=bA(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cm(o)&&!l&&H$(t,o))?r=r.filter(u=>u!==o):i=a,o=hl(o)}return e.set(t,r),r}function yhe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?gv(e)?[]:ghe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=wD(e,u,i);return c.top=ki(d.top,c.top),c.right=dl(d.right,c.right),c.bottom=dl(d.bottom,c.bottom),c.left=ki(d.left,c.left),c},wD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xhe(t){const{width:e,height:n}=$$(t);return{width:e,height:n}}function vhe(t,e,n){const r=go(e),i=Eo(e),s=n==="fixed",o=xc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=so(0);if(r||!r&&!s)if((qd(e)!=="body"||cm(i))&&(a=yv(e)),r){const h=xc(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=CA(i));const c=i&&!r&&!s?W$(i,a):so(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function sk(t){return Cs(t).position==="static"}function bD(t,e){if(!go(t)||Cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Eo(t)===n&&(n=n.ownerDocument.body),n}function U$(t,e){const n=Ai(t);if(gv(t))return n;if(!go(t)){let i=hl(t);for(;i&&!ld(i);){if(Ss(i)&&!sk(i))return i;i=hl(i)}return n}let r=bD(t,e);for(;r&&ahe(r)&&sk(r);)r=bD(r,e);return r&&ld(r)&&sk(r)&&!bA(r)?n:r||lhe(t)||n}const whe=async function(t){const e=this.getOffsetParent||U$,n=this.getDimensions,r=await n(t.floating);return{reference:vhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bhe(t){return Cs(t).direction==="rtl"}const khe={convertOffsetParentRelativeRectToViewportRelativeRect:dhe,getDocumentElement:Eo,getClippingRect:yhe,getOffsetParent:U$,getElementRects:whe,getClientRects:fhe,getDimensions:xhe,getScale:Hu,isElement:Ss,isRTL:bhe};function q$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function She(t,e){let n=null,r;const i=Eo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:m}=c;if(a||e(),!h||!m)return;const y=ay(d),v=ay(i.clientWidth-(u+h)),w=ay(i.clientHeight-(d+m)),b=ay(u),C={rootMargin:-y+"px "+-v+"px "+-w+"px "+-b+"px",threshold:ki(0,dl(1,l))||1};let N=!0;function _(A){const M=A[0].intersectionRatio;if(M!==l){if(!N)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!q$(c,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(_,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,C)}n.observe(t)}return o(!0),s}function Che(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=SA(t),u=i||s?[...c?ep(c):[],...ep(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const d=c&&a?She(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[k]=b;k&&k.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,v=l?xc(t):null;l&&w();function w(){const b=xc(t);v&&!q$(v,b)&&n(),v=b,y=requestAnimationFrame(w)}return n(),()=>{var b;u.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),d==null||d(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Ehe=rhe,Nhe=ihe,The=ehe,Ahe=ohe,_he=the,kD=Jfe,Mhe=she,Phe=(t,e,n)=>{const r=new Map,i={platform:khe,...n},s={...i.platform,_c:r};return Qfe(t,e,{...i,platform:s})};var Jy=typeof document<"u"?S.useLayoutEffect:S.useEffect;function F0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!F0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!F0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Y$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function SD(t,e){const n=Y$(t);return Math.round(e*n)/n}function ok(t){const e=S.useRef(t);return Jy(()=>{e.current=t}),e}function Rhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(r);F0(h,r)||m(r);const[y,v]=S.useState(null),[w,b]=S.useState(null),k=S.useCallback(H=>{H!==A.current&&(A.current=H,v(H))},[]),C=S.useCallback(H=>{H!==M.current&&(M.current=H,b(H))},[]),N=s||y,_=o||w,A=S.useRef(null),M=S.useRef(null),R=S.useRef(u),D=l!=null,O=ok(l),B=ok(i),F=ok(c),W=S.useCallback(()=>{if(!A.current||!M.current)return;const H={placement:e,strategy:n,middleware:h};B.current&&(H.platform=B.current),Phe(A.current,M.current,H).then($=>{const L={...$,isPositioned:F.current!==!1};I.current&&!F0(R.current,L)&&(R.current=L,Ld.flushSync(()=>{d(L)}))})},[h,e,n,B,F]);Jy(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(H=>({...H,isPositioned:!1})))},[c]);const I=S.useRef(!1);Jy(()=>(I.current=!0,()=>{I.current=!1}),[]),Jy(()=>{if(N&&(A.current=N),_&&(M.current=_),N&&_){if(O.current)return O.current(N,_,W);W()}},[N,_,W,O,D]);const Y=S.useMemo(()=>({reference:A,floating:M,setReference:k,setFloating:C}),[k,C]),V=S.useMemo(()=>({reference:N,floating:_}),[N,_]),G=S.useMemo(()=>{const H={position:n,left:0,top:0};if(!V.floating)return H;const $=SD(V.floating,u.x),L=SD(V.floating,u.y);return a?{...H,transform:"translate("+$+"px, "+L+"px)",...Y$(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:L}},[n,a,V.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:W,refs:Y,elements:V,floatingStyles:G}),[u,W,Y,V,G])}const Ohe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kD({element:r.current,padding:i}).fn(n):{}:r?kD({element:r,padding:i}).fn(n):{}}}},Dhe=(t,e)=>({...Ehe(t),options:[t,e]}),jhe=(t,e)=>({...Nhe(t),options:[t,e]}),Ihe=(t,e)=>({...Mhe(t),options:[t,e]}),Lhe=(t,e)=>({...The(t),options:[t,e]}),Fhe=(t,e)=>({...Ahe(t),options:[t,e]}),Bhe=(t,e)=>({..._he(t),options:[t,e]}),zhe=(t,e)=>({...Ohe(t),options:[t,e]});var $he="Arrow",G$=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(Xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});G$.displayName=$he;var Vhe=G$;function K$(t){const[e,n]=S.useState(void 0);return Ar(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var EA="Popper",[X$,Tl]=Oi(EA),[Whe,Z$]=X$(EA),Q$=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return g.jsx(Whe,{scope:e,anchor:r,onAnchorChange:i,children:n})};Q$.displayName=EA;var J$="PopperAnchor",eV=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Z$(J$,n),o=S.useRef(null),a=kt(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Xe.div,{...i,ref:a})});eV.displayName=J$;var NA="PopperContent",[Hhe,Uhe]=X$(NA),tV=S.forwardRef((t,e)=>{var Z,oe,fe,me,Te,xe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...v}=t,w=Z$(NA,n),[b,k]=S.useState(null),C=kt(e,be=>k(be)),[N,_]=S.useState(null),A=K$(N),M=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,D=r+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(c)?c:[c],F=B.length>0,W={padding:O,boundary:B.filter(Yhe),altBoundary:F},{refs:I,floatingStyles:Y,placement:V,isPositioned:G,middlewareData:H}=Rhe({strategy:"fixed",placement:D,whileElementsMounted:(...be)=>Che(...be,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[Dhe({mainAxis:i+R,alignmentAxis:o}),l&&jhe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Ihe():void 0,...W}),l&&Lhe({...W}),Fhe({...W,apply:({elements:be,rects:Pe,availableWidth:Ze,availableHeight:Qe})=>{const{width:Dt,height:ee}=Pe.reference,se=be.floating.style;se.setProperty("--radix-popper-available-width",`${Ze}px`),se.setProperty("--radix-popper-available-height",`${Qe}px`),se.setProperty("--radix-popper-anchor-width",`${Dt}px`),se.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),N&&zhe({element:N,padding:a}),Ghe({arrowWidth:M,arrowHeight:R}),h&&Bhe({strategy:"referenceHidden",...W})]}),[$,L]=iV(V),q=In(y);Ar(()=>{G&&(q==null||q())},[G,q]);const U=(Z=H.arrow)==null?void 0:Z.x,j=(oe=H.arrow)==null?void 0:oe.y,K=((fe=H.arrow)==null?void 0:fe.centerOffset)!==0,[X,J]=S.useState();return Ar(()=>{b&&J(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:G?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(me=H.transformOrigin)==null?void 0:me.x,(Te=H.transformOrigin)==null?void 0:Te.y].join(" "),...((xe=H.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(Hhe,{scope:n,placedSide:$,onArrowChange:_,arrowX:U,arrowY:j,shouldHideArrow:K,children:g.jsx(Xe.div,{"data-side":$,"data-align":L,...v,ref:C,style:{...v.style,animation:G?void 0:"none"}})})})});tV.displayName=NA;var nV="PopperArrow",qhe={top:"bottom",right:"left",bottom:"top",left:"right"},rV=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Uhe(nV,r),o=qhe[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(Vhe,{...i,ref:n,style:{...i.style,display:"block"}})})});rV.displayName=nV;function Yhe(t){return t!==null}var Ghe=t=>({name:"transformOrigin",options:t,fn(e){var w,b,k;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=iV(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,m=(((k=i.arrow)==null?void 0:k.y)??0)+l/2;let y="",v="";return c==="bottom"?(y=o?d:`${h}px`,v=`${-l}px`):c==="top"?(y=o?d:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,v=o?d:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,v=o?d:`${m}px`),{data:{x:y,y:v}}}});function iV(t){const[e,n="center"]=t.split("-");return[e,n]}var um=Q$,dm=eV,xv=tV,vv=rV,iE=["Enter"," "],Khe=["ArrowDown","PageUp","Home"],sV=["ArrowUp","PageDown","End"],Xhe=[...Khe,...sV],Zhe={ltr:[...iE,"ArrowRight"],rtl:[...iE,"ArrowLeft"]},Qhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fm="Menu",[tp,Jhe,epe]=lA(fm),[Lc,oV]=Oi(fm,[epe,Tl,uv]),hm=Tl(),aV=uv(),[lV,Al]=Lc(fm),[tpe,pm]=Lc(fm),cV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=hm(e),[l,c]=S.useState(null),u=S.useRef(!1),d=In(s),h=Xp(i);return S.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),g.jsx(um,{...a,children:g.jsx(lV,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:g.jsx(tpe,{scope:e,onClose:S.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};cV.displayName=fm;var npe="MenuAnchor",TA=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=hm(n);return g.jsx(dm,{...i,...r,ref:e})});TA.displayName=npe;var AA="MenuPortal",[rpe,uV]=Lc(AA,{forceMount:void 0}),dV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Al(AA,e);return g.jsx(rpe,{scope:e,forceMount:n,children:g.jsx(Pr,{present:n||s.open,children:g.jsx(am,{asChild:!0,container:i,children:r})})})};dV.displayName=AA;var Zi="MenuContent",[ipe,_A]=Lc(Zi),fV=S.forwardRef((t,e)=>{const n=uV(Zi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Al(Zi,t.__scopeMenu),o=pm(Zi,t.__scopeMenu);return g.jsx(tp.Provider,{scope:t.__scopeMenu,children:g.jsx(Pr,{present:r||s.open,children:g.jsx(tp.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(spe,{...i,ref:e}):g.jsx(ope,{...i,ref:e})})})})}),spe=S.forwardRef((t,e)=>{const n=Al(Zi,t.__scopeMenu),r=S.useRef(null),i=kt(e,r);return S.useEffect(()=>{const s=r.current;if(s)return pv(s)},[]),g.jsx(MA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Re(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ope=S.forwardRef((t,e)=>{const n=Al(Zi,t.__scopeMenu);return g.jsx(MA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),MA=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...v}=t,w=Al(Zi,n),b=pm(Zi,n),k=hm(n),C=aV(n),N=Jhe(n),[_,A]=S.useState(null),M=S.useRef(null),R=kt(e,M,w.onContentChange),D=S.useRef(0),O=S.useRef(""),B=S.useRef(0),F=S.useRef(null),W=S.useRef("right"),I=S.useRef(0),Y=y?lm:S.Fragment,V=y?{as:uo,allowPinchZoom:!0}:void 0,G=$=>{var Z,oe;const L=O.current+$,q=N().filter(fe=>!fe.disabled),U=document.activeElement,j=(Z=q.find(fe=>fe.ref.current===U))==null?void 0:Z.textValue,K=q.map(fe=>fe.textValue),X=xpe(K,L,j),J=(oe=q.find(fe=>fe.textValue===X))==null?void 0:oe.ref.current;(function fe(me){O.current=me,window.clearTimeout(D.current),me!==""&&(D.current=window.setTimeout(()=>fe(""),1e3))})(L),J&&setTimeout(()=>J.focus())};S.useEffect(()=>()=>window.clearTimeout(D.current),[]),fv();const H=S.useCallback($=>{var q,U;return W.current===((q=F.current)==null?void 0:q.side)&&wpe($,(U=F.current)==null?void 0:U.area)},[]);return g.jsx(ipe,{scope:n,searchRef:O,onItemEnter:S.useCallback($=>{H($)&&$.preventDefault()},[H]),onItemLeave:S.useCallback($=>{var L;H($)||((L=M.current)==null||L.focus(),A(null))},[H]),onTriggerLeave:S.useCallback($=>{H($)&&$.preventDefault()},[H]),pointerGraceTimerRef:B,onPointerGraceIntentChange:S.useCallback($=>{F.current=$},[]),children:g.jsx(Y,{...V,children:g.jsx(om,{asChild:!0,trapped:i,onMountAutoFocus:Re(s,$=>{var L;$.preventDefault(),(L=M.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:g.jsx(mz,{asChild:!0,...C,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:Re(l,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(xv,{role:"menu","aria-orientation":"vertical","data-state":_V(w.open),"data-radix-menu-content":"",dir:b.dir,...k,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:Re(v.onKeyDown,$=>{const q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,U=$.ctrlKey||$.altKey||$.metaKey,j=$.key.length===1;q&&($.key==="Tab"&&$.preventDefault(),!U&&j&&G($.key));const K=M.current;if($.target!==K||!Xhe.includes($.key))return;$.preventDefault();const J=N().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);sV.includes($.key)&&J.reverse(),gpe(J)}),onBlur:Re(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(D.current),O.current="")}),onPointerMove:Re(t.onPointerMove,np($=>{const L=$.target,q=I.current!==$.clientX;if($.currentTarget.contains(L)&&q){const U=$.clientX>I.current?"right":"left";W.current=U,I.current=$.clientX}}))})})})})})})});fV.displayName=Zi;var ape="MenuGroup",PA=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Xe.div,{role:"group",...r,ref:e})});PA.displayName=ape;var lpe="MenuLabel",hV=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Xe.div,{...r,ref:e})});hV.displayName=lpe;var B0="MenuItem",CD="menu.itemSelect",wv=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=S.useRef(null),o=pm(B0,t.__scopeMenu),a=_A(B0,t.__scopeMenu),l=kt(e,s),c=S.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(CD,{bubbles:!0,cancelable:!0});d.addEventListener(CD,m=>r==null?void 0:r(m),{once:!0}),QF(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return g.jsx(pV,{...i,ref:l,disabled:n,onClick:Re(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:Re(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Re(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||iE.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});wv.displayName=B0;var pV=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=_A(B0,n),a=aV(n),l=S.useRef(null),c=kt(e,l),[u,d]=S.useState(!1),[h,m]=S.useState("");return S.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[s.children]),g.jsx(tp.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:g.jsx(gz,{asChild:!0,...a,focusable:!r,children:g.jsx(Xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Re(t.onPointerMove,np(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(t.onPointerLeave,np(y=>o.onItemLeave(y))),onFocus:Re(t.onFocus,()=>d(!0)),onBlur:Re(t.onBlur,()=>d(!1))})})})}),cpe="MenuCheckboxItem",mV=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.jsx(wV,{scope:t.__scopeMenu,checked:n,children:g.jsx(wv,{role:"menuitemcheckbox","aria-checked":z0(n)?"mixed":n,...i,ref:e,"data-state":DA(n),onSelect:Re(i.onSelect,()=>r==null?void 0:r(z0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mV.displayName=cpe;var gV="MenuRadioGroup",[upe,dpe]=Lc(gV,{value:void 0,onValueChange:()=>{}}),yV=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=In(r);return g.jsx(upe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(PA,{...i,ref:e})})});yV.displayName=gV;var xV="MenuRadioItem",vV=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=dpe(xV,t.__scopeMenu),s=n===i.value;return g.jsx(wV,{scope:t.__scopeMenu,checked:s,children:g.jsx(wv,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":DA(s),onSelect:Re(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});vV.displayName=xV;var RA="MenuItemIndicator",[wV,fpe]=Lc(RA,{checked:!1}),bV=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=fpe(RA,n);return g.jsx(Pr,{present:r||z0(s.checked)||s.checked===!0,children:g.jsx(Xe.span,{...i,ref:e,"data-state":DA(s.checked)})})});bV.displayName=RA;var hpe="MenuSeparator",kV=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});kV.displayName=hpe;var ppe="MenuArrow",SV=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=hm(n);return g.jsx(vv,{...i,...r,ref:e})});SV.displayName=ppe;var OA="MenuSub",[mpe,CV]=Lc(OA),EV=t=>{const{__scopeMenu:e,children:n,open:r=!1,onOpenChange:i}=t,s=Al(OA,e),o=hm(e),[a,l]=S.useState(null),[c,u]=S.useState(null),d=In(i);return S.useEffect(()=>(s.open===!1&&d(!1),()=>d(!1)),[s.open,d]),g.jsx(um,{...o,children:g.jsx(lV,{scope:e,open:r,onOpenChange:d,content:c,onContentChange:u,children:g.jsx(mpe,{scope:e,contentId:zn(),triggerId:zn(),trigger:a,onTriggerChange:l,children:n})})})};EV.displayName=OA;var ah="MenuSubTrigger",NV=S.forwardRef((t,e)=>{const n=Al(ah,t.__scopeMenu),r=pm(ah,t.__scopeMenu),i=CV(ah,t.__scopeMenu),s=_A(ah,t.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>u,[u]),S.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),g.jsx(TA,{asChild:!0,...c,children:g.jsx(pV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":_V(n.open),...t,ref:Yx(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Re(t.onPointerMove,np(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Re(t.onPointerLeave,np(d=>{var m,y;u();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(y=n.content)==null?void 0:y.dataset.side,w=v==="right",b=w?-5:5,k=h[w?"left":"right"],C=h[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x:k,y:h.top},{x:C,y:h.top},{x:C,y:h.bottom},{x:k,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Re(t.onKeyDown,d=>{var m;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||Zhe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});NV.displayName=ah;var TV="MenuSubContent",AV=S.forwardRef((t,e)=>{const n=uV(Zi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Al(Zi,t.__scopeMenu),o=pm(Zi,t.__scopeMenu),a=CV(TV,t.__scopeMenu),l=S.useRef(null),c=kt(e,l);return g.jsx(tp.Provider,{scope:t.__scopeMenu,children:g.jsx(Pr,{present:r||s.open,children:g.jsx(tp.Slot,{scope:t.__scopeMenu,children:g.jsx(MA,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Re(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Re(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Re(t.onKeyDown,u=>{var m;const d=u.currentTarget.contains(u.target),h=Qhe[o.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});AV.displayName=TV;function _V(t){return t?"open":"closed"}function z0(t){return t==="indeterminate"}function DA(t){return z0(t)?"indeterminate":t?"checked":"unchecked"}function gpe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ype(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function xpe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=ype(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function vpe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function wpe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return vpe(n,e)}function np(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bpe=cV,kpe=TA,Spe=dV,Cpe=fV,Epe=PA,Npe=hV,Tpe=wv,Ape=mV,_pe=yV,Mpe=vV,Ppe=bV,Rpe=kV,Ope=SV,Dpe=EV,jpe=NV,Ipe=AV,jA="DropdownMenu",[Lpe,sLe]=Oi(jA,[oV]),Or=oV(),[Fpe,MV]=Lpe(jA),PV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Or(e),c=S.useRef(null),[u=!1,d]=mo({prop:i,defaultProp:s,onChange:o});return g.jsx(Fpe,{scope:e,triggerId:zn(),triggerRef:c,contentId:zn(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:a,children:g.jsx(bpe,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};PV.displayName=jA;var RV="DropdownMenuTrigger",OV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=MV(RV,n),o=Or(n);return g.jsx(kpe,{asChild:!0,...o,children:g.jsx(Xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Yx(e,s.triggerRef),onPointerDown:Re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});OV.displayName=RV;var Bpe="DropdownMenuPortal",DV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Or(e);return g.jsx(Spe,{...r,...n})};DV.displayName=Bpe;var jV="DropdownMenuContent",IV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=MV(jV,n),s=Or(n),o=S.useRef(!1);return g.jsx(Cpe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Re(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Re(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IV.displayName=jV;var zpe="DropdownMenuGroup",LV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Epe,{...i,...r,ref:e})});LV.displayName=zpe;var $pe="DropdownMenuLabel",FV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Npe,{...i,...r,ref:e})});FV.displayName=$pe;var Vpe="DropdownMenuItem",BV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Tpe,{...i,...r,ref:e})});BV.displayName=Vpe;var Wpe="DropdownMenuCheckboxItem",zV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Ape,{...i,...r,ref:e})});zV.displayName=Wpe;var Hpe="DropdownMenuRadioGroup",$V=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(_pe,{...i,...r,ref:e})});$V.displayName=Hpe;var Upe="DropdownMenuRadioItem",VV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Mpe,{...i,...r,ref:e})});VV.displayName=Upe;var qpe="DropdownMenuItemIndicator",WV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Ppe,{...i,...r,ref:e})});WV.displayName=qpe;var Ype="DropdownMenuSeparator",HV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Rpe,{...i,...r,ref:e})});HV.displayName=Ype;var Gpe="DropdownMenuArrow",Kpe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Ope,{...i,...r,ref:e})});Kpe.displayName=Gpe;var Xpe=t=>{const{__scopeDropdownMenu:e,children:n,open:r,onOpenChange:i,defaultOpen:s}=t,o=Or(e),[a=!1,l]=mo({prop:r,defaultProp:s,onChange:i});return g.jsx(Dpe,{...o,open:a,onOpenChange:l,children:n})},Zpe="DropdownMenuSubTrigger",UV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(jpe,{...i,...r,ref:e})});UV.displayName=Zpe;var Qpe="DropdownMenuSubContent",qV=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Or(n);return g.jsx(Ipe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qV.displayName=Qpe;var Jpe=PV,YV=OV,GV=DV,KV=IV,eme=LV,XV=FV,ZV=BV,QV=zV,tme=$V,JV=VV,e6=WV,t6=HV,nme=Xpe,n6=UV,r6=qV;function xu(t,e,n){let r=n.initialDeps??[],i;return()=>{var s,o,a,l;let c;n.key&&((s=n.debug)!=null&&s.call(n))&&(c=Date.now());const u=t();if(!(u.length!==r.length||u.some((m,y)=>r[y]!==m)))return i;r=u;let h;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(h=Date.now()),i=e(...u),n.key&&((a=n.debug)!=null&&a.call(n))){const m=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-h)*100)/100,v=y/16,w=(b,k)=>{for(b=String(b);b.length<k;)b=" "+b;return b};console.info(`%c ${w(y,5)} /${w(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function ak(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const rme=(t,e)=>Math.abs(t-e)<1,ime=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},sme=t=>t,ome=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},ame=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(n.getBoundingClientRect())};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},ED={passive:!0},ND=typeof window>"u"?!0:"onscrollend"in window,lme=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&ND?()=>{}:ime(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:d,isRtl:h}=t.options;i=d?n.scrollLeft*(h&&-1||1):n.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);l(),n.addEventListener("scroll",a,ED);const c=t.options.useScrollendEvent&&ND;return c&&n.addEventListener("scrollend",l,ED),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},cme=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[n.options.horizontal?"width":"height"])},ume=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class dme{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:sme,rangeExtractor:ome,onChange:()=>{},measureElement:cme,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=xu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=xu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=xu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const d=s(u),h=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),m=h?h.end+this.options.gap:r+i,y=a.get(d),v=typeof y=="number"?y:this.options.estimateSize(u),w=m+v,b=h?h.lane:u%this.options.lanes;c[u]={index:u,start:m,size:v,end:w,key:d,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=xu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?fme({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=xu(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=xu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return ak(r[i6(0,r.length-1,i=>ak(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&n>=s+i&&(r="end"),r==="end"&&(n-=i);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=i.start-this.options.scrollPaddingStart+(i.size-s)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[o,a]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=ak(this.getOffsetForIndex(n,a));rme(c,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const i6=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function fme({measurements:t,outerSize:e,scrollOffset:n}){const r=t.length-1,s=i6(0,r,a=>t[a].start,n);let o=s;for(;o<r&&t[o].end<n+e;)o++;return{startIndex:s,endIndex:o}}const TD=typeof document<"u"?S.useLayoutEffect:S.useEffect;function hme(t){const e=S.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var o;s?Ld.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[r]=S.useState(()=>new dme(n));return r.setOptions(n),TD(()=>r._didMount(),[]),TD(()=>r._willUpdate()),r}function pme(t){return hme({observeElementRect:ame,observeElementOffset:lme,scrollToFn:ume,...t})}const mme=Jpe,gme=eme,yme=GV,xme=nme,vme=tme,s6=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsx(YV,{ref:i,className:ve("focus-visible:ring-ring focus:outline-none focus-visible:rounded focus-visible:outline-none focus-visible:ring-1",t),...r,children:n}));s6.displayName=YV.displayName;const o6=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsxs(n6,{ref:i,className:ve("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",e&&"pl-8",t),...r,children:[n,g.jsx(Wh,{className:"ml-auto -rotate-90"})]}));o6.displayName=n6.displayName;const a6=S.forwardRef(({className:t,...e},n)=>g.jsx(r6,{ref:n,className:ve("popover-backdrop-filter popover-background popover-border popover-shadow popover-foreground data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 z-50 min-w-[8rem] overflow-auto overflow-x-hidden rounded-md p-1",t),...e}));a6.displayName=r6.displayName;const l6=S.forwardRef(({className:t,container:e,sideOffset:n=4,...r},i)=>g.jsx(GV,{container:e,children:g.jsx(KV,{ref:i,sideOffset:n,className:ve("popover-backdrop-filter bg-mastra-bg-2 popover-border popover-shadow popover-foreground data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 z-50 min-w-[8rem] overflow-auto overflow-x-hidden rounded-md p-1",t),...r})}));l6.displayName=KV.displayName;const c6=S.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(ZV,{ref:r,className:ve("focus:text-accent-foreground relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-[0.8125rem] outline-none transition-colors focus:bg-[#66686A]/20 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>span]:truncate",e&&"pl-8",t),...n}));c6.displayName=ZV.displayName;const u6=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>g.jsxs(QV,{ref:i,className:ve("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(e6,{children:g.jsx(KN,{className:"h-2 w-2 fill-current"})})}),e]}));u6.displayName=QV.displayName;const d6=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(JV,{ref:r,className:ve("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(e6,{children:g.jsx(BX,{className:"h-2 w-2 fill-current"})})}),e]}));d6.displayName=JV.displayName;const f6=S.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(XV,{ref:r,className:ve("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));f6.displayName=XV.displayName;const h6=S.forwardRef(({className:t,...e},n)=>g.jsx(t6,{ref:n,className:ve("popover-dividers-bg -mx-1 my-1 h-px",t),...e}));h6.displayName=t6.displayName;const p6=({className:t,...e})=>g.jsx("span",{className:ve("ml-auto text-xs tracking-widest opacity-60",t),...e});p6.displayName="DropdownMenuShortcut";function Qn({open:t,onOpenChange:e,children:n,modal:r}){return g.jsx(mme,{modal:r,open:t,onOpenChange:e,children:n})}function wme({itemsCount:t,items:e,renderItem:n,...r}){const i=S.useRef(null),s=pme({count:t,estimateSize:()=>35,getScrollElement:()=>i.current,overscan:5,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?o=>o==null?void 0:o.getBoundingClientRect().height:void 0});return g.jsx("div",{ref:i,className:"h-64 overflow-auto",children:g.jsx("div",{className:"relative w-full overflow-auto",style:{height:`${s.getTotalSize()}px`},children:s==null?void 0:s.getVirtualItems().map((o,a)=>g.jsx("button",{className:"text-accent-foreground absolute left-0 top-0 flex w-full cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-[0.8125rem] outline-none transition-colors hover:bg-[#66686A]/20 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>span]:truncate",style:{height:`${o.size}px`,transform:`translateY(${o.start}px)`},...r,children:n(e[a])},o.index))})})}Qn.Trigger=s6;Qn.Content=l6;Qn.Group=gme;Qn.Portal=yme;Qn.Item=c6;Qn.CheckboxItem=u6;Qn.RadioItem=d6;Qn.Label=f6;Qn.Separator=h6;Qn.Shortcut=p6;Qn.Sub=xme;Qn.SubContent=a6;Qn.SubTrigger=o6;Qn.RadioGroup=vme;Qn.VirtualizedItems=wme;const bme=t=>{const{data:e,isLoading:n,mutate:r}=$T(`/api/memory/status?agentId=${t}`,ZN,{fallbackData:{result:!1},isPaused:()=>!t});return{memory:e,isLoading:n,mutate:r}},kme=({resourceid:t,agentId:e})=>{const{data:n,isLoading:r,mutate:i}=$T(`/api/memory/threads?resourceid=${t}&agentId=${e}`,ZN,{fallbackData:[],isPaused:()=>!t,revalidateOnFocus:!1});return S.useEffect(()=>{t&&i()},[t]),{threads:n,isLoading:r,mutate:i}},Sme=({threadId:t,memory:e,agentId:n})=>{const{data:r,isLoading:i,mutate:s}=$T(`/api/memory/threads/${t}/messages?agentId=${n}`,o=>ZN(o,!0),{fallbackData:{uiMessages:[],messages:[]},revalidateOnFocus:!1,isPaused:()=>!t,shouldRetryOnError:!1});return S.useEffect(()=>{t&&e&&s()},[t,e]),{messages:r==null?void 0:r.uiMessages,isLoading:i,mutate:s}},Cme=()=>{const{mutate:t}=zT();return{deleteThread:async({threadId:n,resourceid:r,agentId:i})=>{const s=fetch(`/api/memory/threads/${n}?agentId=${i}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});gn.promise(s,{loading:"Deleting chat...",success:()=>(t(`/api/memory/threads?resourceid=${r}&agentId=${i}`),"Chat deleted successfully"),error:"Failed to delete chat"})}}};function Eme({agentId:t,threadId:e}){const{threads:n,isLoading:r}=kme({resourceid:t,agentId:t}),{deleteThread:i}=Cme(),s=ko(),[o,a]=S.useState(null),[l,c]=S.useState(!1),u=async()=>{await i({threadId:o,resourceid:t,agentId:t}),c(!1),o===e&&s(`/agents/${t}/chat/${crypto.randomUUID()}`)};return r?g.jsxs("div",{className:"p-4 w-full h-full space-y-2",children:[g.jsx("div",{className:"flex justify-end",children:g.jsx(Ue,{className:"h-9 w-9"})}),g.jsx(Ue,{className:"h-4"}),g.jsx(Ue,{className:"h-4"}),g.jsx(Ue,{className:"h-4"}),g.jsx(Ue,{className:"h-4"}),g.jsx(Ue,{className:"h-4"})]}):n!=null&&n.length?g.jsxs(Bn,{className:"h-full px-4 pb-4 w-[256px]",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center pl-2 sticky top-0 bg-mastra-bg-2 pt-4",children:[g.jsx("div",{className:"text-sm text-mastra-el-5",children:"Chat history"}),g.jsx(pt,{variant:"primary",size:"icon",onClick:()=>s(`/agents/${t}/chat/${crypto.randomUUID()}`),children:g.jsx(Hh,{})})]}),n.map(d=>{const h=d.id===e;return g.jsxs("div",{className:ve("flex cursor-pointer w-full px-2 items-center focus-visible:outline-none transition-colors focus-visible:ring-1 focus-visible:ring-mastra-border-4 gap-3 rounded-xs group text-small hover:bg-mastra-el-6/5",h?"bg-mastra-el-6/5":""),children:[g.jsx(Kp,{to:`/agents/${t}/chat/${d.id}`,className:"flex-1",children:g.jsx("p",{className:ve("py-[0.38rem] text-mastra-el-6/60 group-hover:text-mastra-el-6 transition-all  capitalize ",h?"text-mastra-el-6":""),children:d.title})}),g.jsxs(Qn,{children:[g.jsx(Qn.Trigger,{asChild:!0,children:g.jsxs(pt,{variant:"ghost",size:"icon",className:"ml-auto",children:[g.jsx(VX,{}),g.jsx("span",{className:"sr-only",children:"More"})]})}),g.jsx(Qn.Content,{children:g.jsxs(Qn.Item,{className:"cursor-pointer text-destructive focus:bg-destructive/15 focus:text-destructive dark:text-red-500",onSelect:()=>{a(d.id),c(!0)},children:[g.jsx(ZX,{}),g.jsx("span",{children:"Delete"})]})})]})]},d.id)})]}),g.jsx(nn,{open:l,onOpenChange:c,children:g.jsxs(nn.Content,{children:[g.jsxs(nn.Header,{children:[g.jsx(nn.Title,{children:"Are you absolutely sure?"}),g.jsx(nn.Description,{children:"This action cannot be undone. This will permanently delete your chat and remove it from our servers."})]}),g.jsxs(nn.Footer,{children:[g.jsx(nn.Cancel,{children:"Cancel"}),g.jsx(nn.Action,{onClick:u,children:"Continue"})]})]})})]}):g.jsxs("div",{className:"p-4 w-full space-y-2 h-full",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("div",{className:"text-sm text-mastra-el-5",children:"Chat history"}),g.jsx(pt,{variant:"primary",size:"icon",onClick:()=>s(`/agents/${t}/chat/${crypto.randomUUID()}`),children:g.jsx(Hh,{})})]}),g.jsx("div",{className:"text-small text-mastra-el-3",children:"Your conversations will appear here once you start chatting!"})]})}function AD(){const{agentId:t,threadId:e}=fa(),{agent:n,isLoading:r}=Dc(t),{memory:i}=bme(t),s=ko(),{messages:o,isLoading:a}=Sme({agentId:t,threadId:e,memory:!!(i!=null&&i.result)}),[l,c]=S.useState(!0);return S.useEffect(()=>{i!=null&&i.result&&!e&&s(`/agents/${t}/chat/${crypto.randomUUID()}`)},[i==null?void 0:i.result,e]),r?g.jsxs("main",{className:"flex-1 relative grid grid-cols-[1fr_400px] divide-x",children:[g.jsx("div",{className:"p-4",children:g.jsx(Ue,{className:"h-[600px]"})}),g.jsx("div",{className:"flex flex-col",children:g.jsx(D0,{agentId:t})})]}):g.jsxs("main",{className:ve("flex-1 relative grid divide-x",l&&(i!=null&&i.result)?"grid-cols-[256px_1fr_400px] overflow-y-hidden h-full":"grid-cols-[1fr_400px]"),children:[l&&(i!=null&&i.result)?g.jsx(Eme,{agentId:t,threadId:e}):null,g.jsxs("div",{className:"relative",children:[i!=null&&i.result?g.jsx(pt,{variant:"primary",size:"icon",className:"absolute top-4 left-4 z-50",onClick:()=>c(!l),children:g.jsx(qX,{})}):null,g.jsx(Uue,{agentId:t,agentName:n==null?void 0:n.name,threadId:e,initialMessages:a?void 0:o,memory:i==null?void 0:i.result})]}),g.jsx("div",{className:"flex flex-col",children:g.jsx(D0,{agentId:t})})]})}const Nme=Bd("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ah({className:t,variant:e,...n}){return g.jsx("div",{className:ve(Nme({variant:e}),t),...n})}function ly({content:t,label:e,multiline:n=!1}){const r=()=>{navigator.clipboard.writeText(t)};return g.jsxs("div",{className:"group relative flex items-start gap-2",children:[g.jsx("span",{className:ve("text-sm text-mastra-el-4",n?"whitespace-pre-wrap":"truncate"),children:t}),g.jsx(pt,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity shrink-0 -mt-1",onClick:i=>{i.stopPropagation(),r()},"aria-label":`Copy ${e}`,children:g.jsx(IF,{className:"h-3 w-3"})})]})}const m6=6048e5,Tme=864e5,cy=43200,_D=1440,MD=Symbol.for("constructDateFrom");function Vn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&MD in t?t[MD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rt(t,e){return Vn(e||t,t)}function g6(t,e,n){const r=Rt(t,n==null?void 0:n.in);return isNaN(e)?Vn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function y6(t,e,n){const r=Rt(t,n==null?void 0:n.in);if(isNaN(e))return Vn(t,NaN);if(!e)return r;const i=r.getDate(),s=Vn(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let Ame={};function Yd(){return Ame}function cd(t,e){var a,l,c,u;const n=Yd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Rt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function rp(t,e){return cd(t,{...e,weekStartsOn:1})}function x6(t,e){const n=Rt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Vn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=rp(i),o=Vn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=rp(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function $0(t){const e=Rt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _l(t,...e){const n=Vn.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function ip(t,e){const n=Rt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function v6(t,e,n){const[r,i]=_l(n==null?void 0:n.in,t,e),s=ip(r),o=ip(i),a=+s-$0(s),l=+o-$0(o);return Math.round((a-l)/Tme)}function _me(t,e){const n=x6(t,e),r=Vn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),rp(r)}function Mme(t,e,n){return g6(t,e*7,n)}function Pme(t,e,n){return y6(t,e*12,n)}function Rme(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Vn.bind(null,i));const s=Rt(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),Vn(r,n||NaN)}function Ome(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Vn.bind(null,i));const s=Rt(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),Vn(r,n||NaN)}function e0(t,e){const n=+Rt(t)-+Rt(e);return n<0?-1:n>0?1:n}function Dme(t){return Vn(t,Date.now())}function jme(t,e,n){const[r,i]=_l(n==null?void 0:n.in,t,e);return+ip(r)==+ip(i)}function w6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function b6(t){return!(!w6(t)&&typeof t!="number"||isNaN(+Rt(t)))}function k6(t,e,n){const[r,i]=_l(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function Ime(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Lme(t,e){return+Rt(t)-+Rt(e)}function Fme(t,e){const n=Rt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function S6(t,e){const n=Rt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Bme(t,e){const n=Rt(t,e==null?void 0:e.in);return+Fme(n,e)==+S6(n,e)}function zme(t,e,n){const[r,i,s]=_l(n==null?void 0:n.in,t,t,e),o=e0(i,s),a=Math.abs(k6(i,s));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=e0(i,s)===-o;Bme(r)&&a===1&&e0(r,s)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function $me(t,e,n){const r=Lme(t,e)/1e3;return Ime(n==null?void 0:n.roundingMethod)(r)}function Vme(t,e){const[n,r]=_l(t,e.start,e.end);return{start:n,end:r}}function Wme(t,e){const{start:n,end:r}=Vme(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=s;)l.push(Vn(n,o)),o.setMonth(o.getMonth()+a);return i?l.reverse():l}function Hme(t,e){const n=Rt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Ume(t,e){const n=Rt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function C6(t,e){const n=Rt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function E6(t,e){var a,l,c,u;const n=Yd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Rt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function qme(t,e){return E6(t,{...e,weekStartsOn:1})}const Yme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gme=(t,e,n)=>{let r;const i=Yme[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lk(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Kme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qme={date:lk({formats:Kme,defaultWidth:"full"}),time:lk({formats:Xme,defaultWidth:"full"}),dateTime:lk({formats:Zme,defaultWidth:"full"})},Jme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ege=(t,e,n,r)=>Jme[t];function Hf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const tge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ige={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},age=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lge={ordinalNumber:age,era:Hf({values:tge,defaultWidth:"wide"}),quarter:Hf({values:nge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hf({values:rge,defaultWidth:"wide"}),day:Hf({values:ige,defaultWidth:"wide"}),dayPeriod:Hf({values:sge,defaultWidth:"wide",formattingValues:oge,defaultFormattingWidth:"wide"})};function Uf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?uge(a,d=>d.test(o)):cge(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function cge(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uge(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dge(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const fge=/^(\d+)(th|st|nd|rd)?/i,hge=/\d+/i,pge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mge={any:[/^b/i,/^(a|c)/i]},gge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yge={any:[/1/i,/2/i,/3/i,/4/i]},xge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cge={ordinalNumber:dge({matchPattern:fge,parsePattern:hge,valueCallback:t=>parseInt(t,10)}),era:Uf({matchPatterns:pge,defaultMatchWidth:"wide",parsePatterns:mge,defaultParseWidth:"any"}),quarter:Uf({matchPatterns:gge,defaultMatchWidth:"wide",parsePatterns:yge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uf({matchPatterns:xge,defaultMatchWidth:"wide",parsePatterns:vge,defaultParseWidth:"any"}),day:Uf({matchPatterns:wge,defaultMatchWidth:"wide",parsePatterns:bge,defaultParseWidth:"any"}),dayPeriod:Uf({matchPatterns:kge,defaultMatchWidth:"any",parsePatterns:Sge,defaultParseWidth:"any"})},bv={code:"en-US",formatDistance:Gme,formatLong:Qme,formatRelative:ege,localize:lge,match:Cge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ege(t,e){const n=Rt(t,e==null?void 0:e.in);return v6(n,C6(n))+1}function N6(t,e){const n=Rt(t,e==null?void 0:e.in),r=+rp(n)-+_me(n);return Math.round(r/m6)+1}function T6(t,e){var u,d,h,m;const n=Rt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Yd(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Vn((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=cd(o,e),l=Vn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=cd(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function Nge(t,e){var a,l,c,u;const n=Yd(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=T6(t,e),s=Vn((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),cd(s,e)}function A6(t,e){const n=Rt(t,e==null?void 0:e.in),r=+cd(n,e)-+Nge(n,e);return Math.round(r/m6)+1}function Ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Wa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ut(n+1,2)},d(t,e){return Ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ut(t.getHours()%12||12,e.length)},H(t,e){return Ut(t.getHours(),e.length)},m(t,e){return Ut(t.getMinutes(),e.length)},s(t,e){return Ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ut(i,e.length)}},vu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Wa.y(t,e)},Y:function(t,e,n,r){const i=T6(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ut(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ut(s,e.length)},R:function(t,e){const n=x6(t);return Ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Wa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=A6(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ut(i,e.length)},I:function(t,e,n){const r=N6(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wa.d(t,e)},D:function(t,e,n){const r=Ege(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ut(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ut(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ut(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=vu.noon:r===0?i=vu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=vu.evening:r>=12?i=vu.afternoon:r>=4?i=vu.morning:i=vu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wa.s(t,e)},S:function(t,e){return Wa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return OD(r);case"XXXX":case"XX":return Jl(r);case"XXXXX":case"XXX":default:return Jl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return OD(r);case"xxxx":case"xx":return Jl(r);case"xxxxx":case"xxx":default:return Jl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RD(r,":");case"OOOO":default:return"GMT"+Jl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RD(r,":");case"zzzz":default:return"GMT"+Jl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ut(r,e.length)},T:function(t,e,n){return Ut(+t,e.length)}};function RD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ut(s,2)}function OD(t,e){return t%60===0?(t>0?"-":"+")+Ut(Math.abs(t)/60,2):Jl(t,e)}function Jl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ut(Math.trunc(r/60),2),s=Ut(r%60,2);return n+i+e+s}const DD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Tge=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return DD(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",DD(r,e)).replace("{{time}}",_6(i,e))},Age={p:_6,P:Tge},_ge=/^D+$/,Mge=/^Y+$/,Pge=["D","DD","YY","YYYY"];function Rge(t){return _ge.test(t)}function Oge(t){return Mge.test(t)}function Dge(t,e,n){const r=jge(t,e,n);if(console.warn(r),Pge.includes(t))throw new RangeError(r)}function jge(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ige=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fge=/^'([^]*?)'?$/,Bge=/''/g,zge=/[a-zA-Z]/;function Uu(t,e,n){var u,d,h,m,y,v,w,b;const r=Yd(),i=(n==null?void 0:n.locale)??r.locale??bv,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,a=Rt(t,n==null?void 0:n.in);if(!b6(a))throw new RangeError("Invalid time value");let l=e.match(Lge).map(k=>{const C=k[0];if(C==="p"||C==="P"){const N=Age[C];return N(k,i.formatLong)}return k}).join("").match(Ige).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const C=k[0];if(C==="'")return{isToken:!1,value:$ge(k)};if(PD[C])return{isToken:!0,value:k};if(C.match(zge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(k=>{if(!k.isToken)return k.value;const C=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Oge(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Rge(C))&&Dge(C,e,String(t));const N=PD[C[0]];return N(a,C,i.localize,c)}).join("")}function $ge(t){const e=t.match(Fge);return e?e[1].replace(Bge,"'"):t}function Vge(t,e,n){const r=Yd(),i=(n==null?void 0:n.locale)??r.locale??bv,s=2520,o=e0(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[l,c]=_l(n==null?void 0:n.in,...o>0?[e,t]:[t,e]),u=$me(c,l),d=($0(c)-$0(l))/1e3,h=Math.round((u-d)/60);let m;if(h<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,a):u<10?i.formatDistance("lessThanXSeconds",10,a):u<20?i.formatDistance("lessThanXSeconds",20,a):u<40?i.formatDistance("halfAMinute",0,a):u<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):h===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",h,a);if(h<45)return i.formatDistance("xMinutes",h,a);if(h<90)return i.formatDistance("aboutXHours",1,a);if(h<_D){const y=Math.round(h/60);return i.formatDistance("aboutXHours",y,a)}else{if(h<s)return i.formatDistance("xDays",1,a);if(h<cy){const y=Math.round(h/_D);return i.formatDistance("xDays",y,a)}else if(h<cy*2)return m=Math.round(h/cy),i.formatDistance("aboutXMonths",m,a)}if(m=zme(c,l),m<12){const y=Math.round(h/cy);return i.formatDistance("xMonths",y,a)}else{const y=m%12,v=Math.trunc(m/12);return y<3?i.formatDistance("aboutXYears",v,a):y<9?i.formatDistance("overXYears",v,a):i.formatDistance("almostXYears",v+1,a)}}function Wge(t,e){return Vge(t,Dme(t),e)}function Hge(t,e){const n=Rt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=Vn(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function Uge(t,e){return Rt(t,e==null?void 0:e.in).getMonth()}function qge(t,e){return Rt(t,e==null?void 0:e.in).getFullYear()}function Yge(t,e){return+Rt(t)>+Rt(e)}function Gge(t,e){return+Rt(t)<+Rt(e)}function Kge(t,e,n){const[r,i]=_l(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Xge(t,e,n){const[r,i]=_l(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function Zge(t,e,n){const r=Rt(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=Vn(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=Hge(o);return r.setMonth(e,Math.min(s,a)),r}function Qge(t,e,n){const r=Rt(t,n==null?void 0:n.in);return isNaN(+r)?Vn(t,NaN):(r.setFullYear(e),r)}var Jge="VisuallyHidden",IA=S.forwardRef((t,e)=>g.jsx(Xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));IA.displayName=Jge;var eye=IA,[kv,oLe]=Oi("Tooltip",[Tl]),Sv=Tl(),M6="TooltipProvider",tye=700,sE="tooltip.open",[nye,LA]=kv(M6),P6=t=>{const{__scopeTooltip:e,delayDuration:n=tye,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=S.useState(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(nye,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};P6.displayName=M6;var Cv="Tooltip",[rye,Ev]=kv(Cv),R6=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=LA(Cv,t.__scopeTooltip),c=Sv(e),[u,d]=S.useState(null),h=zn(),m=S.useRef(0),y=o??l.disableHoverableContent,v=a??l.delayDuration,w=S.useRef(!1),[b=!1,k]=mo({prop:r,defaultProp:i,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(sE))):l.onClose(),s==null||s(M)}}),C=S.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),N=S.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,k(!0)},[k]),_=S.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k(!1)},[k]),A=S.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,k(!0),m.current=0},v)},[v,k]);return S.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),g.jsx(um,{...c,children:g.jsx(rye,{scope:e,contentId:h,open:b,stateAttribute:C,trigger:u,onTriggerChange:d,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayed?A():N()},[l.isOpenDelayed,A,N]),onTriggerLeave:S.useCallback(()=>{y?_():(window.clearTimeout(m.current),m.current=0)},[_,y]),onOpen:N,onClose:_,disableHoverableContent:y,children:n})})};R6.displayName=Cv;var oE="TooltipTrigger",O6=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ev(oE,n),s=LA(oE,n),o=Sv(n),a=S.useRef(null),l=kt(e,a,i.onTriggerChange),c=S.useRef(!1),u=S.useRef(!1),d=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(dm,{asChild:!0,...o,children:g.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Re(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Re(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Re(t.onBlur,i.onClose),onClick:Re(t.onClick,i.onClose)})})});O6.displayName=oE;var iye="TooltipPortal",[aLe,sye]=kv(iye,{forceMount:void 0}),ud="TooltipContent",D6=S.forwardRef((t,e)=>{const n=sye(ud,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Ev(ud,t.__scopeTooltip);return g.jsx(Pr,{present:r||o.open,children:o.disableHoverableContent?g.jsx(j6,{side:i,...s,ref:e}):g.jsx(oye,{side:i,...s,ref:e})})}),oye=S.forwardRef((t,e)=>{const n=Ev(ud,t.__scopeTooltip),r=LA(ud,t.__scopeTooltip),i=S.useRef(null),s=kt(e,i),[o,a]=S.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,h=S.useCallback(()=>{a(null),d(!1)},[d]),m=S.useCallback((y,v)=>{const w=y.currentTarget,b={x:y.clientX,y:y.clientY},k=uye(b,w.getBoundingClientRect()),C=dye(b,k),N=fye(v.getBoundingClientRect()),_=pye([...C,...N]);a(_),d(!0)},[d]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&u){const y=w=>m(w,u),v=w=>m(w,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",v)}}},[l,u,m,h]),S.useEffect(()=>{if(o){const y=v=>{const w=v.target,b={x:v.clientX,y:v.clientY},k=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),C=!hye(b,o);k?h():C&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,h]),g.jsx(j6,{...t,ref:s})}),[aye,lye]=kv(Cv,{isInside:!1}),j6=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Ev(ud,n),c=Sv(n),{onClose:u}=l;return S.useEffect(()=>(document.addEventListener(sE,u),()=>document.removeEventListener(sE,u)),[u]),S.useEffect(()=>{if(l.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),g.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:g.jsxs(xv,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(QN,{children:r}),g.jsx(aye,{scope:n,isInside:!0,children:g.jsx(eye,{id:l.contentId,role:"tooltip",children:i||r})})]})})});D6.displayName=ud;var I6="TooltipArrow",cye=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Sv(n);return lye(I6,n).isInside?null:g.jsx(vv,{...i,...r,ref:e})});cye.displayName=I6;function uye(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dye(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fye(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function hye(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function pye(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mye(e)}function mye(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gye=P6,yye=R6,xye=O6,L6=D6;const vye=gye,wye=yye,bye=xye,F6=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(L6,{ref:r,sideOffset:e,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));F6.displayName=L6.displayName;function kye({date:t}){const e={relativeTime:Wge(new Date(t),{addSuffix:!0}),fullDate:Uu(new Date(t),"PPpp")};return g.jsx(vye,{children:g.jsxs(wye,{children:[g.jsx(bye,{className:"text-left text-sm text-mastra-el-4",children:e.relativeTime}),g.jsx(F6,{className:"bg-mastra-bg-1 text-mastra-el-1",children:g.jsx("p",{className:"text-sm",children:e.fullDate})})]})})}const Sye=Bd("flex w-full text-mastra-el-6 rounded-sm border bg-transparent shadow-sm focus-visible:ring-ring transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-mastra-border-1 border-border-1 placeholder:text-muted-foreground",filled:"bg-inputFill border-border-1 placeholder:text-muted-foreground",unstyled:"border-0 bg-transparent placeholder:text-muted-foreground focus-visible:ring-transparent focus-visible:outline-none"},customSize:{default:"px-[13px] text-[calc(13_/_16_*_1rem)] h-[34px]",sm:"h-[30px] px-[13px] text-xs",lg:"h-10 px-[17px] rounded-md text-[calc(13_/_16_*_1rem)]"}},defaultVariants:{variant:"default",customSize:"default"}}),vc=S.forwardRef(({className:t,customSize:e,testId:n,variant:r,type:i,...s},o)=>g.jsx("input",{type:i,className:ve(t,Sye({variant:r,customSize:e,className:t})),"data-testid":n,ref:o,...s}));vc.displayName="Input";function jD({score:t}){return g.jsx(Ah,{variant:"secondary",children:t.toFixed(2)})}const ID=(t,e)=>{const[n,r]=S.useState([]),[i,s]=S.useState(!0),o=async a=>{s(!0);try{const l=await fetch(`/api/agents/${a??t}/evals/${e}`);if(!l.ok){const u=await l.json();r([]),console.error("Error fetching evals",u),gn.error((u==null?void 0:u.error)||"Error fetching evals");return}const c=await l.json();r(c.evals)}catch(l){r([]),console.error("Error fetching evals",l),gn.error("Error fetching evals")}finally{s(!1)}};return S.useEffect(()=>{o(t)},[t]),{evals:n,isLoading:i,refetchEvals:o}},B6=S.createContext({handleRefresh:()=>{},isLoading:!1}),uy=ve("relative overflow-y-auto overflow-x-hidden invisible hover:visible focus:visible","[&::-webkit-scrollbar]:w-1","[&::-webkit-scrollbar-track]:bg-transparent","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-thumb]:bg-mastra-border/20","[&>*]:visible"),LD=ve("px-4 py-2 text-sm transition-all border-b-2 border-transparent","data-[state=active]:border-white data-[state=active]:text-white font-medium","data-[state=inactive]:text-mastra-el-4 hover:data-[state=inactive]:text-mastra-el-2","focus-visible:outline-none"),FD=ve("data-[state=inactive]:mt-0 min-h-0 h-full grid grid-rows-[1fr]");function Cye({agentId:t}){const[e,n]=S.useState("live"),{evals:r,isLoading:i,refetchEvals:s}=ID(t,"live"),{evals:o,isLoading:a,refetchEvals:l}=ID(t,"ci"),c={handleRefresh:u,isLoading:e==="live"?i:a};return g.jsx(B6.Provider,{value:c,children:g.jsxs(dA,{value:e,onValueChange:d=>n(d),className:"grid grid-rows-[auto_1fr] h-full min-h-0 pb-2",children:[g.jsx("div",{className:"bg-mastra-bg-2 border-b border-mastra-border/10",children:g.jsxs(dv,{className:"bg-transparent border-0 h-auto mx-4 pt-5",children:[g.jsx(Zs,{value:"live",className:LD,children:"Live"}),g.jsx(Zs,{value:"ci",className:LD,children:"CI"})]})}),g.jsx(Qs,{value:"live",className:FD,children:g.jsx(BD,{evals:r,isCIMode:!1})}),g.jsx(Qs,{value:"ci",className:FD,children:g.jsx(BD,{evals:o,isCIMode:!0})})]})});function u(){e==="live"?s():l()}}function BD({evals:t,isCIMode:e=!1}){const{handleRefresh:n,isLoading:r}=S.useContext(B6),[i,s]=S.useState(new Set),[o,a]=S.useState(""),[l,c]=S.useState({field:"metricName",direction:"asc"}),[u,d]=S.useState(!1);return S.useEffect(()=>{if(r){const b=setTimeout(()=>{d(!0)},200);return()=>clearTimeout(b)}else d(!1)},[r]),g.jsxs("div",{className:"min-h-0 grid grid-rows-[auto_1fr]",children:[g.jsxs("div",{className:"flex items-center gap-4 p-4 bg-mastra-bg-2 rounded-lg",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(dC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-mastra-el-3"}),g.jsx(vc,{id:"search-input",placeholder:"Search metrics, inputs, or outputs...",value:o,onChange:b=>a(b.target.value),className:"pl-10"})]}),g.jsxs(Ah,{variant:"secondary",className:"text-xs",children:[t.length," Total Evaluations"]}),g.jsx(pt,{variant:"ghost",size:"icon",onClick:n,disabled:u,className:"h-9 w-9",children:u?g.jsx(nd,{className:"h-4 w-4 animate-spin"}):g.jsx(nd,{className:"h-4 w-4"})})]}),g.jsx("div",{className:"overflow-auto",children:g.jsxs(fo,{className:"w-full",children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"w-12"}),g.jsx(yt,{className:"min-w-[200px] max-w-[30%] text-mastra-el-3 cursor-pointer",onClick:()=>y("metricName"),children:g.jsxs("div",{className:"flex items-center",children:["Metric ",v("metricName")]})}),g.jsx(yt,{className:"flex-1 text-mastra-el-3"}),g.jsx(yt,{className:"w-48 text-mastra-el-3 cursor-pointer",onClick:()=>y("averageScore"),children:g.jsxs("div",{className:"flex items-center",children:["Average Score ",v("averageScore")]})}),g.jsx(yt,{className:"w-48 text-mastra-el-3",children:"Evaluations"})]})}),g.jsx(po,{className:"border-b border-gray-6 relative",children:g.jsx(aT,{mode:"wait",presenceAffectsLayout:!1,children:u?Array.from({length:3}).map((b,k)=>g.jsxs(V5,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{className:"w-12",children:g.jsx(Ue,{className:"h-8 w-8 rounded-full"})}),g.jsx(ot,{className:"min-w-[200px]",children:g.jsx(Ue,{className:"h-4 w-3/4"})}),g.jsx(ot,{className:"flex-1",children:g.jsx(Ue,{className:"h-4 w-full"})}),g.jsx(ot,{className:"w-48",children:g.jsx(Ue,{className:"h-4 w-20"})}),g.jsx(ot,{className:"w-48",children:g.jsx(Ue,{className:"h-4 w-16"})})]},k)):w(t).length===0?g.jsx(cn,{children:g.jsx(ot,{colSpan:5,className:"h-32 text-center text-mastra-el-3",children:g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx(dC,{className:"h-8 w-8"}),g.jsx("p",{children:"No evaluations found"}),o&&g.jsx("p",{className:"text-sm",children:"Try adjusting your search terms"})]})})}):w(t).map(b=>g.jsxs(ne.Fragment,{children:[g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem] cursor-pointer hover:bg-mastra-bg-3",onClick:()=>m(b.metricName),children:[g.jsx(ot,{className:"w-12",children:g.jsx("div",{className:"h-8 w-full flex items-center justify-center",children:g.jsx("div",{className:ve("transform transition-transform duration-200",i.has(b.metricName)?"rotate-90":""),children:g.jsx(rh,{className:"h-4 w-4 text-mastra-el-5"})})})}),g.jsx(ot,{className:"min-w-[200px] max-w-[30%] font-medium text-mastra-el-5",children:b.metricName}),g.jsx(ot,{className:"flex-1 text-mastra-el-5"}),g.jsx(ot,{className:"w-48 text-mastra-el-5",children:g.jsx(jD,{score:b.averageScore})}),g.jsx(ot,{className:"w-48 text-mastra-el-5",children:g.jsx(Ah,{variant:"secondary",children:b.evals.length})})]}),i.has(b.metricName)&&g.jsx(cn,{children:g.jsx(ot,{colSpan:5+(h(b.evals)?1:0)+(e?1:0),className:"p-0",children:g.jsx("div",{className:"bg-mastra-bg-3 rounded-lg m-2",children:g.jsx("div",{className:"w-full",children:g.jsxs(fo,{className:"w-full",children:[g.jsx(ho,{children:g.jsxs(cn,{className:"text-[0.7rem] text-mastra-el-3 hover:bg-transparent",children:[g.jsx(yt,{className:"pl-12 w-[120px]",children:"Timestamp"}),g.jsx(yt,{className:"w-[300px]",children:"Instructions"}),g.jsx(yt,{className:"w-[300px]",children:"Input"}),g.jsx(yt,{className:"w-[300px]",children:"Output"}),g.jsx(yt,{className:"w-[80px]",children:"Score"}),h(b.evals)&&g.jsx(yt,{className:"w-[250px]",children:"Reason"}),e&&g.jsx(yt,{className:"w-[120px]",children:"Test Name"})]})}),g.jsx(po,{children:b.evals.map((k,C)=>{var N,_;return g.jsxs(cn,{className:"text-[0.8125rem] hover:bg-mastra-bg-2/50",children:[g.jsx(ot,{className:"pl-12 text-mastra-el-4 align-top py-4",children:g.jsx(kye,{date:k.createdAt})}),g.jsx(ot,{className:"text-mastra-el-4 align-top py-4",children:g.jsx("div",{className:ve("max-w-[300px] max-h-[200px]",uy),children:g.jsx(ly,{content:k.instructions,label:"instructions",multiline:!0})})}),g.jsx(ot,{className:"text-mastra-el-4 align-top py-4",children:g.jsx("div",{className:ve("max-w-[300px] max-h-[200px]",uy),children:g.jsx(ly,{content:k.input,label:"input",multiline:!0})})}),g.jsx(ot,{className:"text-mastra-el-4 align-top py-4",children:g.jsx("div",{className:ve("max-w-[300px] max-h-[200px]",uy),children:g.jsx(ly,{content:k.output,label:"output",multiline:!0})})}),g.jsx(ot,{className:"text-mastra-el-4 align-top py-4",children:g.jsx(jD,{score:k.result.score})}),h(b.evals)&&g.jsx(ot,{className:"text-mastra-el-4 align-top py-4",children:g.jsx("div",{className:ve("max-w-[300px] max-h-[200px]",uy),children:g.jsx(ly,{content:((N=k.result.info)==null?void 0:N.reason)||"",label:"reason",multiline:!0})})}),e&&g.jsx(ot,{className:"text-mastra-el-4 align-top py-4",children:((_=k.testInfo)==null?void 0:_.testName)&&g.jsx(Ah,{variant:"secondary",className:"text-xs",children:k.testInfo.testName})})]},`${b.metricName}-${C}`)})})]})})})})})]},b.metricName))})})]})})]});function h(b){return b.some(k=>{var C;return(C=k.result.info)==null?void 0:C.reason})}function m(b){const k=new Set(i);k.has(b)?k.delete(b):k.add(b),s(k)}function y(b){c(k=>({field:b,direction:k.field===b&&k.direction==="asc"?"desc":"asc"}))}function v(b){return l.field!==b?null:l.direction==="asc"?g.jsx(IX,{className:"h-4 w-4 ml-1"}):g.jsx(DX,{className:"h-4 w-4 ml-1"})}function w(b){let k=b.reduce((C,N)=>{const _=C.find(A=>A.metricName===N.metricName);return _?(_.evals.push(N),_.averageScore=_.evals.reduce((A,M)=>A+M.result.score,0)/_.evals.length):C.push({metricName:N.metricName,averageScore:N.result.score,evals:[N]}),C},[]);return o&&(k=k.filter(C=>C.metricName.toLowerCase().includes(o.toLowerCase())||C.evals.some(N=>{var _,A,M;return((_=N.input)==null?void 0:_.toLowerCase().includes(o.toLowerCase()))||((A=N.output)==null?void 0:A.toLowerCase().includes(o.toLowerCase()))||((M=N.instructions)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))}))),k.sort((C,N)=>{const _=l.direction==="asc"?1:-1;switch(l.field){case"metricName":return _*C.metricName.localeCompare(N.metricName);case"averageScore":return _*(C.averageScore-N.averageScore);default:return 0}}),k}}function Eye(){const{agentId:t}=fa();return g.jsx("main",{className:"min-h-0",children:g.jsx(Cye,{agentId:t})})}const Ps=S.createContext({});function z6({children:t}){const[e,n]=S.useState(!1),[r,i]=S.useState(null),[s,o]=S.useState([]),[a,l]=S.useState(0),[c,u]=S.useState(null),[d,h]=S.useState(!1),m=()=>{if(a<s.length-1){const w=a+1;l(w);const b=s[w].trace;i(b);const k=b.find(C=>C.parentSpanId===null)||b[0];u(k)}},y=()=>{if(a>0){const w=a-1;l(w);const b=s[w].trace;i(b);const k=b.find(C=>C.parentSpanId===null)||b[0];u(k)}},v=()=>{n(!1),i(null),u(null),h(!1)};return g.jsx(Ps.Provider,{value:{isOpen:e,setIsOpen:n,trace:r,setTrace:i,traces:s,setTraces:o,currentTraceIndex:a,setCurrentTraceIndex:l,nextTrace:m,prevTrace:y,span:c,setSpan:u,openDetail:d,setOpenDetail:h,clearData:v},children:t})}const Nv=({defaultWidth:t,minimumWidth:e,maximumWidth:n})=>{const[r,i]=S.useState(!1),[s,o]=S.useState(t),{isOpen:a}=S.useContext(Ps),l=S.useRef(null),c=S.useRef(0),u=S.useRef(0),d=h=>{h.preventDefault(),i(!0),c.current=h.clientX,u.current=s};return S.useEffect(()=>{a||o(t)},[a]),S.useEffect(()=>{const h=y=>{if(!r||!l.current)return;const v=l.current.offsetWidth,b=(c.current-y.clientX)/v*100,k=Math.min(Math.max(u.current+b,e),n);o(k)},m=()=>{i(!1)};return r&&(window.addEventListener("mousemove",h),window.addEventListener("mouseup",m)),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",m)}},[r]),{sidebarWidth:s,isDragging:r,handleMouseDown:d,containerRef:l}};function Nye({fetchFn:t,interval:e=3e3,enabled:n=!1,onSuccess:r,onError:i,shouldContinue:s=()=>!0}){const[o,a]=S.useState(n),[l,c]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState(!1),[y,v]=S.useState(!1),w=S.useRef(null),b=S.useRef(!0),k=S.useCallback(()=>{console.log("cleanup"),w.current&&(clearTimeout(w.current),w.current=null)},[]),C=S.useCallback(()=>{console.log("stopPolling"),a(!1),k()},[k]),N=S.useCallback(()=>{console.log("startPolling"),a(!0),c(null)},[]),_=S.useCallback(async(A=!1)=>{if(b.current){m(!0),v(A);try{const M=await t();d(M),c(null),r==null||r(M),v(!1),s(M)?w.current=setTimeout(_,e):C()}catch(M){if(!b.current)return;c(M),i==null||i(M),C()}finally{b.current&&(v(!1),m(!1))}}},[t,e,r,i,s,C]);return S.useEffect(()=>(b.current=!0,n&&o&&_(!0),()=>{console.log("cleanup poll"),b.current=!1,k()}),[n,o,_,k]),{isPolling:o,isLoading:h,error:l,data:u,startPolling:N,stopPolling:C,firstCallLoading:y}}function FA(t,e=2){return(t/1e3).toFixed(e)}function $6(t){const e=new Date(t/1e3);return new Intl.DateTimeFormat("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(e)}function Tye(t){const e=new Date(t/1e6);return new Intl.DateTimeFormat("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(e)}function Aye(t){return t.includes(".argument.")?"Input":t.includes(".result")?"Output":t.split(".").join(" ").split("_")}function zD(t){return t.replace(/\\n/g,"").replace(/\n/g,"").replace(/\s+/g," ").trim()}const _ye=(t,e=!1)=>{const n=new Set,r=o=>{var a,l,c,u;return o!=null&&o.startsWith("workflow.")&&e?(l=(a=o==null?void 0:o.split("."))==null?void 0:a.slice(2))==null?void 0:l.join("."):o!=null&&o.startsWith("agent.")&&!e?(u=(c=o==null?void 0:o.split("."))==null?void 0:c.slice(1))==null?void 0:u.join("."):o},i=t.reduce((o,a)=>{const l={...a,name:r(a.name),duration:a.endTime-a.startTime};return n.add(a.id),{...o,[a.traceId]:[...o[a.traceId]||[],l]}},{});return Object.entries(i).map(([o,a])=>{var d;const l=a.find(h=>!h.parentSpanId||!n.has(h.parentSpanId)),c=a.map(h=>({...h,parentSpanId:(l==null?void 0:l.id)===h.id?null:h==null?void 0:h.parentSpanId,relativePercentage:l?h.duration/l.duration:0})),u=(d=a.find(h=>h.status.code!==0))==null?void 0:d.status;return{traceId:o,serviceName:(l==null?void 0:l.name)||o,duration:a.reduce((h,m)=>h+m.duration,0),status:u||(l==null?void 0:l.status)||a[0].status,started:a[0].startTime,trace:c}})},Mye=["operation.name","ai.operationId","ai.model.provider","ai.model.id","ai.prompt.format","ai.prompt.messages","ai.prompt.tools","ai.prompt.toolChoice","ai.settings.toolChoice","ai.schema","ai.settings.output","ai.response.object","ai.response.text","ai.response.timestamp","componentName","ai.usage.promptTokens","ai.usage.completionTokens"],V6=(t,e=!1)=>{const[n,r]=S.useState(null),i=S.useCallback(async()=>{try{const u=await fetch(`/api/telemetry?attribute=componentName:${t}`);if(!u.ok){const m=await u.json();throw new Error((m==null?void 0:m.error)||"Error fetching traces")}const d=await u.json();return _ye((d==null?void 0:d.traces)||[],e)}catch(u){throw u}},[t]),s=S.useCallback(u=>{u.length>0&&r(()=>u)},[]),o=S.useCallback(u=>{gn.error(u.message)},[]),a=S.useCallback(u=>u.length>0,[]),{firstCallLoading:l,error:c}=Nye({fetchFn:i,interval:3e3,onSuccess:s,onError:o,shouldContinue:a,enabled:!0});return{traces:n,firstCallLoading:l,error:c}};function W6({traces:t}){const{setTraces:e,trace:n}=S.useContext(Ps),r=(n==null?void 0:n.find(i=>i.parentSpanId===void 0))||(n==null?void 0:n[0]);return S.useEffect(()=>{e(t)},[t]),g.jsx("div",{className:"h-full w-[calc(100%_-_400px)]",children:g.jsx(Bn,{className:"rounded-lg h-full",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"text-mastra-el-3",children:"Trace"}),g.jsxs(yt,{className:"text-mastra-el-3 flex items-center gap-1",children:[g.jsx(Vh,{className:"h-3 w-3"})," Trace Id"]}),g.jsx(yt,{className:"text-mastra-el-3",children:"Started"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Total Duration"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:t.length?t.map((i,s)=>g.jsxs(cn,{className:ve("border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",{"bg-muted/50":(r==null?void 0:r.traceId)===i.traceId}),children:[g.jsx(ot,{children:g.jsx(Pye,{trace:i.trace,name:i.serviceName,traceIndex:s,status:i.status})}),g.jsx(ot,{className:"text-mastra-el-5",children:i.traceId}),g.jsx(ot,{className:"text-mastra-el-5 text-sm",children:$6(i.started)}),g.jsx(ot,{children:g.jsxs("span",{className:"inline-flex items-center gap-2 text-[#F1CA5E]",children:[g.jsx(zX,{className:"h-3 w-3"}),FA(i.duration,3),"ms"]})})]},i.traceId)):g.jsx(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:g.jsx(ot,{colSpan:4,className:"h-24 text-center",children:"No traces found"})})})]})})})}function Pye({trace:t,name:e,traceIndex:n,status:r}){const{setTrace:i,isOpen:s,setIsOpen:o,trace:a,setSpan:l,setOpenDetail:c,setCurrentTraceIndex:u}=S.useContext(Ps);return g.jsxs(pt,{variant:"ghost",className:"flex h-0 items-center gap-2 p-0",onClick:()=>{var h;i(t);const d=t.find(m=>m.parentSpanId===null)||t[0];l(d),u(n),!(s&&((h=a==null?void 0:a[0])==null?void 0:h.id)!==t[0].id)&&(o(m=>!m),c(m=>!m))},children:[r.code===0?g.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.37695 12C9.69067 12 12.377 9.31371 12.377 6C12.377 2.68629 9.69067 0 6.37695 0C3.06325 0 0.376953 2.68629 0.376953 6C0.376953 9.31371 3.06325 12 6.37695 12ZM9.62004 4.65344C9.87907 4.36036 9.8651 3.90005 9.58884 3.6253C9.3125 3.35055 8.87861 3.3654 8.61958 3.65847L5.6477 7.02105L4.08967 5.55197C3.80661 5.28508 3.37319 5.31213 3.12159 5.61237C2.87 5.91262 2.89549 6.37239 3.17854 6.63927L4.90294 8.26517C5.36588 8.70171 6.07235 8.6676 6.49598 8.18829L9.62004 4.65344Z",fill:"#6CD063"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FF4500",width:"13",height:"12",children:g.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"})}),g.jsx("span",{className:"truncate max-w-[150px]",children:e})]})}function H6({node:t,depth:e=0}){var d,h,m,y,v;const[n,r]=S.useState(!0),i=t.children&&t.children.length>0,{setOpenDetail:s,setSpan:o,openDetail:a,span:l}=S.useContext(Ps),c=S.useRef(null),u=Math.min(t.relativePercentage?(t==null?void 0:t.relativePercentage)*100:0,100);return g.jsxs("div",{ref:c,children:[g.jsxs(pt,{variant:"ghost",className:ve("relative flex w-full items-center justify-start gap-2 py-3 pr-1 text-sm",{"text-accent-foreground bg-accent":(l==null?void 0:l.id)===t.id}),onClick:w=>{w.preventDefault(),w.stopPropagation(),o(t),!(a&&t.id!==(l==null?void 0:l.id))&&s(!0)},style:{paddingLeft:`${e>0?e*35+28-e*3:24}px`},children:[i?g.jsx("div",{onClick:()=>r(!n),className:"relative grid h-auto flex-shrink-0 place-items-center rounded-sm bg-[#1a1a1a] p-2",children:g.jsx("svg",{className:ve("!h-2 !w-2 transition-transform",n?"":"-rotate-90"),xmlns:"http://www.w3.org/2000/svg",width:"7",height:"6",viewBox:"0 0 7 6",fill:"none",children:g.jsx("path",{d:"M3.9338 5.5C3.74135 5.83333 3.26022 5.83333 3.06777 5.5L0.469694 0.999999C0.277244 0.666666 0.517814 0.25 0.902714 0.25L6.09886 0.25C6.48376 0.25 6.72433 0.666666 6.53188 1L3.9338 5.5Z",fill:"#939393"})})}):null,g.jsxs("div",{className:"flex w-full gap-4 pr-4",children:[g.jsx("p",{className:ve("max-w-[250px] text-sm",{"text-white":((d=t==null?void 0:t.status)==null?void 0:d.code)===0,"text-[#FF4500]":((h=t==null?void 0:t.status)==null?void 0:h.code)!==0,"px-1":e===0,truncate:((m=c.current)==null?void 0:m.offsetWidth)&&((y=c.current)==null?void 0:y.offsetWidth)<450&&e>1&&((v=t.name)==null?void 0:v.length)>16}),children:t.name}),t.duration>0&&g.jsxs("div",{className:"relative w-full",children:[g.jsx("div",{className:"absolute top-[11px] h-px w-full bg-[hsl(220,14%,19%)]"}),g.jsx("div",{style:{width:`${u}%`,left:0},className:ve("absolute top-[9px] z-0 h-[5px] rounded-[5px] bg-white transition-all",t.name.includes("agent")&&"left-1/2 bg-green-500",t.name.includes("llm")&&"bg-[#5699A8]",t.name.includes("ai")&&"left-2/4 w-5 bg-[#F09A56]")}),g.jsxs("span",{className:"absolute left-0 top-3 text-[0.63rem] text-mastra-el-3",children:[FA(t.duration),"ms"]})]})]})]}),i&&n&&g.jsx(g.Fragment,{children:t.children.map(w=>g.jsx(H6,{node:w,depth:e+1},w.id))})]})}function Rye({tree:t}){return g.jsx("ul",{children:t.map(e=>g.jsx(H6,{node:e},e.id))})}function U6(t,e=null){return t.filter(n=>n.parentSpanId===e).map(n=>({...n,children:U6(t,n.id)}))}function Oye({trace:t}){const e=U6(t.concat([]).reverse());return g.jsx("div",{children:g.jsx(Rye,{tree:e})})}function q6(){const{trace:t,currentTraceIndex:e,prevTrace:n,nextTrace:r,traces:i,clearData:s}=S.useContext(Ps);return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between px-6 pt-[1.56rem]",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("h3",{className:"text-[1.125rem]",children:["Trace Span",t!=null&&t.length&&t.length>1?"s":""]}),g.jsxs("span",{className:"text-xs text-mastra-el-3",children:[t!=null&&t.length?t.length:0," span",t!=null&&t.length&&t.length>1?"s":""]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(pt,{onClick:()=>{n()},disabled:e===0,variant:"secondary",size:"icon",className:"!h-3 !w-3 rotate-180 !px-3 py-3 text-mastra-el-3 transition-colors hover:text-white",children:g.jsx(Wh,{})})," ",g.jsx(pt,{onClick:()=>{r()},disabled:e===i.length-1,variant:"secondary",size:"icon",className:"!h-3 !w-3 !px-3 py-3 text-mastra-el-3 transition-colors hover:text-white",children:g.jsx(Wh,{})})]}),g.jsx("span",{className:"bg-secondary inline-block h-5 w-px"}),g.jsx(pt,{onClick:()=>{s()},variant:"secondary",size:"icon",className:"!h-3 !w-3 !px-3 py-3 text-mastra-el-3 transition-colors hover:text-white",children:g.jsx(Cl,{})})]})]}),g.jsxs("div",{className:"p-6 px-1",children:[" ",t&&g.jsx(Oye,{trace:t})]})]})}const Y6=1024;let Dye=0,ck=class{constructor(e,n){this.from=e,this.to=n}};class Nt{constructor(e={}){this.id=Dye++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ci.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Nt.closedBy=new Nt({deserialize:t=>t.split(" ")});Nt.openedBy=new Nt({deserialize:t=>t.split(" ")});Nt.group=new Nt({deserialize:t=>t.split(" ")});Nt.isolate=new Nt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Nt.contextHash=new Nt({perNode:!0});Nt.lookAhead=new Nt({perNode:!0});Nt.mounted=new Nt({perNode:!0});class V0{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Nt.mounted.id]}}const jye=Object.create(null);class ci{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):jye,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ci(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Nt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Nt.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}ci.none=new ci("",Object.create(null),0,8);class BA{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new ci(r.name,i,r.id,r.flags):r)}return new BA(n)}}const dy=new WeakMap,$D=new WeakMap;var sr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(sr||(sr={}));class Ln{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=V0.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new lE(this.topNode,e)}cursorAt(e,n=0,r=0){let i=dy.get(this)||this.topNode,s=new lE(i);return s.moveTo(e,n),dy.set(this,s._tree),s}get topNode(){return new Qi(this,0,0,null)}resolve(e,n=0){let r=sp(dy.get(this)||this.topNode,e,n,!1);return dy.set(this,r),r}resolveInner(e,n=0){let r=sp($D.get(this)||this.topNode,e,n,!0);return $D.set(this,r),r}resolveStack(e,n=0){return Fye(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&sr.IncludeAnonymous)>0;for(let l=this.cursor(o|sr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:VA(ci.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Ln(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Ln(ci.none,n,r,i)))}static build(e){return Bye(e)}}Ln.empty=new Ln(ci.none,[],[],0);class zA{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new zA(this.buffer,this.index)}}class pl{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return ci.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(G6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new pl(s,o,this.set)}}function G6(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function sp(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Qi&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:sr.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Qi&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class K6{cursor(e=0){return new lE(this,e)}getChild(e,n=null,r=null){let i=VD(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return VD(this,e,n,r)}resolve(e,n=0){return sp(this,e,n,!1)}resolveInner(e,n=0){return sp(this,e,n,!0)}matchContext(e){return aE(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Qi extends K6{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],d=l[e]+o.from;if(G6(i,r,d,d+u.length)){if(u instanceof pl){if(s&sr.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,n,r-d,i);if(h>-1)return new nl(new Iye(o,u,e,d),null,h)}else if(s&sr.IncludeAnonymous||!u.type.isAnonymous||$A(u)){let h;if(!(s&sr.IgnoreMounts)&&(h=V0.get(u))&&!h.overlay)return new Qi(h.tree,d,e,o);let m=new Qi(u,d,e,o);return s&sr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(s&sr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&sr.IgnoreOverlays)&&(i=V0.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Qi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function VD(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function aE(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Iye{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class nl extends K6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new nl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&sr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new nl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new nl(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new nl(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Ln(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function X6(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Qi&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Lye(i,n)}class Lye{constructor(e,n){this.heads=e,this.node=n}get next(){return X6(this.heads)}}function Fye(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Qi?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=V0.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Qi(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(sp(a,e,n,!1))}}return i?X6(i):r}class lE{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Qi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Qi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&sr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&sr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&sr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&sr.IncludeAnonymous||a instanceof pl||!a.type.isAnonymous||$A(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new nl(this.buffer,n,this.stack[i]);return this.bufferNode=new nl(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return aE(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return aE(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function $A(t){return t.children.some(e=>e instanceof pl||!e.type.isAnonymous||$A(e))}function Bye(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Y6,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new zA(n,n.length):n,l=r.types,c=0,u=0;function d(_,A,M,R,D,O){let{id:B,start:F,end:W,size:I}=a,Y=u,V=c;for(;I<0;)if(a.next(),I==-1){let q=s[B];M.push(q),R.push(F-_);return}else if(I==-3){c=B;return}else if(I==-4){u=B;return}else throw new RangeError(`Unrecognized record size: ${I}`);let G=l[B],H,$,L=F-_;if(W-F<=i&&($=w(a.pos-A,D))){let q=new Uint16Array($.size-$.skip),U=a.pos-$.size,j=q.length;for(;a.pos>U;)j=b($.start,q,j);H=new pl(q,W-$.start,r),L=$.start-_}else{let q=a.pos-I;a.next();let U=[],j=[],K=B>=o?B:-1,X=0,J=W;for(;a.pos>q;)K>=0&&a.id==K&&a.size>=0?(a.end<=J-i&&(y(U,j,F,X,a.end,J,K,Y,V),X=U.length,J=a.end),a.next()):O>2500?h(F,q,U,j):d(F,q,U,j,K,O+1);if(K>=0&&X>0&&X<U.length&&y(U,j,F,X,F,J,K,Y,V),U.reverse(),j.reverse(),K>-1&&X>0){let Z=m(G,V);H=VA(G,U,j,0,U.length,0,W-F,Z,Z)}else H=v(G,U,j,W-F,Y-W,V)}M.push(H),R.push(L)}function h(_,A,M,R){let D=[],O=0,B=-1;for(;a.pos>A;){let{id:F,start:W,end:I,size:Y}=a;if(Y>4)a.next();else{if(B>-1&&W<B)break;B<0&&(B=I-i),D.push(F,W,I),O++,a.next()}}if(O){let F=new Uint16Array(O*4),W=D[D.length-2];for(let I=D.length-3,Y=0;I>=0;I-=3)F[Y++]=D[I],F[Y++]=D[I+1]-W,F[Y++]=D[I+2]-W,F[Y++]=Y;M.push(new pl(F,D[2]-W,r)),R.push(W-_)}}function m(_,A){return(M,R,D)=>{let O=0,B=M.length-1,F,W;if(B>=0&&(F=M[B])instanceof Ln){if(!B&&F.type==_&&F.length==D)return F;(W=F.prop(Nt.lookAhead))&&(O=R[B]+F.length+W)}return v(_,M,R,D,O,A)}}function y(_,A,M,R,D,O,B,F,W){let I=[],Y=[];for(;_.length>R;)I.push(_.pop()),Y.push(A.pop()+M-D);_.push(v(r.types[B],I,Y,O-D,F-O,W)),A.push(D-M)}function v(_,A,M,R,D,O,B){if(O){let F=[Nt.contextHash,O];B=B?[F].concat(B):[F]}if(D>25){let F=[Nt.lookAhead,D];B=B?[F].concat(B):[F]}return new Ln(_,A,M,R,B)}function w(_,A){let M=a.fork(),R=0,D=0,O=0,B=M.end-i,F={size:0,start:0,skip:0};e:for(let W=M.pos-_;M.pos>W;){let I=M.size;if(M.id==A&&I>=0){F.size=R,F.start=D,F.skip=O,O+=4,R+=4,M.next();continue}let Y=M.pos-I;if(I<0||Y<W||M.start<B)break;let V=M.id>=o?4:0,G=M.start;for(M.next();M.pos>Y;){if(M.size<0)if(M.size==-3)V+=4;else break e;else M.id>=o&&(V+=4);M.next()}D=G,R+=I,O+=V}return(A<0||R==_)&&(F.size=R,F.start=D,F.skip=O),F.size>4?F:void 0}function b(_,A,M){let{id:R,start:D,end:O,size:B}=a;if(a.next(),B>=0&&R<o){let F=M;if(B>4){let W=a.pos-(B-4);for(;a.pos>W;)M=b(_,A,M)}A[--M]=F,A[--M]=O-_,A[--M]=D-_,A[--M]=R}else B==-3?c=R:B==-4&&(u=R);return M}let k=[],C=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,k,C,-1,0);let N=(e=t.length)!==null&&e!==void 0?e:k.length?C[0]+k[0].length:0;return new Ln(l[t.topID],k.reverse(),C.reverse(),N)}const WD=new WeakMap;function t0(t,e){if(!t.isAnonymous||e instanceof pl||e.type!=t)return 1;let n=WD.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Ln)){n=1;break}n+=t0(t,r)}WD.set(e,n)}return n}function VA(t,e,n,r,i,s,o,a,l){let c=0;for(let y=r;y<i;y++)c+=t0(t,e[y]);let u=Math.ceil(c*1.5/8),d=[],h=[];function m(y,v,w,b,k){for(let C=w;C<b;){let N=C,_=v[C],A=t0(t,y[C]);for(C++;C<b;C++){let M=t0(t,y[C]);if(A+M>=u)break;A+=M}if(C==N+1){if(A>u){let M=y[N];m(M.children,M.positions,0,M.children.length,v[N]+k);continue}d.push(y[N])}else{let M=v[C-1]+y[C-1].length-_;d.push(VA(t,y,v,N,C,_,M,null,l))}h.push(_+k-s)}}return m(e,n,r,i,0),(a||l)(d,h,o)}class dc{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new dc(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let h=o;if(l>=h.from||d<=h.to||c){let m=Math.max(h.from,l)-c,y=Math.min(h.to,d)-c;h=m>=y?null:new dc(m,y,h.tree,h.offset+c,a>0,!!u)}if(h&&i.push(h),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class Z6{startParse(e,n,r){return typeof e=="string"&&(e=new zye(e)),r=r?r.length?r.map(i=>new ck(i.from,i.to)):[new ck(0,0)]:[new ck(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class zye{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Nt({perNode:!0});var HD={};class W0{constructor(e,n,r,i,s,o,a,l,c,u=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new W0(e,[],n,r,r,0,[],0,i?new UD(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,m,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new W0(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new $ye(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new UD(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class UD{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class $ye{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class H0{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new H0(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new H0(this.stack,this.pos,this.index)}}function fy(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class n0{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const qD=new n0;class Vye{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=qD,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=qD,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class qu{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;Wye(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}qu.prototype.contextual=qu.prototype.fallback=qu.prototype.extend=!1;qu.prototype.fallback=qu.prototype.extend=!1;function Wye(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let m=o+3;m<c;m+=2)if((t[m+1]&a)>0){let y=t[m];if(l.allows(y)&&(e.token.value==-1||e.token.value==y||Hye(y,e.token.value,i,s))){e.acceptToken(y);break}}let u=e.next,d=0,h=t[o+2];if(e.next<0&&h>d&&t[c+h*3-3]==65535){o=t[c+h*3-1];continue e}for(;d<h;){let m=d+h>>1,y=c+m+(m<<1),v=t[y],w=t[y+1]||65536;if(u<v)h=m;else if(u>=w)d=m+1;else{o=t[y+2],e.advance();continue e}}break}}function YD(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function Hye(t,e,n,r){let i=YD(n,r,e);return i<0||YD(n,r,t)<i}const yi=typeof process<"u"&&HD&&/\bparse\b/.test(HD.LOG);let uk=null;function GD(t,e,n){let r=t.cursor(sr.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class Uye{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?GD(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?GD(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Ln){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Nt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class qye{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new n0)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let h=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!u.extend&&(r=d,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new n0,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new n0,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Wo(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Wo(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Wo(a,c+1),n,r,i))}return i}}class Yye{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Vye(n,i),this.tokens=new qye(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[W0.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Uye(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&Kye(i);if(o)return yi&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw yi&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return yi&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=yi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!c||(d.prop(Nt.contextHash)||0)==u))return e.useNode(d,h),yi&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof Ln)||d.children.length==0||d.positions[0]>0)break;let m=d.children[0];if(m instanceof Ln&&d.positions[0]==0)d=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),yi&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],h=l[c++],m=c==l.length||!r,y=m?e:e.split(),v=this.tokens.mainToken;if(y.apply(u,d,v?v.start:y.pos,h),yi&&console.log(o+this.stackID(y)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(d)} @ ${i}${y==e?"":", split"})`),m)return!0;y.pos>i?n.push(y):r.push(y)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return KD(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],u=yi?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),yi&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),h=u;for(let m=0;d.forceReduce()&&m<10&&(yi&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));m++)yi&&(h=this.stackID(d)+" -> ");for(let m of a.recoverByInsert(l))yi&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),yi&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),KD(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Ln.build({buffer:H0.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(uk||(uk=new WeakMap)).get(e);return n||uk.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function KD(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class Gye{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class U0 extends Z6{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Nt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let d=a[c+-u];for(let h=-u;h>0;h--)s(a[c++],l,d);c++}}}this.nodeSet=new BA(n.map((a,l)=>ci.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Y6;let o=fy(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(XD),this.states=fy(e.states,Uint32Array),this.data=fy(e.stateData),this.goto=fy(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new qu(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new Yye(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Wo(r,s+2)];else{if(r[s+1]==2)return Wo(r,s+2);break}if(o==n||o==0)return Wo(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Wo(this.data,s+2);else break;i=n(Wo(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Wo(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(U0.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=XD(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new Gye(e,r,i)}static deserialize(e){return new U0(e)}}function Wo(t,e){return t[e]|t[e+1]<<16}function Kye(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function XD(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}let Xye=0;class Yi{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Xye++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Yi&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new Yi(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new q0(e);return r=>r.modified.indexOf(n)>-1?r:q0.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let Zye=0;class q0{constructor(e){this.name=e,this.instances=[],this.id=Zye++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Qye(n,a.modified));if(r)return r;let i=[],s=new Yi(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=Jye(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(q0.get(a,l));return s}}function Qye(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Jye(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Q6(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==i.length)break;let m=i[d++];if(d==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Y0(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return J6.add(e)}const J6=new Nt;class Y0{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Y0.empty=new Y0([],2,null);function e8(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function e0e(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function t0e(t,e,n,r=0,i=t.length){let s=new n0e(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class n0e{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=i,u=r0e(e)||Y0.empty,d=e0e(s,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),c),u.opaque)return;let h=e.tree&&e.tree.prop(Nt.mounted);if(h&&h.overlay){let m=e.node.enter(h.overlay[0].from+a,1),y=this.highlighters.filter(w=>!w.scope||w.scope(h.tree.type)),v=e.firstChild();for(let w=0,b=a;;w++){let k=w<h.overlay.length?h.overlay[w]:null,C=k?k.from+a:l,N=Math.max(n,b),_=Math.min(r,C);if(N<_&&v)for(;e.from<_&&(this.highlightRange(e,N,_,i,s),this.startSpan(Math.min(_,e.to),c),!(e.to>=C||!e.nextSibling())););if(!k||C>r)break;b=k.to+a,b>n&&(this.highlightRange(m.cursor(),Math.max(n,k.from+a),Math.min(r,b),"",y),this.startSpan(Math.min(r,b),c))}v&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function r0e(t){let e=t.type.prop(J6);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Oe=Yi.define,hy=Oe(),Ka=Oe(),ZD=Oe(Ka),QD=Oe(Ka),Xa=Oe(),py=Oe(Xa),dk=Oe(Xa),Ws=Oe(),Xl=Oe(Ws),Bs=Oe(),zs=Oe(),cE=Oe(),qf=Oe(cE),my=Oe(),re={comment:hy,lineComment:Oe(hy),blockComment:Oe(hy),docComment:Oe(hy),name:Ka,variableName:Oe(Ka),typeName:ZD,tagName:Oe(ZD),propertyName:QD,attributeName:Oe(QD),className:Oe(Ka),labelName:Oe(Ka),namespace:Oe(Ka),macroName:Oe(Ka),literal:Xa,string:py,docString:Oe(py),character:Oe(py),attributeValue:Oe(py),number:dk,integer:Oe(dk),float:Oe(dk),bool:Oe(Xa),regexp:Oe(Xa),escape:Oe(Xa),color:Oe(Xa),url:Oe(Xa),keyword:Bs,self:Oe(Bs),null:Oe(Bs),atom:Oe(Bs),unit:Oe(Bs),modifier:Oe(Bs),operatorKeyword:Oe(Bs),controlKeyword:Oe(Bs),definitionKeyword:Oe(Bs),moduleKeyword:Oe(Bs),operator:zs,derefOperator:Oe(zs),arithmeticOperator:Oe(zs),logicOperator:Oe(zs),bitwiseOperator:Oe(zs),compareOperator:Oe(zs),updateOperator:Oe(zs),definitionOperator:Oe(zs),typeOperator:Oe(zs),controlOperator:Oe(zs),punctuation:cE,separator:Oe(cE),bracket:qf,angleBracket:Oe(qf),squareBracket:Oe(qf),paren:Oe(qf),brace:Oe(qf),content:Ws,heading:Xl,heading1:Oe(Xl),heading2:Oe(Xl),heading3:Oe(Xl),heading4:Oe(Xl),heading5:Oe(Xl),heading6:Oe(Xl),contentSeparator:Oe(Ws),list:Oe(Ws),quote:Oe(Ws),emphasis:Oe(Ws),strong:Oe(Ws),link:Oe(Ws),monospace:Oe(Ws),strikethrough:Oe(Ws),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:my,documentMeta:Oe(my),annotation:Oe(my),processingInstruction:Oe(my),definition:Yi.defineModifier("definition"),constant:Yi.defineModifier("constant"),function:Yi.defineModifier("function"),standard:Yi.defineModifier("standard"),local:Yi.defineModifier("local"),special:Yi.defineModifier("special")};for(let t in re){let e=re[t];e instanceof Yi&&(e.name=t)}e8([{tag:re.link,class:"tok-link"},{tag:re.heading,class:"tok-heading"},{tag:re.emphasis,class:"tok-emphasis"},{tag:re.strong,class:"tok-strong"},{tag:re.keyword,class:"tok-keyword"},{tag:re.atom,class:"tok-atom"},{tag:re.bool,class:"tok-bool"},{tag:re.url,class:"tok-url"},{tag:re.labelName,class:"tok-labelName"},{tag:re.inserted,class:"tok-inserted"},{tag:re.deleted,class:"tok-deleted"},{tag:re.literal,class:"tok-literal"},{tag:re.string,class:"tok-string"},{tag:re.number,class:"tok-number"},{tag:[re.regexp,re.escape,re.special(re.string)],class:"tok-string2"},{tag:re.variableName,class:"tok-variableName"},{tag:re.local(re.variableName),class:"tok-variableName tok-local"},{tag:re.definition(re.variableName),class:"tok-variableName tok-definition"},{tag:re.special(re.variableName),class:"tok-variableName2"},{tag:re.definition(re.propertyName),class:"tok-propertyName tok-definition"},{tag:re.typeName,class:"tok-typeName"},{tag:re.namespace,class:"tok-namespace"},{tag:re.className,class:"tok-className"},{tag:re.macroName,class:"tok-macroName"},{tag:re.propertyName,class:"tok-propertyName"},{tag:re.operator,class:"tok-operator"},{tag:re.comment,class:"tok-comment"},{tag:re.meta,class:"tok-meta"},{tag:re.invalid,class:"tok-invalid"},{tag:re.punctuation,class:"tok-punctuation"}]);const i0e=Q6({String:re.string,Number:re.number,"True False":re.bool,PropertyName:re.propertyName,Null:re.null,", :":re.separator,"[ ]":re.squareBracket,"{ }":re.brace}),s0e=U0.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[i0e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let uE=[],t8=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?t8:uE).push(n=n+t[e])})();function o0e(t){if(t<768)return!1;for(let e=0,n=uE.length;;){let r=e+n>>1;if(t<uE[r])n=r;else if(t>=t8[r])e=r+1;else return!0;if(e==n)return!1}}function JD(t){return t>=127462&&t<=127487}const ej=8205;function a0e(t,e,n=!0,r=!0){return(n?n8:l0e)(t,e,r)}function n8(t,e,n){if(e==t.length)return e;e&&r8(t.charCodeAt(e))&&i8(t.charCodeAt(e-1))&&e--;let r=fk(t,e);for(e+=tj(r);e<t.length;){let i=fk(t,e);if(r==ej||i==ej||n&&o0e(i))e+=tj(i),r=i;else if(JD(i)){let s=0,o=e-2;for(;o>=0&&JD(fk(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function l0e(t,e,n){for(;e>0;){let r=n8(t,e-2,n);if(r<e)return r;e--}return 0}function fk(t,e){let n=t.charCodeAt(e);if(!i8(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return r8(r)?(n-55296<<10)+(r-56320)+65536:n}function r8(t){return t>=56320&&t<57344}function i8(t){return t>=55296&&t<56320}function tj(t){return t<65536?1:2}let Vt=class s8{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=dd(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Ys.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=dd(this,e,n);let r=[];return this.decompose(e,n,r,0),Ys.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new _h(this),s=new _h(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new _h(this,e)}iterRange(e,n=this.length){return new o8(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new a8(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?s8.empty:e.length<=32?new An(e):Ys.from(An.split(e,[]))}};class An extends Vt{constructor(e,n=c0e(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new u0e(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new An(nj(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=r0(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new An(a,o.length+s.length));else{let l=a.length>>1;r.push(new An(a.slice(0,l)),new An(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof An))return super.replace(e,n,r);[e,n]=dd(this,e,n);let i=r0(this.text,r0(r.text,nj(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new An(i,s):Ys.from(An.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=dd(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new An(r,i)),r=[],i=-1);return i>-1&&n.push(new An(r,i)),n}}class Ys extends Vt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(a):a.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=dd(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Ys(u,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=dd(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Ys))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let y of e)y.flatten(m);return new An(m,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function d(m){let y;if(m.lines>s&&m instanceof Ys)for(let v of m.children)d(v);else m.lines>o&&(l>o||!l)?(h(),a.push(m)):m instanceof An&&l&&(y=u[u.length-1])instanceof An&&m.lines+y.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new An(y.text.concat(m.text),y.length+1+m.length)):(l+m.lines>i&&h(),l+=m.lines,c+=m.length+1,u.push(m))}function h(){l!=0&&(a.push(u.length==1?u[0]:Ys.from(u,c)),c=-1,l=u.length=0)}for(let m of e)d(m);return h(),a.length==1?a[0]:new Ys(a,n)}}Vt.empty=new An([""],0);function c0e(t){let e=-1;for(let n of t)e+=n.length+1;return e}function r0(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function nj(t,e,n){return r0(t,[""],e,n)}class _h{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof An?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof An?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof An){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof An?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class o8{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new _h(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class a8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Vt.prototype[Symbol.iterator]=function(){return this.iter()},_h.prototype[Symbol.iterator]=o8.prototype[Symbol.iterator]=a8.prototype[Symbol.iterator]=function(){return this});class u0e{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function dd(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function mr(t,e,n=!0,r=!0){return a0e(t,e,n,r)}function d0e(t){return t>=56320&&t<57344}function f0e(t){return t>=55296&&t<56320}function ni(t,e){let n=t.charCodeAt(e);if(!f0e(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return d0e(r)?(n-55296<<10)+(r-56320)+65536:n}function WA(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Gs(t){return t<65536?1:2}const dE=/\r\n?|\n/;var Vr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Vr||(Vr={}));class oo{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){fE(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new oo(e)}composeDesc(e){return this.empty?e:e.empty?this:l8(this,e)}mapDesc(e,n=!1){return e.empty?this:hE(this,e,n)}mapPos(e,n=-1,r=Vr.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=Vr.Simple&&c>=e&&(r==Vr.TrackDel&&i<e&&c>e||r==Vr.TrackBefore&&i<e||r==Vr.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new oo(e)}static create(e){return new oo(e)}}class Zn extends oo{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return fE(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return hE(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Vt.empty);r.push(o?e.slice(s,s+o):Vt.empty)}s+=o}return new Zn(n,r)}compose(e){return this.empty?e:e.empty?this:l8(this,e,!0)}map(e,n=!1){return e.empty?this:hE(this,e,n,!0)}iterChanges(e,n=!1){fE(this,e,n)}get desc(){return oo.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new op(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);Cr(i,u,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;Cr(n,u,d),d>0&&rl(r,n,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);Cr(n,u,-1),Cr(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Zn(n,r),filtered:oo.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<n&&Cr(i,n-o,-1);let d=new Zn(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Zn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:h=d,insert:m}=u;if(d>h||d<0||h>n)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${n})`);let y=m?typeof m=="string"?Vt.of(m.split(r||dE)):m:Vt.empty,v=y.length;if(d==h&&v==0)return;d<o&&l(),d>o&&Cr(i,d-o,-1),Cr(i,h-d,v),rl(s,i,y),o=h}}return c(e),l(!a),a}static empty(e){return new Zn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Vt.empty);r[i]=Vt.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Zn(n,r)}static createSet(e,n){return new Zn(e,n)}}function Cr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function rl(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Vt.empty);t.push(n)}}function fE(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,d=Vt.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,c,s,u,d),i=c,s=u}}}function hE(t,e,n,r=!1){let i=[],s=r?[]:null,o=new op(t),a=new op(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Cr(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(Cr(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(Cr(i,0,o.ins),s&&rl(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Cr(i,c,l<o.i?o.ins:0),s&&l<o.i&&rl(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Zn.createSet(i,s):oo.create(i);throw new Error("Mismatched change set lengths")}}}function l8(t,e,n=!1){let r=[],i=n?[]:null,s=new op(t),o=new op(e);for(let a=!1;;){if(s.done&&o.done)return i?Zn.createSet(r,i):oo.create(r);if(s.ins==0)Cr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Cr(r,0,o.ins,a),i&&rl(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;Cr(r,l,u,a),i&&u&&rl(i,r,o.text)}else o.ins==-1?(Cr(r,s.off?0:s.len,l,a),i&&rl(i,r,s.textBit(l))):(Cr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&rl(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class op{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Vt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Vt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class sc{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new sc(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ge.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ge.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ge.range(e.anchor,e.head)}static create(e,n,r){return new sc(e,n,r)}}class ge{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:ge.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ge([this.main],0)}addRange(e,n=!0){return ge.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,ge.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ge(e.ranges.map(n=>sc.fromJSON(n)),e.main)}static single(e,n=e){return new ge([ge.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return ge.normalized(e.slice(),n);r=s.to}return new ge(e,n)}static cursor(e,n=0,r,i){return sc.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?sc.create(n,e,48|s):sc.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?ge.range(l,a):ge.range(a,l))}}return new ge(e,n)}}function c8(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let HA=0;class Be{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=HA++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Be(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:UA),!!e.static,e.enables)}of(e){return new i0([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new i0(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new i0(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function UA(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class i0{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=HA++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((n=e[d.id])!==null&&n!==void 0?n:1)&1||u.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||pE(d,u)){let m=r(d);if(a?!rj(m,d.values[o],i):!i(m,d.values[o]))return d.values[o]=m,1}return 0},reconfigure:(d,h)=>{let m,y=h.config.address[s];if(y!=null){let v=K0(h,y);if(this.dependencies.every(w=>w instanceof Be?h.facet(w)===d.facet(w):w instanceof gr?h.field(w,!1)==d.field(w,!1):!0)||(a?rj(m=r(d),v,i):i(m=r(d),v)))return d.values[o]=v,0}else m=r(d);return d.values[o]=m,1}}}}function rj(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function pE(t,e){let n=!1;for(let r of e)Mh(t,r)&1&&(n=!0);return n}function h0e(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=K0(l,r[u]);if(i[u]==2)for(let h of d)c.push(h);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)Mh(l,c);return l.values[o]=a(l),1},update(l,c){if(!pE(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=pE(l,r),d=c.config.facets[e.id],h=c.facet(e);if(d&&!u&&UA(n,d))return l.values[o]=h,0;let m=a(l);return e.compare(m,h)?(l.values[o]=h,0):(l.values[o]=m,1)}}}const gy=Be.define({static:!0});class gr{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new gr(HA++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(gy).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(gy),o=i.facet(gy),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,gy.of({field:this,create:e})]}get extension(){return this}}const tc={lowest:4,low:3,default:2,high:1,highest:0};function Yf(t){return e=>new u8(e,t)}const Fc={highest:Yf(tc.highest),high:Yf(tc.high),default:Yf(tc.default),low:Yf(tc.low),lowest:Yf(tc.lowest)};class u8{constructor(e,n){this.inner=e,this.prec=n}}class Tv{of(e){return new mE(this,e)}reconfigure(e){return Tv.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class mE{constructor(e,n){this.compartment=e,this.inner=n}}class G0{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let h of p0e(e,n,o))h instanceof gr?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],c=[];for(let h of i)a[h.id]=c.length<<1,c.push(m=>h.slot(m));let u=r==null?void 0:r.config.facets;for(let h in s){let m=s[h],y=m[0].facet,v=u&&u[h]||[];if(m.every(w=>w.type==0))if(a[y.id]=l.length<<1|1,UA(v,m))l.push(r.facet(y));else{let w=y.combine(m.map(b=>b.value));l.push(r&&y.compare(w,r.facet(y))?r.facet(y):w)}else{for(let w of m)w.type==0?(a[w.id]=l.length<<1|1,l.push(w.value)):(a[w.id]=c.length<<1,c.push(b=>w.dynamicSlot(b)));a[y.id]=c.length<<1,c.push(w=>h0e(w,y,m))}}let d=c.map(h=>h(a));return new G0(e,o,d,a,l,s)}}function p0e(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof mE&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof mE){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof u8)s(o.inner,o.prec);else if(o instanceof gr)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof i0)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,tc.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,tc.default),r.reduce((o,a)=>o.concat(a))}function Mh(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function K0(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const d8=Be.define(),gE=Be.define({combine:t=>t.some(e=>e),static:!0}),f8=Be.define({combine:t=>t.length?t[0]:void 0,static:!0}),h8=Be.define(),p8=Be.define(),m8=Be.define(),g8=Be.define({combine:t=>t.length?t[0]:!1});class No{constructor(e,n){this.type=e,this.value=n}static define(){return new m0e}}class m0e{of(e){return new No(this,e)}}class g0e{constructor(e){this.map=e}of(e){return new xt(this,e)}}class xt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new xt(this.type,n)}is(e){return this.type==e}static define(e={}){return new g0e(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}xt.reconfigure=xt.define();xt.appendConfig=xt.define();class Jn{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&c8(r,n.newLength),s.some(a=>a.type==Jn.time)||(this.annotations=s.concat(Jn.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Jn(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Jn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Jn.time=No.define();Jn.userEvent=No.define();Jn.addToHistory=No.define();Jn.remote=No.define();function y0e(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function y8(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Zn.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:xt.mapEffects(t.effects,i).concat(xt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function yE(t,e,n){let r=e.selection,i=Yu(e.annotations);return e.userEvent&&(i=i.concat(Jn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Zn?e.changes:Zn.of(e.changes||[],n,t.facet(f8)),selection:r&&(r instanceof ge?r:ge.single(r.anchor,r.head)),effects:Yu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function x8(t,e,n){let r=yE(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=y8(r,yE(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Jn.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return v0e(n?x0e(i):i)}function x0e(t){let e=t.startState,n=!0;for(let i of e.facet(h8)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:y0e(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Zn.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Jn.create(e,i,t.selection&&t.selection.map(s),xt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(p8);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Jn?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Jn?t=s[0]:t=x8(e,Yu(s),!1)}return t}function v0e(t){let e=t.startState,n=e.facet(m8),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=y8(r,yE(e,s,t.changes.newLength),!0))}return r==t?t:Jn.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const w0e=[];function Yu(t){return t==null?w0e:Array.isArray(t)?t:[t]}var mn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(mn||(mn={}));const b0e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let xE;try{xE=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function k0e(t){if(xE)return xE.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||b0e.test(n)))return!0}return!1}function S0e(t){return e=>{if(!/\S/.test(e))return mn.Space;if(k0e(e))return mn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return mn.Word;return mn.Other}}class At{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Mh(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Mh(this,r),K0(this,r)}update(...e){return x8(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Tv.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(xt.reconfigure)?(n=null,r=a.value):a.is(xt.appendConfig)&&(n=null,r=Yu(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=G0.resolve(r,i,this),s=new At(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(gE)?e.newSelection:e.newSelection.asSingle();new At(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ge.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Yu(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let h=0;h<a;h++)s[h]=s[h].map(u);let d=i.mapDesc(c,!0);s.push(l.range.map(d)),i=i.compose(u),o=xt.mapEffects(o,u).concat(xt.mapEffects(Yu(l.effects),d))}return{changes:i,selection:ge.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Zn?e:Zn.of(e,this.doc.length,this.facet(At.lineSeparator))}toText(e){return Vt.of(e.split(this.facet(At.lineSeparator)||dE))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Mh(this,n),K0(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof gr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return At.create({doc:e.doc,selection:ge.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=G0.resolve(e.extensions||[],new Map),r=e.doc instanceof Vt?e.doc:Vt.of((e.doc||"").split(n.staticFacet(At.lineSeparator)||dE)),i=e.selection?e.selection instanceof ge?e.selection:ge.single(e.selection.anchor,e.selection.head):ge.single(0);return c8(i,r.length),n.staticFacet(gE)||(i=i.asSingle()),new At(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(At.tabSize)}get lineBreak(){return this.facet(At.lineSeparator)||`
`}get readOnly(){return this.facet(g8)}phrase(e,...n){for(let r of this.facet(At.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(d8))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return S0e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=mr(n,o,!1);if(s(n.slice(l,o))!=mn.Word)break;o=l}for(;a<i;){let l=mr(n,a);if(s(n.slice(a,l))!=mn.Word)break;a=l}return o==a?null:ge.range(o+r,a+r)}}At.allowMultipleSelections=gE;At.tabSize=Be.define({combine:t=>t.length?t[0]:4});At.lineSeparator=f8;At.readOnly=g8;At.phrases=Be.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});At.languageData=d8;At.changeFilter=h8;At.transactionFilter=p8;At.transactionExtender=m8;Tv.reconfigure=xt.define();function To(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class wc{eq(e){return this==e}range(e,n=e){return ap.create(e,n,this)}}wc.prototype.startSide=wc.prototype.endSide=0;wc.prototype.point=!1;wc.prototype.mapMode=Vr.TrackDel;class ap{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new ap(e,n,r)}}function vE(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class qA{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,h,m;if(u==d){let y=n.mapPos(u,c.startSide,c.mapMode);if(y==null||(h=m=y,c.startSide!=c.endSide&&(m=n.mapPos(u,c.endSide),m<h)))continue}else if(h=n.mapPos(u,c.startSide),m=n.mapPos(d,c.endSide),h>m||h==m&&c.startSide>0&&c.endSide<=0)continue;(m-h||c.endSide-c.startSide)<0||(o<0&&(o=h),c.point&&(a=Math.max(a,m-h)),r.push(c),i.push(h-o),s.push(m-o))}return{mapped:r.length?new qA(i,s,r,a):null,pos:o}}}class Ft{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Ft(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(vE)),this.isEmpty)return n.length?Ft.of(n):this;let a=new v8(this,null,-1).goto(0),l=0,c=[],u=new oa;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(ap.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Ft.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new Ft(r,n,s||Ft.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return lp.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return lp.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=ij(o,a,r),c=new Gf(o,l,s),u=new Gf(a,l,s);r.iterGaps((d,h,m)=>sj(c,d,u,h,m,i)),r.empty&&r.length==0&&sj(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=ij(s,o),l=new Gf(s,a,0).goto(r),c=new Gf(o,a,0).goto(r);for(;;){if(l.to!=c.to||!wE(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,s=-1){let o=new Gf(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),d=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,d,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new oa;for(let i of e instanceof ap?[e]:n?C0e(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Ft.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Ft.empty;i=i.nextLayer)n=new Ft(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Ft.empty=new Ft([],[],null,-1);function C0e(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(vE(e,r)>0)return t.slice().sort(vE);e=r}return t}Ft.empty.nextLayer=Ft.empty;class oa{finishChunk(e){this.chunks.push(new qA(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new oa)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Ft.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Ft.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function ij(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class v8{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class lp{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new v8(o,n,r,s));return i.length==1?i[0]:new lp(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)hk(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)hk(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),hk(this.heap,0)}}}function hk(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Gf{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=lp.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){yy(this.active,e),yy(this.activeTo,e),yy(this.activeRank,e),this.minActive=oj(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;xy(this.active,n,r),xy(this.activeTo,n,i),xy(this.activeRank,n,s),e&&xy(e,n,this.cursor.from),this.minActive=oj(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&yy(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function sj(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,d=u<0?t.to+l:n.to,h=Math.min(d,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&wE(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!wE(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),d>o)break;(c||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(d),a=d,u<=0&&t.next(),u>=0&&n.next()}}function wE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function yy(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function xy(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function oj(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Gd(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=mr(t,i));return r}function bE(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=mr(t,i)}return r===!0?-1:t.length}const kE="",aj=typeof Symbol>"u"?"__"+kE:Symbol.for(kE),SE=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),lj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ml{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],d=/^@(\w+)\b/.exec(o[0]),h=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let m in a){let y=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(v=>o.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),y,l);else if(y&&typeof y=="object"){if(!d)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),y,u,h)}else y!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+y+";")}(u.length||h)&&l.push((r&&!d&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=lj[aj]||1;return lj[aj]=e+1,kE+e.toString(36)}static mount(e,n,r){let i=e[SE],s=r&&r.nonce;i?s&&i.setNonce(s):i=new E0e(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let cj=new Map;class E0e{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=cj.get(r);if(s)return e[SE]=s;this.sheet=new i.CSSStyleSheet,cj.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[SE]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var gl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},cp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},N0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),T0e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pr=0;pr<10;pr++)gl[48+pr]=gl[96+pr]=String(pr);for(var pr=1;pr<=24;pr++)gl[pr+111]="F"+pr;for(var pr=65;pr<=90;pr++)gl[pr]=String.fromCharCode(pr+32),cp[pr]=String.fromCharCode(pr);for(var pk in gl)cp.hasOwnProperty(pk)||(cp[pk]=gl[pk]);function A0e(t){var e=N0e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||T0e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?cp:gl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function up(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function CE(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function s0(t,e){if(!e.anchorNode)return!1;try{return CE(t,e.anchorNode)}catch{return!1}}function fd(t){return t.nodeType==3?kc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Ph(t,e,n,r){return n?uj(t,e,n,r,-1)||uj(t,e,n,r,1):!1}function bc(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function X0(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function uj(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:yo(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=bc(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?yo(t):0}else return!1}}function yo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function mm(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function _0e(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function w8(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function M0e(t,e,n,r,i,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,d=!1;u&&!d;)if(u.nodeType==1){let h,m=u==l.body,y=1,v=1;if(m)h=_0e(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let k=u.getBoundingClientRect();({scaleX:y,scaleY:v}=w8(u,k)),h={left:k.left,right:k.left+u.clientWidth*y,top:k.top,bottom:k.top+u.clientHeight*v}}let w=0,b=0;if(i=="nearest")e.top<h.top?(b=-(h.top-e.top+o),n>0&&e.bottom>h.bottom+b&&(b=e.bottom-h.bottom+b+o)):e.bottom>h.bottom&&(b=e.bottom-h.bottom+o,n<0&&e.top-b<h.top&&(b=-(h.top+b-e.top+o)));else{let k=e.bottom-e.top,C=h.bottom-h.top;b=(i=="center"&&k<=C?e.top+k/2-C/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-C+o)-h.top}if(r=="nearest"?e.left<h.left?(w=-(h.left-e.left+s),n>0&&e.right>h.right+w&&(w=e.right-h.right+w+s)):e.right>h.right&&(w=e.right-h.right+s,n<0&&e.left<h.left+w&&(w=-(h.left+w-e.left+s))):w=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,w||b)if(m)c.scrollBy(w,b);else{let k=0,C=0;if(b){let N=u.scrollTop;u.scrollTop+=b/v,C=(u.scrollTop-N)*v}if(w){let N=u.scrollLeft;u.scrollLeft+=w/y,k=(u.scrollLeft-N)*y}e={left:e.left-k,top:e.top-C,right:e.right-k,bottom:e.bottom-C},k&&Math.abs(k-w)<1&&(r="nearest"),C&&Math.abs(C-b)<1&&(i="nearest")}if(m)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function P0e(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class R0e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?yo(n):0),r,Math.min(e.focusOffset,r?yo(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let wu=null;function b8(t){if(t.setActive)return t.setActive();if(wu)return t.focus(wu);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(wu==null?{get preventScroll(){return wu={preventScroll:!0},!0}}:void 0),!wu){wu=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let dj;function kc(t,e,n=e){let r=dj||(dj=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Gu(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function O0e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function k8(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function D0e(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,yo(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=yo(n))}else{if(n==t)return!0;r=bc(n),n=n.parentNode}}function S8(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function C8(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=yo(n)}else if(n.parentNode&&!X0(n))r=bc(n),n=n.parentNode;else return null}}function E8(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!X0(n))r=bc(n)+1,n=n.parentNode;else return null}}class Er{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Er(e.parentNode,bc(e),n)}static after(e,n){return new Er(e.parentNode,bc(e)+1,n)}}const YA=[];class Kt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Kt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=fj(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=fj(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=yo(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Kt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],h=c+d.length;if(c<e&&h>n)return d.domBoundsAround(e,n,c);if(h>=e&&i==-1&&(i=l,s=c),c>n&&d.dom.parentNode==this.dom){o=l,a=u;break}u=h,c=h+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=YA){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new N8(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Kt.prototype.breakAfter=0;function fj(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class N8{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function T8(t,e,n,r,i,s,o,a,l){let{children:c}=t,u=c.length?c[e]:null,d=s.length?s[s.length-1]:null,h=d?d.breakAfter:o;if(!(e==r&&u&&!o&&!h&&s.length<2&&u.merge(n,i,s.length?d:null,n==0,a,l))){if(r<c.length){let m=c[r];m&&(i<m.length||m.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(m=m.split(i),i=0),!h&&d&&m.merge(0,i,d,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,n>0&&(!o&&s.length&&u.merge(n,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function A8(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(e,-1),d=e-n;for(let h of r)d+=h.length;t.length+=d,T8(t,c,u,a,l,r,0,i,s)}let ri=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},EE=typeof document<"u"?document:{documentElement:{style:{}}};const NE=/Edge\/(\d+)/.exec(ri.userAgent),_8=/MSIE \d/.test(ri.userAgent),TE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ri.userAgent),Av=!!(_8||TE||NE),hj=!Av&&/gecko\/(\d+)/i.test(ri.userAgent),mk=!Av&&/Chrome\/(\d+)/.exec(ri.userAgent),pj="webkitFontSmoothing"in EE.documentElement.style,M8=!Av&&/Apple Computer/.test(ri.vendor),mj=M8&&(/Mobile\/\w+/.test(ri.userAgent)||ri.maxTouchPoints>2);var Ie={mac:mj||/Mac/.test(ri.platform),windows:/Win/.test(ri.platform),linux:/Linux|X11/.test(ri.platform),ie:Av,ie_version:_8?EE.documentMode||6:TE?+TE[1]:NE?+NE[1]:0,gecko:hj,gecko_version:hj?+(/Firefox\/(\d+)/.exec(ri.userAgent)||[0,0])[1]:0,chrome:!!mk,chrome_version:mk?+mk[1]:0,ios:mj,android:/Android\b/.test(ri.userAgent),webkit:pj,safari:M8,webkit_version:pj?+(/\bAppleWebKit\/(\d+)/.exec(ri.userAgent)||[0,0])[1]:0,tabSize:EE.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const j0e=256;class Es extends Kt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof Es)||this.length-(n-e)+r.length>j0e||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Es(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Er(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return I0e(this.dom,e,n)}}class aa extends Kt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(k8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof aa&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(A8(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new aa(this.mark,n,o)}domAtPos(e){return P8(this,e)}coordsAt(e,n){return O8(this,e,n)}}function I0e(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?Ie.chrome||Ie.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=kc(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Ie.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?mm(l,o<0):l||null}class il extends Kt{static create(e,n,r){return new il(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=il.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof il)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof il&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Vt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Vt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Er.before(this.dom):Er.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return mm(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class hd extends Kt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof hd&&e.side==this.side}split(){return new hd(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Er.before(this.dom):Er.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Vt.empty}get isHidden(){return!0}}Es.prototype.children=il.prototype.children=hd.prototype.children=YA;function P8(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Er(n,0)}function R8(t,e,n){let r,{children:i}=t;n>0&&e instanceof aa&&i.length&&(r=i[i.length-1])instanceof aa&&r.mark.eq(e.mark)?R8(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function O8(t,e,n){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let d=0,h=0;d<c.children.length&&h<=u;d++){let m=c.children[d],y=h+m.length;y>=u&&(m.children.length?a(m,u-h):(!s||s.isHidden&&n>0)&&(y>u||h==y&&m.getSide()>0)?(s=m,o=u-h):(h<u||h==y&&m.getSide()<0&&!m.isHidden)&&(r=m,i=u-h)),h=y}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):L0e(t)}function L0e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=fd(e);return n[n.length-1]||null}function AE(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const gj=Object.create(null);function Z0(t,e,n){if(t==e)return!0;t||(t=gj),e||(e=gj);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function _E(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function F0e(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class ma{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Wr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Wr||(Wr={}));class Je extends wc{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new gm(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new yl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=D8(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new yl(e,r,i,n,e.widget||null,!0)}static line(e){return new ym(e)}static set(e,n=!1){return Ft.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Je.none=Ft.empty;class gm extends Je{constructor(e){let{start:n,end:r}=D8(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof gm&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Z0(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}gm.prototype.point=!1;class ym extends Je{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ym&&this.spec.class==e.spec.class&&Z0(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}ym.prototype.mapMode=Vr.TrackBefore;ym.prototype.point=!0;class yl extends Je{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Vr.TrackBefore:Vr.TrackAfter:Vr.TrackDel}get type(){return this.startSide!=this.endSide?Wr.WidgetRange:this.startSide<=0?Wr.WidgetBefore:Wr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof yl&&B0e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}yl.prototype.point=!0;function D8(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function B0e(t,e){return t==e||!!(t&&e&&t.compare(e))}function o0(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class jn extends Kt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof jn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),A8(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new jn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Z0(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){R8(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=AE(n,this.attrs||{})),r&&(this.attrs=AE({class:r},this.attrs||{}))}domAtPos(e){return P8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(k8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(_E(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Kt.get(i)instanceof aa;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Kt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Ie.ios||!this.children.some(s=>s instanceof Es))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Es)||/[^ -~]/.test(r.text))return null;let i=fd(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=O8(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof jn&&this.children.length==0&&e.children.length==0&&Z0(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof jn)return s;if(o>n)break}i=o+s.breakAfter}return null}}class ea extends Kt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof ea)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Er.before(this.dom):Er.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new ea(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return YA}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Vt.empty}domBoundsAround(){return null}become(e){return e instanceof ea&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof ME?null:mm(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class ME extends ma{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Rh{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ea&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new jn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(vy(new hd(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ea)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(vy(new Es(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof yl){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof yl)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ea(r.widget||pd.block,a,r));else{let l=il.create(r.widget||pd.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(vy(new hd(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(vy(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new Rh(e,n,r,s);return o.openEnd=Ft.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function vy(t,e){for(let n of e)t=new aa(n,[t],t.length);return t}class pd extends ma{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}pd.inline=new pd("span");pd.block=new pd("div");var un=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(un||(un={}));const Sc=un.LTR,GA=un.RTL;function j8(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const z0e=j8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),$0e=j8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),PE=Object.create(null),$s=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);PE[e]=n,PE[n]=-e}function I8(t){return t<=247?z0e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?$0e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const V0e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class sl{get dir(){return this.level%2?GA:Sc}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function L8(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!L8(r.inner,i.inner))return!1}return!0}const Yt=[];function W0e(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let c=o,u=l,d=l;c<a;c++){let h=I8(t.charCodeAt(c));h==512?h=u:h==8&&d==4&&(h=16),Yt[c]=h==4?2:h,h&7&&(d=h),u=h}for(let c=o,u=l,d=l;c<a;c++){let h=Yt[c];if(h==128)c<a-1&&u==Yt[c+1]&&u&24?h=Yt[c]=u:Yt[c]=256;else if(h==64){let m=c+1;for(;m<a&&Yt[m]==64;)m++;let y=c&&u==8||m<n&&Yt[m]==8?d==1?1:8:256;for(let v=c;v<m;v++)Yt[v]=y;c=m-1}else h==8&&d==1&&(Yt[c]=1);u=h,h&7&&(d=h)}}}function H0e(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:n;for(let d=c,h,m,y;d<u;d++)if(m=PE[h=t.charCodeAt(d)])if(m<0){for(let v=a-3;v>=0;v-=3)if($s[v+1]==-m){let w=$s[v+2],b=w&2?i:w&4?w&1?s:i:0;b&&(Yt[d]=Yt[$s[v]]=b),a=v;break}}else{if($s.length==189)break;$s[a++]=d,$s[a++]=h,$s[a++]=l}else if((y=Yt[d])==2||y==1){let v=y==i;l=v?0:1;for(let w=a-3;w>=0;w-=3){let b=$s[w+2];if(b&2)break;if(v)$s[w+2]|=2;else{if(b&4)break;$s[w+2]|=4}}}}}function U0e(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let c=Yt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:e}else if(Yt[u]==256)u++;else break;let d=s==1,h=(u<e?Yt[u]:r)==1,m=d==h?d?1:2:r;for(let y=u,v=i,w=v?n[v-1].to:t;y>l;)y==w&&(y=n[--v].from,w=v?n[v-1].to:t),Yt[--y]=m;l=u}else s=c,l++}}}function RE(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,d=!1;if(c==s.length||l<s[c].from){let v=Yt[l];v!=a&&(u=!1,d=v==16)}let h=!u&&a==1?[]:null,m=u?r:r+1,y=l;e:for(;;)if(c<s.length&&y==s[c].from){if(d)break e;let v=s[c];if(!u)for(let w=v.to,b=c+1;;){if(w==n)break e;if(b<s.length&&s[b].from==w)w=s[b++].to;else{if(Yt[w]==a)break e;break}}if(c++,h)h.push(v);else{v.from>l&&o.push(new sl(l,v.from,m));let w=v.direction==Sc!=!(m%2);OE(t,w?r+1:r,i,v.inner,v.from,v.to,o),l=v.to}y=v.to}else{if(y==n||(u?Yt[y]!=a:Yt[y]==a))break;y++}h?RE(t,l,y,r+1,i,h,o):l<y&&o.push(new sl(l,y,m)),l=y}else for(let l=n,c=s.length;l>e;){let u=!0,d=!1;if(!c||l>s[c-1].to){let v=Yt[l-1];v!=a&&(u=!1,d=v==16)}let h=!u&&a==1?[]:null,m=u?r:r+1,y=l;e:for(;;)if(c&&y==s[c-1].to){if(d)break e;let v=s[--c];if(!u)for(let w=v.from,b=c;;){if(w==e)break e;if(b&&s[b-1].to==w)w=s[--b].from;else{if(Yt[w-1]==a)break e;break}}if(h)h.push(v);else{v.to<l&&o.push(new sl(v.to,l,m));let w=v.direction==Sc!=!(m%2);OE(t,w?r+1:r,i,v.inner,v.from,v.to,o),l=v.from}y=v.from}else{if(y==e||(u?Yt[y-1]!=a:Yt[y-1]==a))break;y--}h?RE(t,y,l,r+1,i,h,o):y<l&&o.push(new sl(y,l,m)),l=y}}function OE(t,e,n,r,i,s,o){let a=e%2?2:1;W0e(t,i,s,r,a),H0e(t,i,s,r,a),U0e(i,s,r,a),RE(t,i,s,e,n,r,o)}function q0e(t,e,n){if(!t)return[new sl(0,0,e==GA?1:0)];if(e==Sc&&!n.length&&!V0e.test(t))return F8(t.length);if(n.length)for(;t.length>Yt.length;)Yt[Yt.length]=256;let r=[],i=e==Sc?0:1;return OE(t,i,i,n,0,t.length,r),r}function F8(t){return[new sl(0,t,0)]}let B8="";function Y0e(t,e,n,r,i){var s;let o=r.head-t.from,a=sl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,n);if(o==c){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!i,n),c=l.side(i,n)}let u=mr(t.text,o,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),B8=t.text.slice(Math.min(o,u),Math.max(o,u));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?ge.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):ge.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function G0e(t,e,n){for(let r=e;r<n;r++){let i=I8(t.charCodeAt(r));if(i==1)return Sc;if(i==2||i==4)return GA}return Sc}const z8=Be.define(),$8=Be.define(),V8=Be.define(),W8=Be.define(),DE=Be.define(),H8=Be.define(),U8=Be.define(),KA=Be.define(),XA=Be.define(),q8=Be.define({combine:t=>t.some(e=>e)}),Y8=Be.define({combine:t=>t.some(e=>e)}),G8=Be.define();class Ku{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Ku(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ku(ge.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const wy=xt.define({map:(t,e)=>t.map(e)}),K8=xt.define();function si(t,e,n){let r=t.facet(W8);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const qo=Be.define({combine:t=>t.length?t[0]:!0});let K0e=0;const lh=Be.define();class Mn{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new Mn(K0e++,e,r,i,a=>{let l=[lh.of(a)];return o&&l.push(dp.of(c=>{let u=c.plugin(a);return u?o(u):Je.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Mn.define(r=>new e(r),n)}}class gk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(si(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){si(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){si(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const X8=Be.define(),ZA=Be.define(),dp=Be.define(),Z8=Be.define(),QA=Be.define(),Q8=Be.define();function yj(t,e){let n=t.state.facet(Q8);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return Ft.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,d=i;for(let h=a.length-1;h>=0;h--,l--){let m=a[h].spec.bidiIsolate,y;if(m==null&&(m=G0e(e.text,c,u)),l>0&&d.length&&(y=d[d.length-1]).to==c&&y.direction==m)y.to=u,d=y.inner;else{let v={from:c,to:u,direction:m,inner:[]};d.push(v),d=v.inner}}}}),i}const J8=Be.define();function JA(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(J8)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const ch=Be.define();class Ji{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Ji(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<n.length&&n[s]<u;){let d=n[s],h=n[s+1],m=Math.max(a,d),y=Math.min(u,h);if(m<=y&&new Ji(m+c,y+c,m,y).addToSet(r),h>u)break;s+=2}if(!l)return r;new Ji(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Q0{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Zn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Ji(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Q0(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class xj extends Kt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Je.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new jn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ji(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!nxe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Z0e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Ji(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ie.ie||Ie.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=exe(o,a,e.changes);return r=Ji.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Ie.chrome||Ie.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof ea&&o.widget instanceof ME&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,h,m,y,v;if(r&&r.range.fromB<d&&r.range.toB>u){let N=Rh.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),_=Rh.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);m=N.breakAtStart,y=N.openStart,v=_.openEnd;let A=this.compositionView(r);_.breakAtStart?A.breakAfter=1:_.content.length&&A.merge(A.length,A.length,_.content[0],!1,_.openStart,0)&&(A.breakAfter=_.content[0].breakAfter,_.content.shift()),N.content.length&&A.merge(0,0,N.content[N.content.length-1],!0,0,N.openEnd)&&N.content.pop(),h=N.content.concat(A).concat(_.content)}else({content:h,breakAtStart:m,openStart:y,openEnd:v}=Rh.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:w,off:b}=s.findPos(c,1),{i:k,off:C}=s.findPos(l,-1);T8(this,k,C,w,b,h,m,y,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(K8)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new Es(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new aa(i,[n],n.length);let r=new jn;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Kt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(qo)||this.dom.tabIndex>-1)&&s0(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Ie.gecko&&a.empty&&!this.hasComposition&&X0e(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new Er(d,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!Ph(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Ph(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Ie.android&&Ie.chrome&&this.dom.contains(u.focusNode)&&txe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=up(this.view.root);if(d)if(a.empty){if(Ie.gecko){let h=Q0e(l.node,l.offset);if(h&&h!=3){let m=(h==1?C8:E8)(l.node,l.offset);m&&(l=new Er(m.node,m.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Er(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Er(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Ph(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=up(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=jn.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=Kt.get(n.childNodes[i]);s instanceof jn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Kt.get(n.childNodes[i]);s instanceof jn&&(r=s.domAtPos(s.length))}return r?new Er(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Kt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof jn)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof jn&&!(r instanceof jn&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof ea&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof jn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Es))return null;let s=mr(i.text,r);if(s==r)return null;let o=kc(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==un.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],h=c+d.length;if(h>i)break;if(c>=r){let m=d.dom.getBoundingClientRect();if(n.push(m.height),o){let y=d.dom.lastChild,v=y?fd(y):[];if(v.length){let w=v[v.length-1],b=l?w.right-m.left:m.right-w.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?un.RTL:un.LTR}measureTextSize(){for(let s of this.children)if(s instanceof jn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=fd(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new N8(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Je.replace({widget:new ME(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Je.set(e)}updateDeco(){let e=1,n=this.view.state.facet(dp).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(Z8).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Ft.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(G8))try{if(c(this.view,e.range,e))return!0}catch(u){si(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=JA(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;M0e(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==un.LTR)}}function X0e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function e9(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=C8(n.focusNode,n.focusOffset),i=E8(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Kt.get(i.node);if(!a||a instanceof Es&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=Kt.get(r.node);!l||l instanceof Es&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Z0e(t,e,n){let r=e9(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new Ji(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let d=i.parentNode;;d=d.parentNode){let h=Kt.get(d);if(h instanceof aa)u.push({node:d,deco:h.mark});else{if(h instanceof jn||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:d};if(d!=t.contentDOM)u.push({node:d,deco:new gm({inclusive:!0,attributes:F0e(d),tagName:d.tagName.toLowerCase()})});else return null}}}function Q0e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let J0e=class{constructor(){this.changes=[]}compareRange(e,n){o0(e,n,this.changes)}comparePoint(e,n){o0(e,n,this.changes)}boundChange(e){o0(e,e,this.changes)}};function exe(t,e,n){let r=new J0e;return Ft.compare(t,e,n,r),r.changes}function txe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function nxe(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function rxe(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return ge.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=mr(i.text,s,!1):a=mr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=mr(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=mr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return ge.range(o+i.from,a+i.from)}function ixe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function sxe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function yk(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function vj(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function wj(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function jE(t,e,n){let r,i,s,o,a=!1,l,c,u,d;for(let y=t.firstChild;y;y=y.nextSibling){let v=fd(y);for(let w=0;w<v.length;w++){let b=v[w];i&&yk(i,b)&&(b=vj(wj(b,i.bottom),i.top));let k=ixe(e,b),C=sxe(n,b);if(k==0&&C==0)return y.nodeType==3?bj(y,e,n):jE(y,e,n);if(!r||o>C||o==C&&s>k){r=y,i=b,s=k,o=C;let N=C?n<b.top?-1:1:k?e<b.left?-1:1:0;a=!N||(N>0?w<v.length-1:w>0)}k==0?n>b.bottom&&(!u||u.bottom<b.bottom)?(l=y,u=b):n<b.top&&(!d||d.top>b.top)&&(c=y,d=b):u&&yk(u,b)?u=wj(u,b.bottom):d&&yk(d,b)&&(d=vj(d,b.top))}}if(u&&u.bottom>=n?(r=l,i=u):d&&d.top<=n&&(r=c,i=d),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return bj(r,h,n);if(a&&r.contentEditable!="false")return jE(r,h,n);let m=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:m}}function bj(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=kc(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let d=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<s){let h=e>=(u.left+u.right)/2,m=h;if((Ie.chrome||Ie.gecko)&&kc(t,a).getBoundingClientRect().left==u.right&&(m=!h),d<=0)return{node:t,offset:a+(m?1:0)};i=a+(m?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function t9(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:d}=e,h=d-a;if(h<0)return 0;if(h>c)return t.state.doc.length;for(let N=t.viewState.heightOracle.textHeight/2,_=!1;l=t.elementAtHeight(h),l.type!=Wr.Text;)for(;h=r>0?l.bottom+N:l.top-N,!(h>=0&&h<=c);){if(_)return n?null:0;_=!0,r=-r}d=a+h;let m=l.from;if(m<t.viewport.from)return t.viewport.from==0?0:n?null:kj(t,o,l,u,d);if(m>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:kj(t,o,l,u,d);let y=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:y,w=v.elementFromPoint(u,d);w&&!t.contentDOM.contains(w)&&(w=null),w||(u=Math.max(o.left+1,Math.min(o.right-1,u)),w=v.elementFromPoint(u,d),w&&!t.contentDOM.contains(w)&&(w=null));let b,k=-1;if(w&&((i=t.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(y.caretPositionFromPoint){let N=y.caretPositionFromPoint(u,d);N&&({offsetNode:b,offset:k}=N)}else if(y.caretRangeFromPoint){let N=y.caretRangeFromPoint(u,d);N&&({startContainer:b,startOffset:k}=N,(!t.contentDOM.contains(b)||Ie.safari&&oxe(b,k,u)||Ie.chrome&&axe(b,k,u))&&(b=void 0))}b&&(k=Math.min(yo(b),k))}if(!b||!t.docView.dom.contains(b)){let N=jn.find(t.docView,m);if(!N)return h>l.top+l.height/2?l.to:l.from;({node:b,offset:k}=jE(N.dom,u,d))}let C=t.docView.nearest(b);if(!C)return null;if(C.isWidget&&((s=C.dom)===null||s===void 0?void 0:s.nodeType)==1){let N=C.dom.getBoundingClientRect();return e.y<N.top||e.y<=N.bottom&&e.x<=(N.left+N.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(b,k)+C.posAtStart}function kj(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+bE(o,s,t.state.tabSize)}function oxe(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return kc(t,r-1,r).getBoundingClientRect().left>n}function axe(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():kc(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function IE(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Wr.Text))return r}return n}function lxe(t,e,n,r){let i=IE(t,e.head),s=!r||i.type!=Wr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==un.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return ge.cursor(l,n?-1:1)}return ge.cursor(n?i.to:i.from,n?-1:1)}function Sj(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=Y0e(i,s,o,a,n),u=B8;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function cxe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==mn.Space&&(i=o),i==o}}function uxe(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return ge.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+u}let d=l.left+o,h=r??t.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let y=a+(h+m)*s,v=t9(t,{x:d,y},!1,s);if(y<l.top||y>l.bottom||(s<0?v<i:v>i)){let w=t.docView.coordsForChar(v),b=!w||y<w.top?-1:1;return ge.cursor(v,b,void 0,o)}}}function a0(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function xk(t,e,n){let r=a0(t.state.facet(QA).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:ge.cursor(r,r<n.from?1:-1)}const uh="";class dxe{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(At.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=uh}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=Kt.get(i),l=Kt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:X0(i))||X0(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=Kt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(fxe(e,r.node,r.offset)?n:0))}}function fxe(t,e,n){for(;;){if(!e||n<yo(e))return!1;if(e==t)return!0;n=bc(e)+1,e=e.parentNode}}class Cj{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class hxe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:gxe(e),l=new dxe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=yxe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!CE(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!CE(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Ie.ios||Ie.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),h=Math.max(l,c),m=u.from-d,y=u.to-h;(m==0||m==1||d==0)&&(y==0||y==-1||h==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=ge.single(c,l)}}}function n9(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||Ie.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=mxe(t.state.doc.sliceString(o,a,uh),e.text,l-o,c);u&&(Ie.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==uh+uh&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:Vt.of(e.text.slice(u.from,u.toB).split(uh))})}else r&&(!t.hasFocus&&t.state.facet(qo)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Ie.mac||Ie.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=ge.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Vt.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:Ie.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=ge.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Vt.of([" "])}),n)return e2(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function e2(t,e,n,r=-1){if(Ie.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Ie.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Gu(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Gu(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Gu(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=pxe(t,e,n));return t.state.facet(H8).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function pxe(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,d=n&&e9(t,n.main.head);if(d){let y=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-y}}else u=t.state.doc.lineAt(s.head);let h=s.to-e.to,m=s.to-s.from;r=i.changeByRange(y=>{if(y.from==s.from&&y.to==s.to)return{changes:a,range:l||y.map(a)};let v=y.to-h,w=v-c.length;if(y.to-y.from!=m||t.state.sliceDoc(w,v)!=c||y.to>=u.from&&y.from<=u.to)return{range:y};let b=i.changes({from:w,to:v,insert:e.insert}),k=y.to-s.to;return{changes:b,range:l?ge.range(Math.max(0,l.anchor+k),Math.max(0,l.head+k)):y.map(b)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function mxe(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function gxe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new Cj(n,r)),(i!=n||s!=r)&&e.push(new Cj(i,s))),e}function yxe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?ge.single(n+e,r+e):null}class xxe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ie.safari&&e.contentDOM.addEventListener("input",()=>null),Ie.gecko&&Dxe(e.contentDOM.ownerDocument)}handleEvent(e){!Nxe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=vxe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&i9.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ie.android&&Ie.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ie.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=r9.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||wxe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Gu(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ie.safari&&!Ie.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ej(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){si(n.state,i)}}}function vxe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&n(s).handlers.push(Ej(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&n(s).observers.push(Ej(r.value,o))}}for(let r in Ns)n(r).handlers.push(Ns[r]);for(let r in es)n(r).observers.push(es[r]);return e}const r9=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],wxe="dthko",i9=[16,17,18,20,91,92,224,225],by=6;function ky(t){return Math.max(0,t)*.7+8}function bxe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class kxe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=P0e(e.contentDOM),this.atoms=e.state.facet(QA).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(At.allowMultipleSelections)&&Sxe(e,n),this.dragging=Exe(e,n)&&a9(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&bxe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=JA(this.view);e.clientX-l.left<=i+by?n=-ky(i-e.clientX):e.clientX+l.right>=o-by&&(n=ky(e.clientX-o)),e.clientY-l.top<=s+by?r=-ky(s-e.clientY):e.clientY+l.bottom>=a-by&&(r=ky(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=a0(this.atoms,i.from,0);o!=i.from&&(s=ge.cursor(o,-1))}else{let o=a0(this.atoms,i.from,-1),a=a0(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=ge.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?ge.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Sxe(t,e){let n=t.state.facet(z8);return n.length?n[0](e):Ie.mac?e.metaKey:e.ctrlKey}function Cxe(t,e){let n=t.state.facet($8);return n.length?n[0](e):Ie.mac?!e.altKey:!e.ctrlKey}function Exe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=up(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Nxe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Kt.get(n))&&r.ignoreEvent(e))return!1;return!0}const Ns=Object.create(null),es=Object.create(null),s9=Ie.ie&&Ie.ie_version<15||Ie.ios&&Ie.webkit_version<604;function Txe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),o9(t,n.value)},50)}function _v(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function o9(t,e){e=_v(t.state,KA,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(LE!=null&&n.selection.ranges.every(l=>l.empty)&&LE==s.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:d},range:ge.cursor(c.from+d.length)}})}else o?r=n.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:ge.cursor(l.from+c.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}es.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Ns.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);es.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};es.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Ns.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(V8))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Mxe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new kxe(t,e,n,r)),r&&t.observer.ignore(()=>{b8(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Nj(t,e,n,r){if(r==1)return ge.cursor(e,n);if(r==2)return rxe(t.state,e,n);{let i=jn.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,ge.range(o,a)}}let Tj=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function Axe(t,e,n,r){let i=jn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Tj(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&Tj(n,r,a)?1:o&&o.bottom>=r?-1:1}function Aj(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Axe(t,n,e.clientX,e.clientY)}}const _xe=Ie.ie&&Ie.ie_version<=11;let _j=null,Mj=0,Pj=0;function a9(t){if(!_xe)return t.detail;let e=_j,n=Pj;return _j=t,Pj=Date.now(),Mj=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Mj+1)%3:1}function Mxe(t,e){let n=Aj(t,e),r=a9(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=Aj(t,s),c,u=Nj(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let d=Nj(t,n.pos,n.bias,r),h=Math.min(d.from,u.from),m=Math.max(d.to,u.to);u=h<u.from?ge.range(h,m):ge.range(m,h)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=Pxe(i,l.pos))?c:a?i.addRange(u):ge.create([u])}}}function Pxe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return ge.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Ns.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=ge.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",_v(t.state,XA,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ns.dragend=t=>(t.inputState.draggedContent=null,!1);function Rj(t,e,n,r){if(n=_v(t.state,KA,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&Cxe(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Ns.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&Rj(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Rj(t,e,r,!0),!0}return!1};Ns.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=s9?null:e.clipboardData;return n?(o9(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Txe(t),!1)};function Rxe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Oxe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:_v(t,XA,e.join(t.lineBreak)),ranges:n,linewise:r}}let LE=null;Ns.copy=Ns.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Oxe(t.state);if(!n&&!i)return!1;LE=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=s9?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(Rxe(t,n),!1)};const l9=No.define();function c9(t,e){let n=[];for(let r of t.facet(U8)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:l9.of(!0)}):null}function u9(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=c9(t.state,e);n?t.dispatch(n):t.update([])}},10)}es.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),u9(t)};es.blur=t=>{t.observer.clearSelectionRange(),u9(t)};es.compositionstart=es.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};es.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ie.chrome&&Ie.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};es.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Ns.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return e2(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let i;if(Ie.chrome&&Ie.android&&(i=r9.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ie.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ie.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>es.compositionend(t,e),20),!1};const Oj=new Set;function Dxe(t){Oj.has(t)||(Oj.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const Dj=["pre-wrap","normal","pre-line","break-spaces"];let md=!1;function jj(){md=!1}class jxe{constructor(e){this.lineWrapping=e,this.doc=Vt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Dj.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=Dj.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Ixe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ks{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Wr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof yl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ks(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var an=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(an||(an={}));const l0=.001;class Hr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>l0&&(md=!0),this.height=e)}replace(e,n,r){return Hr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=i[a],h=s.lineAt(l,an.ByPosNoHeight,r.setDoc(n),0,0),m=h.to>=c?h:s.lineAt(c,an.ByPosNoHeight,r,0,0);for(d+=m.to-c,c=m.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,an.ByPosNoHeight,r,0,0));u+=h.from-l,l=h.from;let y=t2.build(r.setDoc(o),e,u,d);s=J0(s,s.replace(l,c,y))}return s.updateHeight(r,0)}static empty(){return new bi(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new Lxe(Hr.of(e.slice(0,n)),o,Hr.of(e.slice(r)))}}function J0(t,e){return t==e?t:(t.constructor!=e.constructor&&(md=!0),e)}Hr.prototype.size=1;class d9 extends Hr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Ks(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class bi extends d9{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Ks(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof bi||i instanceof hr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof hr?i=new bi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Hr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class hr extends Hr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),d=a+u.length*l,h=Math.max(r,e-d/2);return new Ks(u.from,u.length,h,d,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:d}=n.doc.line(s+c);return new Ks(u,d,r+a*c,a,0)}}lineAt(e,n,r,i,s){if(n==an.ByHeight)return this.blockAt(e,r,i,s);if(n==an.ByPosNoHeight){let{from:m,to:y}=r.doc.lineAt(e);return new Ks(m,y-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-o,h=i+a*d+l*(c.from-s-d);return new Ks(c.from,c.length,Math.max(i,Math.min(h,i+this.height-u)),u,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,d=i;u<=n;){let h=r.doc.lineAt(u);if(u==e){let y=h.number-a;d+=l*y+c*(e-s-y)}let m=l+c*h.length;o(new Ks(h.from,h.length,d,m,0)),d+=m,u=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof hr?r[r.length-1]=new hr(s.length+i):r.push(null,new hr(i-1))}if(e>0){let s=r[0];s instanceof hr?r[0]=new hr(e+s.length):r.unshift(new hr(e-1),null)}return Hr.of(r)}decomposeLeft(e,n){n.push(new hr(e-1),null)}decomposeRight(e,n){n.push(null,new hr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new hr(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=l0&&(l=-2);let h=new bi(u,d);h.outdated=!1,o.push(h),a+=u+1}a<=s&&o.push(null,new hr(s-a).updateHeight(e,a));let c=Hr.of(o);return(l<0||Math.abs(c.height-this.height)>=l0||Math.abs(l-this.heightMetrics(e,n).perLine)>=l0)&&(md=!0),J0(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Lxe extends Hr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==an.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==an.ByPosNoHeight?an.ByPosNoHeight:an.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let c=this.lineAt(l,an.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&Ij(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),Ij(s,a)}return Hr.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Hr.of(this.break?[e,null,n]:[e,n]):(this.left=J0(this.left,e),this.right=J0(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ij(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof hr&&(r=t[e+1])instanceof hr&&t.splice(e-1,3,new hr(n.length+1+r.length))}const Fxe=5;class t2{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof bi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new bi(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new d9(o,i,r)):(o||s||i>=Fxe)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new bi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new hr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof bi)return e;let n=new bi(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof bi)&&!this.isCovered?this.nodes.push(new bi(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof bi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new t2(r,e);return Ft.spans(n,r,i,s,0),s.finish(r)}}function Bxe(t,e,n){let r=new zxe;return Ft.compare(t,e,n,r,0),r.changes}class zxe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&o0(e,n,this.changes,5)}}function $xe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let h=u.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=Math.min(c==t.parentNode?i.innerHeight:l,h.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Vxe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Wxe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class vk{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Je.replace({widget:new Hxe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Hxe extends ma{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Lj{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Fj,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=un.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(ZA).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new jxe(n),this.stateDeco=e.facet(dp).filter(r=>typeof r!="function"),this.heightMap=Hr.empty().applyChanges(this.stateDeco,Vt.empty,this.heightOracle.setDoc(e.doc),[new Ji(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Je.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Sy(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Fj:new n2(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(dh(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(dp).filter(u=>typeof u!="function");let i=e.changedRanges,s=Ji.extendWithRanges(i,Bxe(r,this.stateDeco,e?e.changes:Zn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);jj(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||md)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Y8)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?un.RTL:un.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:N,scaleY:_}=w8(n,a);(N>.005&&Math.abs(this.scaleX-N)>.005||_>.005&&Math.abs(this.scaleY-_)>.005)&&(this.scaleX=N,this.scaleY=_,c|=16,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=S8(e.scrollDOM);let y=(this.printing?Wxe:$xe)(n,this.paddingTop),v=y.top-this.pixelViewport.top,w=y.bottom-this.pixelViewport.bottom;this.pixelViewport=y;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget&&!Vxe(e.dom))return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let N=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(N)&&(o=!0),o||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:_,charWidth:A,textHeight:M}=e.docView.measureTextSize();o=_>0&&i.refresh(s,_,A,M,k/A,N),o&&(e.docView.minWidth=0,c|=16)}v>0&&w>0?u=Math.max(v,w):v<0&&w<0&&(u=Math.min(v,w)),jj();for(let _ of this.viewports){let A=_.from==this.viewport.from?N:e.docView.measureVisibleLineHeights(_);this.heightMap=(o?Hr.empty().applyChanges(this.stateDeco,Vt.empty,this.heightOracle,[new Ji(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Ixe(_.from,A))}md&&(c|=2)}let C=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Sy(i.lineAt(o-r*1e3,an.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,an.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,an.ByPos,s,0,0),h;n.y=="center"?h=(d.top+d.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?h=d.top:h=d.bottom-u,l=new Sy(i.lineAt(h-1e3/2,an.ByHeight,s,0,0).from,i.lineAt(h+u+1e3/2,an.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Sy(this.heightMap.lineAt(r,an.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,an.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,an.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,an.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new vk(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=un.LTR&&!r)return[];let a=[],l=(u,d,h,m)=>{if(d-u<s)return;let y=this.state.selection.main,v=[y.from];y.empty||v.push(y.to);for(let b of v)if(b>u&&b<d){l(u,b-10,h,m),l(b+10,d,h,m);return}let w=qxe(e,b=>b.from>=h.from&&b.to<=h.to&&Math.abs(b.from-u)<s&&Math.abs(b.to-d)<s&&!v.some(k=>b.from<k&&b.to>k));if(!w){if(d<h.to&&n&&r&&n.visibleRanges.some(C=>C.from<=d&&C.to>=d)){let C=n.moveToLineBoundary(ge.cursor(d),!1,!0).head;C>u&&(d=C)}let b=this.gapSize(h,u,d,m),k=r||b<2e6?b:2e6;w=new vk(u,d,b,k)}a.push(w)},c=u=>{if(u.length<o||u.type!=Wr.Text)return;let d=Uxe(u.from,u.to,this.stateDeco);if(d.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,m,y;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,b;if(h!=null){let k=Ey(d,h),C=((this.visibleBottom-this.visibleTop)/2+v)/u.height;w=k-C,b=k+C}else w=(this.visibleTop-u.top-v)/u.height,b=(this.visibleBottom-u.top+v)/u.height;m=Cy(d,w),y=Cy(d,b)}else{let v=d.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,b=0;if(v>2e6)for(let A of e)A.from>=u.from&&A.from<u.to&&A.size!=A.displaySize&&A.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=A.size-A.displaySize);let k=this.pixelViewport.left+b,C=this.pixelViewport.right+b,N,_;if(h!=null){let A=Ey(d,h),M=((C-k)/2+w)/v;N=A-M,_=A+M}else N=(k-w)/v,_=(C+w)/v;m=Cy(d,N),y=Cy(d,_)}m>u.from&&l(u.from,m,u,d),y<u.to&&l(y,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,i){let s=Ey(i,r)-Ey(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){vk.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Je.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Ft.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||dh(this.heightMap.lineAt(e,an.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||dh(this.heightMap.lineAt(this.scaler.fromDOM(e),an.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return dh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Sy=class{constructor(e,n){this.from=e,this.to=n}};function Uxe(t,e,n){let r=[],i=t,s=0;return Ft.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Cy({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Ey(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function qxe(t,e){for(let n of t)if(e(n))return n}const Fj={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class n2{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,an.ByPos,e,0,0).top,u=n.lineAt(l,an.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof n2?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function dh(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ks(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>dh(i,e)):t._content)}const Ny=Be.define({combine:t=>t.join(" ")}),FE=Be.define({combine:t=>t.indexOf(!0)>-1}),BE=ml.newName(),f9=ml.newName(),h9=ml.newName(),p9={"&light":"."+f9,"&dark":"."+h9};function zE(t,e,n){return new ml(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Yxe=zE("."+BE,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},p9),Gxe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},wk=Ie.ie&&Ie.ie_version<=11;class Kxe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new R0e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Ie.ie&&Ie.ie_version<=11||Ie.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Ie.chrome&&Ie.chrome_version<126)&&(this.editContext=new Zxe(e),e.state.facet(qo)&&(e.contentDOM.editContext=this.editContext.editContext)),wk&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(qo)?r.root.activeElement!=this.dom:!s0(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ie.ie&&Ie.ie_version<=11||Ie.android&&Ie.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ph(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=up(e.root);if(!n)return!1;let r=Ie.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Xxe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=s0(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&D0e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Gxe),wk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),wk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Gu(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&s0(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new hxe(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=n9(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=Bj(n,e.previousSibling||e.target.previousSibling,-1),i=Bj(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(qo)!=e.state.facet(qo)&&(e.view.contentDOM.editContext=e.state.facet(qo)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Bj(t,e,n){for(;e;){let r=Kt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function zj(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Ph(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Xxe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return zj(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?zj(t,n):null}class Zxe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:Vt.of(r.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=ge.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((Ie.mac||Ie.android)&&c.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:Vt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);e2(e,c,ge.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(Je.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:K8.of(Je.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=up(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class je{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||O0e(e.parent)||document,this.viewState=new Lj(e.state||At.create(e)),e.scrollTo&&e.scrollTo.is(wy)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(lh).map(i=>new gk(i));for(let i of this.plugins)i.update(this);this.observer=new Kxe(this),this.inputState=new xxe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new xj(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Jn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(l9))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=c9(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(At.phrases)!=this.state.facet(At.phrases))return this.setState(s);i=Q0.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:m}=h.state.selection;d=new Ku(m.empty?m:ge.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of h.effects)m.is(wy)&&(d=m.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=ex.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(ch)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ny)!=i.state.facet(Ny)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(DE))try{h(i)}catch(m){si(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!n9(this,u)&&c.force&&Gu(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Lj(e),this.plugins=e.facet(lh).map(r=>new gk(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new xj(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(lh),r=e.state.facet(lh);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new gk(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){si(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(S8(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(y){return si(this.state,y),$j}}),d=Q0.create(this,this.state,[]),h=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),h=this.docView.update(d),h&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=$j)try{let y=c[m];y.write&&y.write(u[m],this)}catch(y){si(this.state,y)}if(h&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let y=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(y>1||y<-1){i=i+y,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(DE))a(n)}get themeClasses(){return BE+" "+(this.state.facet(FE)?h9:f9)+" "+this.state.facet(Ny)}updateAttrs(){let e=Vj(this,X8,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(qo)?"true":"false",class:"cm-content",style:`${Ie.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Vj(this,ZA,n);let r=this.observer.ignore(()=>{let i=_E(this.contentDOM,this.contentAttrs,n),s=_E(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(je.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(ch);let e=this.state.facet(je.cspNonce);ml.mount(this.root,this.styleModules.concat(Yxe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return xk(this,e,Sj(this,e,n,r))}moveByGroup(e,n){return xk(this,e,Sj(this,e,n,r=>cxe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return ge.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return lxe(this,e,n,r)}moveVertically(e,n,r){return xk(this,e,uxe(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),t9(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[sl.find(s,e-i.from,-1,n)];return mm(r,o.dir==un.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(q8)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Qxe)return F8(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||L8(s.isolates,r=yj(this,e))))return s.order;r||(r=yj(this,e));let i=q0e(e.text,n,r);return this.bidiCache.push(new ex(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ie.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{b8(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return wy.of(new Ku(typeof e=="number"?ge.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return wy.of(new Ku(ge.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Mn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Mn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=ml.newName(),i=[Ny.of(r),ch.of(zE(`.${r}`,e))];return n&&n.dark&&i.push(FE.of(!0)),i}static baseTheme(e){return Fc.lowest(ch.of(zE("."+BE,e,p9)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Kt.get(r)||Kt.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}je.styleModule=ch;je.inputHandler=H8;je.clipboardInputFilter=KA;je.clipboardOutputFilter=XA;je.scrollHandler=G8;je.focusChangeEffect=U8;je.perLineTextDirection=q8;je.exceptionSink=W8;je.updateListener=DE;je.editable=qo;je.mouseSelectionStyle=V8;je.dragMovesSelection=$8;je.clickAddsSelectionRange=z8;je.decorations=dp;je.outerDecorations=Z8;je.atomicRanges=QA;je.bidiIsolatedRanges=Q8;je.scrollMargins=J8;je.darkTheme=FE;je.cspNonce=Be.define({combine:t=>t.length?t[0]:""});je.contentAttributes=ZA;je.editorAttributes=X8;je.lineWrapping=je.contentAttributes.of({class:"cm-lineWrapping"});je.announce=xt.define();const Qxe=4096,$j={};class ex{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:un.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new ex(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function Vj(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&AE(o,n)}return n}const Jxe=Ie.mac?"mac":Ie.windows?"win":Ie.linux?"linux":"key";function eve(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Ty(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const tve=Fc.default(je.domEventHandlers({keydown(t,e){return g9(m9(e.state),t,e,"editor")}})),Mv=Be.define({enables:tve}),Wj=new WeakMap;function m9(t){let e=t.facet(Mv),n=Wj.get(e);return n||Wj.set(e,n=ive(e.reduce((r,i)=>r.concat(i),[]))),n}function nve(t,e,n){return g9(m9(t.state),e,t,n)}let Qa=null;const rve=4e3;function ive(t,e=Jxe){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var d,h;let m=n[o]||(n[o]=Object.create(null)),y=a.split(/ (?!$)/).map(b=>eve(b,e));for(let b=1;b<y.length;b++){let k=y.slice(0,b).join(" ");i(k,!0),m[k]||(m[k]={preventDefault:!0,stopPropagation:!1,run:[C=>{let N=Qa={view:C,prefix:k,scope:o};return setTimeout(()=>{Qa==N&&(Qa=null)},rve),!0}]})}let v=y.join(" ");i(v,!1);let w=m[v]||(m[v]={preventDefault:!1,stopPropagation:!1,run:((h=(d=m._any)===null||d===void 0?void 0:d.run)===null||h===void 0?void 0:h.slice())||[]});l&&w.run.push(l),c&&(w.preventDefault=!0),u&&(w.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let h in u)u[h].run.push(m=>d(m,$E))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let $E=null;function g9(t,e,n,r){$E=e;let i=A0e(e),s=ni(i,0),o=Gs(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;Qa&&Qa.view==n&&Qa.scope==r&&(a=Qa.prefix+" ",i9.indexOf(e.keyCode)<0&&(c=!0,Qa=null));let d=new Set,h=w=>{if(w){for(let b of w.run)if(!d.has(b)&&(d.add(b),b(n)))return w.stopPropagation&&(u=!0),!0;w.preventDefault&&(w.stopPropagation&&(u=!0),c=!0)}return!1},m=t[r],y,v;return m&&(h(m[a+Ty(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ie.windows&&e.ctrlKey&&e.altKey)&&(y=gl[e.keyCode])&&y!=i?(h(m[a+Ty(y,e,!0)])||e.shiftKey&&(v=cp[e.keyCode])!=i&&v!=y&&h(m[a+Ty(v,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(m[a+Ty(i,e,!0)])&&(l=!0),!l&&h(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),$E=null,l}class xm{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=y9(e);return[new xm(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return sve(e,n,r)}}function y9(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==un.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Hj(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function sve(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==un.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=y9(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=a.right-(u?parseInt(u.paddingRight):0),m=IE(t,r),y=IE(t,i),v=m.type==Wr.Text?m:null,w=y.type==Wr.Text?y:null;if(v&&(t.lineWrapping||m.widgetLineBreaks)&&(v=Hj(t,r,1,v)),w&&(t.lineWrapping||y.widgetLineBreaks)&&(w=Hj(t,i,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return k(C(n.from,n.to,v));{let _=v?C(n.from,null,v):N(m,!1),A=w?C(null,n.to,w):N(y,!0),M=[];return(v||m).to<(w||y).from-(v&&w?1:0)||m.widgetLineBreaks>1&&_.bottom+t.defaultLineHeight/2<A.top?M.push(b(d,_.bottom,h,A.top)):_.bottom<A.top&&t.elementAtHeight((_.bottom+A.top)/2).type==Wr.Text&&(_.bottom=A.top=(_.bottom+A.top)/2),k(_).concat(M).concat(k(A))}function b(_,A,M,R){return new xm(e,_-l.left,A-l.top,M-_,R-A)}function k({top:_,bottom:A,horizontal:M}){let R=[];for(let D=0;D<M.length;D+=2)R.push(b(M[D],_,M[D+1],A));return R}function C(_,A,M){let R=1e9,D=-1e9,O=[];function B(I,Y,V,G,H){let $=t.coordsAtPos(I,I==M.to?-2:2),L=t.coordsAtPos(V,V==M.from?2:-2);!$||!L||(R=Math.min($.top,L.top,R),D=Math.max($.bottom,L.bottom,D),H==un.LTR?O.push(s&&Y?d:$.left,s&&G?h:L.right):O.push(!s&&G?d:L.left,!s&&Y?h:$.right))}let F=_??M.from,W=A??M.to;for(let I of t.visibleRanges)if(I.to>F&&I.from<W)for(let Y=Math.max(I.from,F),V=Math.min(I.to,W);;){let G=t.state.doc.lineAt(Y);for(let H of t.bidiSpans(G)){let $=H.from+G.from,L=H.to+G.from;if($>=V)break;L>Y&&B(Math.max($,Y),_==null&&$<=F,Math.min(L,V),A==null&&L>=W,H.dir)}if(Y=G.to+1,Y>=V)break}return O.length==0&&B(F,_==null,W,A==null,t.textDirection),{top:R,bottom:D,horizontal:O}}function N(_,A){let M=a.top+(A?_.top:_.bottom);return{top:M,bottom:M,horizontal:[]}}}function ove(t,e){return t.constructor==e.constructor&&t.eq(e)}class ave{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(c0)!=e.state.facet(c0)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(c0);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!ove(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const c0=Be.define();function x9(t){return[Mn.define(e=>new ave(e,t)),c0.of(t)]}const v9=!(Ie.ios&&Ie.webkit&&Ie.webkit_version<534),fp=Be.define({combine(t){return To(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function lve(t={}){return[fp.of(t),cve,uve,dve,Y8.of(!0)]}function w9(t){return t.startState.facet(fp)!=t.state.facet(fp)}const cve=x9({above:!0,markers(t){let{state:e}=t,n=e.facet(fp),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||v9:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:ge.cursor(i.head,i.head>i.anchor?-1:1);for(let l of xm.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=w9(t);return n&&Uj(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Uj(e.state,t)},class:"cm-cursorLayer"});function Uj(t,e){e.style.animationDuration=t.facet(fp).cursorBlinkRate+"ms"}const uve=x9({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:xm.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||w9(t)},class:"cm-selectionLayer"}),VE={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};v9&&(VE[".cm-line"].caretColor=VE[".cm-content"].caretColor="transparent !important");const dve=Fc.highest(je.theme(VE)),b9=xt.define({map(t,e){return t==null?null:e.mapPos(t)}}),fh=gr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(b9)?r.value:n,t)}}),fve=Mn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(fh);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(fh)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(fh),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(fh)!=t&&this.view.dispatch({effects:b9.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function hve(){return[fh,fve]}function qj(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function pve(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class mve{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let d=r(a,l,c);d&&u(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new oa,r=n.add.bind(n);for(let{from:i,to:s}of pve(e,this.maxLength))qj(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),d=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let h=[],m,y=(v,w,b)=>h.push(b.range(v,w));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<d-l.from;)this.addMatch(m,e,m.index+l.from,y);else qj(e.state.doc,this.regexp,u,d,(v,w)=>this.addMatch(w,e,v,y));n=n.update({filterFrom:u,filterTo:d,filter:(v,w)=>v<u||w>d,add:h})}}return n}}const WE=/x/.unicode!=null?"gu":"g",gve=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,WE),yve={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let bk=null;function xve(){var t;if(bk==null&&typeof document<"u"&&document.body){let e=document.body.style;bk=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return bk||!1}const u0=Be.define({combine(t){let e=To(t,{render:null,specialChars:gve,addSpecialChars:null});return(e.replaceTabs=!xve())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,WE)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,WE)),e}});function vve(t={}){return[u0.of(t),wve()]}let Yj=null;function wve(){return Yj||(Yj=Mn.fromClass(class{constructor(t){this.view=t,this.decorations=Je.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(u0)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new mve({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=ni(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=Gd(o.text,a,r-o.from);return Je.replace({widget:new Cve((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Je.replace({widget:new Sve(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(u0);t.startState.facet(u0)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const bve="";function kve(t){return t>=32?bve:t==10?"":String.fromCharCode(9216+t)}class Sve extends ma{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=kve(this.code),r=e.state.phrase("Control character")+" "+(yve[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Cve extends ma{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Eve(){return Tve}const Nve=Je.line({class:"cm-activeLine"}),Tve=Mn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Nve.range(i.from)),e=i.from)}return Je.set(n)}},{decorations:t=>t.decorations});class Ave extends ma{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?fd(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=mm(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function _ve(t){return Mn.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Je.set([Je.widget({widget:new Ave(t),side:1}).range(0)]):Je.none}get decorations(){return this.view.state.doc.length?Je.none:this.placeholder}},{decorations:e=>e.decorations})}const HE=2e3;function Mve(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>HE||n.off>HE||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&s.push(ge.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=bE(c.text,o,t.tabSize,!0);if(u<0)s.push(ge.cursor(c.to));else{let d=bE(c.text,a,t.tabSize);s.push(ge.range(c.from+u,c.from+d))}}}return s}function Pve(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function Gj(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>HE?-1:i==r.length?Pve(t,e.clientX):Gd(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function Rve(t,e){let n=Gj(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=Gj(t,i);if(!a)return r;let l=Mve(t.state,n,a);return l.length?o?ge.create(l.concat(r.ranges)):ge.create(l):r}}:null}function Ove(t){let e=n=>n.altKey&&n.button==0;return je.mouseSelectionStyle.of((n,r)=>e(r)?Rve(n,r):null)}const Dve={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},jve={style:"cursor: crosshair"};function Ive(t={}){let[e,n]=Dve[t.key||"Alt"],r=Mn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,je.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?jve:null})]}const Kf="-10000px";class k9{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let h=this.tooltips[d];h&&h.create==c.create&&(u=d)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let d=o[l]=this.tooltipViews[u];a&&(a[l]=n[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Lve(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const kk=Be.define({combine:t=>{var e,n,r;return{position:Ie.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Lve}}}),Kj=new WeakMap,r2=Mn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(kk);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new k9(t,i2,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(kk);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Kf,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ie.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Kf&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=JA(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(kk).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=t.pos[a],h=t.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){u.style.top=Kf;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,y=m?7:0,v=h.right-h.left,w=(e=Kj.get(c))!==null&&e!==void 0?e:h.bottom-h.top,b=c.offset||Bve,k=this.view.textDirection==un.LTR,C=h.width>r.right-r.left?k?r.left:r.right-h.width:k?Math.max(r.left,Math.min(d.left-(m?14:0)+b.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(m?14:0)-b.x),r.right-v),N=this.above[a];!l.strictSide&&(N?d.top-w-y-b.y<r.top:d.bottom+w+y+b.y>r.bottom)&&N==r.bottom-d.bottom>d.top-r.top&&(N=this.above[a]=!N);let _=(N?d.top-r.top:r.bottom-d.bottom)-y;if(_<w&&c.resize!==!1){if(_<this.view.defaultLineHeight){u.style.top=Kf;continue}Kj.set(c,w),u.style.height=(w=_)/s+"px"}else u.style.height&&(u.style.height="");let A=N?d.top-w-y-b.y:d.bottom+y+b.y,M=C+v;if(c.overlap!==!0)for(let R of o)R.left<M&&R.right>C&&R.top<A+w&&R.bottom>A&&(A=N?R.top-w-2-y:R.bottom+y+2);if(this.position=="absolute"?(u.style.top=(A-t.parent.top)/s+"px",Xj(u,(C-t.parent.left)/i)):(u.style.top=A/s+"px",Xj(u,C/i)),m){let R=d.left+(k?b.x:-b.x)-(C+14-7);m.style.left=R/i+"px"}c.overlap!==!0&&o.push({left:C,top:A,right:M,bottom:A+w}),u.classList.toggle("cm-tooltip-above",N),u.classList.toggle("cm-tooltip-below",!N),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Kf}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Xj(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const Fve=je.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Bve={x:0,y:0},i2=Be.define({enables:[r2,Fve]}),tx=Be.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Pv{static create(e){return new Pv(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new k9(e,tx,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const zve=i2.compute([tx],t=>{let e=t.facet(tx);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Pv.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class $ve{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof il)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==un.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>si(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(r2),n=e?e.manager.tooltips.findIndex(r=>r.create==Pv.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Vve(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!Wve(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ay=4;function Vve(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-Ay&&e.clientX<=r+Ay&&e.clientY>=i-Ay&&e.clientY<=s+Ay}function Wve(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function Hve(t,e={}){let n=xt.define(),r=gr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,Vr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(Uve)&&(i=[]);return i},provide:i=>tx.from(i)});return{active:r,extension:[r,Mn.define(i=>new $ve(i,t,r,n,e.hoverTime||300)),zve]}}function S9(t,e){let n=t.plugin(r2);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Uve=xt.define(),Zj=Be.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function hp(t,e){let n=t.plugin(C9),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const C9=Mn.fromClass(class{constructor(t){this.input=t.state.facet(pp),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(Zj);this.top=new _y(t,!0,e.topContainer),this.bottom=new _y(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Zj);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new _y(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new _y(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(pp);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>je.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class _y{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=Qj(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=Qj(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Qj(t){let e=t.nextSibling;return t.remove(),e}const pp=Be.define({enables:C9});class la extends wc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}la.prototype.elementClass="";la.prototype.toDOM=void 0;la.prototype.mapMode=Vr.TrackBefore;la.prototype.startSide=la.prototype.endSide=-1;la.prototype.point=!0;const d0=Be.define(),qve=Be.define(),Yve={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ft.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Oh=Be.define();function Gve(t){return[E9(),Oh.of(Object.assign(Object.assign({},Yve),t))]}const Jj=Be.define({combine:t=>t.some(e=>e)});function E9(t){return[Kve]}const Kve=Mn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Oh).map(e=>new tI(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Jj),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Jj)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Ft.iter(this.view.state.facet(d0),this.view.viewport.from),r=[],i=this.gutters.map(s=>new Xve(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Wr.Text&&o){UE(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Wr.Text){UE(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Oh),n=t.state.facet(Oh),r=t.docChanged||t.heightChanged||t.viewportChanged||!Ft.eq(t.startState.facet(d0),t.state.facet(d0),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new tI(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>je.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==un.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function eI(t){return Array.isArray(t)?t:[t]}function UE(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Xve{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ft.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new N9(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];UE(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(qve)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class tI{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=eI(n.markers(e)),n.initialSpacer&&(this.spacer=new N9(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=eI(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Ft.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class N9{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Zve(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Zve(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Qve=Be.define(),Jve=Be.define(),Ru=Be.define({combine(t){return To(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class Sk extends la{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ck(t,e){return t.state.facet(Ru).formatNumber(e,t.state)}const ewe=Oh.compute([Ru],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Qve)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new Sk(Ck(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Jve)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Ru)!=e.state.facet(Ru),initialSpacer(e){return new Sk(Ck(e,nI(e.state.doc.lines)))},updateSpacer(e,n){let r=Ck(n.view,nI(n.view.state.doc.lines));return r==e.number?e:new Sk(r)},domEventHandlers:t.facet(Ru).domEventHandlers}));function twe(t={}){return[Ru.of(t),E9(),ewe]}function nI(t){let e=9;for(;e<t;)e=e*10+9;return e}const nwe=new class extends la{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},rwe=d0.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(nwe.range(i)))}return Ft.of(e)});function iwe(){return rwe}var Ek;const Ou=new Nt;function swe(t){return Be.define({combine:t?e=>e.concat(t):void 0})}const owe=new Nt;class ys{constructor(e,n,r=[],i=""){this.data=e,this.name=i,At.prototype.hasOwnProperty("tree")||Object.defineProperty(At.prototype,"tree",{get(){return _r(this)}}),this.parser=n,this.extension=[xl.of(this),At.languageData.of((s,o,a)=>{let l=rI(s,o,a),c=l.type.prop(Ou);if(!c)return[];let u=s.facet(c),d=l.type.prop(owe);if(d){let h=l.resolve(o-l.from,a);for(let m of d)if(m.test(h,s)){let y=s.facet(m.facet);return m.type=="replace"?y:y.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return rI(e,n,r).type.prop(Ou)==this.data}findRegions(e){let n=e.facet(xl);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Ou)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Nt.mounted);if(a){if(a.tree.prop(Ou)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ln&&i(c,s.positions[l]+o)}};return i(_r(e),0),r}get allowsNesting(){return!0}}ys.setState=xt.define();function rI(t,e,n){let r=t.facet(xl),i=_r(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,sr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class nx extends ys{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=swe(e.languageData);return new nx(n,e.parser.configure({props:[Ou.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new nx(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function _r(t){let e=t.field(ys.state,!1);return e?e.tree:Ln.empty}class awe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Xf=null;class rx{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new rx(e,n,[],Ln.empty,0,r,[],null)}startParse(){return this.parser.startParse(new awe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Ln.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(dc.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(dc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Xf;Xf=this;try{return e()}finally{Xf=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=iI(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,h)=>l.push({fromA:c,toA:u,fromB:d,toB:h})),r=dc.applyChanges(r,l),i=Ln.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new rx(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=iI(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Z6{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Xf;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ln(ci.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Xf}}function iI(t,e,n){return dc.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class gd{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new gd(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=rx.create(e.facet(xl).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new gd(r)}}ys.state=gr.define({create:gd.init,update(t,e){for(let n of e.effects)if(n.is(ys.setState))return n.value;return e.startState.facet(xl)!=e.state.facet(xl)?gd.init(e.state):t.apply(e)}});let T9=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(T9=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Nk=typeof navigator<"u"&&(!((Ek=navigator.scheduling)===null||Ek===void 0)&&Ek.isInputPending)?()=>navigator.scheduling.isInputPending():null,lwe=Mn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(ys.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(ys.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=T9(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ys.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Nk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Nk&&Nk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ys.setState.of(new gd(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>si(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),xl=Be.define({combine(t){return t.length?t[0]:null},enables:t=>[ys.state,lwe,je.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}),cwe=Be.define(),Rv=Be.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function ix(t){let e=t.facet(Rv);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function mp(t,e){let n="",r=t.tabSize,i=t.facet(Rv)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function s2(t,e){t instanceof At&&(t=new Ov(t));for(let r of t.state.facet(cwe)){let i=r(t,e);if(i!==void 0)return i}let n=_r(t.state);return n.length>=e?uwe(t,n,e):null}class Ov{constructor(e,n={}){this.state=e,this.options=n,this.unit=ix(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return Gd(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const A9=new Nt;function uwe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return _9(r,t,n)}function _9(t,e,n){for(let r=t;r;r=r.next){let i=fwe(r.node);if(i)return i(o2.create(e,n,r))}return 0}function dwe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function fwe(t){let e=t.type.prop(A9);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Nt.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>gwe(o,!0,1,void 0,s&&!dwe(o)?i.from:void 0)}return t.parent==null?hwe:null}function hwe(){return 0}class o2 extends Ov{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new o2(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(pwe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return _9(this.context.next,this.base,this.pos)}}function pwe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function mwe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function gwe(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=mwe(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function sI({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const ywe=200;function xwe(){return At.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+ywe)return t;let s=n.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=s2(o,u.from);if(d==null)continue;let h=/^\s*/.exec(u.text)[0],m=mp(o,d);h!=m&&l.push({from:u.from,to:u.from+h.length,insert:m})}return l.length?[t,{changes:l,sequential:!0}]:t})}const vwe=Be.define(),M9=new Nt;function wwe(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function bwe(t,e,n){let r=_r(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(M9);if(l&&(a.to<r.length-50||r.length==t.doc.length||!kwe(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function kwe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function sx(t,e,n){for(let r of t.facet(vwe)){let i=r(t,e,n);if(i)return i}return bwe(t,e,n)}function P9(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Dv=xt.define({map:P9}),vm=xt.define({map:P9});function R9(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Cc=gr.define({create(){return Je.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Dv)&&!Swe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(j9),i=r?Je.replace({widget:new Mwe(r(e.state,n.value))}):oI;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(vm)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>je.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(oI.range(r,i))}return Je.set(e,!0)}});function ox(t,e,n){var r;let i=null;return(r=t.field(Cc,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function Swe(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function O9(t,e){return t.field(Cc,!1)?e:e.concat(xt.appendConfig.of(I9()))}const Cwe=t=>{for(let e of R9(t)){let n=sx(t.state,e.from,e.to);if(n)return t.dispatch({effects:O9(t.state,[Dv.of(n),D9(t,n)])}),!0}return!1},Ewe=t=>{if(!t.state.field(Cc,!1))return!1;let e=[];for(let n of R9(t)){let r=ox(t.state,n.from,n.to);r&&e.push(vm.of(r),D9(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function D9(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return je.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Nwe=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=sx(e,i.from,i.to);s&&n.push(Dv.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:O9(t.state,n)}),!!n.length},Twe=t=>{let e=t.state.field(Cc,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(vm.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},Awe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Cwe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Ewe},{key:"Ctrl-Alt-[",run:Nwe},{key:"Ctrl-Alt-]",run:Twe}],_we={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},j9=Be.define({combine(t){return To(t,_we)}});function I9(t){return[Cc,Owe]}function L9(t,e){let{state:n}=t,r=n.facet(j9),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=ox(t.state,a.from,a.to);l&&t.dispatch({effects:vm.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const oI=Je.replace({widget:new class extends ma{toDOM(t){return L9(t,null)}}});class Mwe extends ma{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return L9(e,this.value)}}const Pwe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Tk extends la{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Rwe(t={}){let e=Object.assign(Object.assign({},Pwe),t),n=new Tk(e,!0),r=new Tk(e,!1),i=Mn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(xl)!=o.state.facet(xl)||o.startState.field(Cc,!1)!=o.state.field(Cc,!1)||_r(o.startState)!=_r(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new oa;for(let l of o.viewportLineBlocks){let c=ox(o.state,l.from,l.to)?r:sx(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,Gve({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Ft.empty},initialSpacer(){return new Tk(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=ox(o.state,a.from,a.to);if(c)return o.dispatch({effects:vm.of(c)}),!0;let u=sx(o.state,a.from,a.to);return u?(o.dispatch({effects:Dv.of(u)}),!0):!1}})}),I9()]}const Owe=je.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Kd{constructor(e,n){this.specs=e;let r;function i(a){let l=ml.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof ys?a=>a.prop(Ou)==o.data:o?a=>a==o:void 0,this.style=e8(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new ml(r):null,this.themeType=n.themeType}static define(e,n){return new Kd(e,n||{})}}const qE=Be.define(),F9=Be.define({combine(t){return t.length?[t[0]]:null}});function Ak(t){let e=t.facet(qE);return e.length?e:t.facet(F9)}function a2(t,e){let n=[jwe],r;return t instanceof Kd&&(t.module&&n.push(je.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(F9.of(t)):r?n.push(qE.computeN([je.darkTheme],i=>i.facet(je.darkTheme)==(r=="dark")?[t]:[])):n.push(qE.of(t)),n}class Dwe{constructor(e){this.markCache=Object.create(null),this.tree=_r(e.state),this.decorations=this.buildDeco(e,Ak(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=_r(e.state),r=Ak(e.state),i=r!=Ak(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Je.none;let r=new oa;for(let{from:i,to:s}of e.visibleRanges)t0e(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Je.mark({class:l})))},i,s);return r.finish()}}const jwe=Fc.high(Mn.fromClass(Dwe,{decorations:t=>t.decorations})),Iwe=Kd.define([{tag:re.meta,color:"#404740"},{tag:re.link,textDecoration:"underline"},{tag:re.heading,textDecoration:"underline",fontWeight:"bold"},{tag:re.emphasis,fontStyle:"italic"},{tag:re.strong,fontWeight:"bold"},{tag:re.strikethrough,textDecoration:"line-through"},{tag:re.keyword,color:"#708"},{tag:[re.atom,re.bool,re.url,re.contentSeparator,re.labelName],color:"#219"},{tag:[re.literal,re.inserted],color:"#164"},{tag:[re.string,re.deleted],color:"#a11"},{tag:[re.regexp,re.escape,re.special(re.string)],color:"#e40"},{tag:re.definition(re.variableName),color:"#00f"},{tag:re.local(re.variableName),color:"#30a"},{tag:[re.typeName,re.namespace],color:"#085"},{tag:re.className,color:"#167"},{tag:[re.special(re.variableName),re.macroName],color:"#256"},{tag:re.definition(re.propertyName),color:"#00c"},{tag:re.comment,color:"#940"},{tag:re.invalid,color:"#f00"}]),Lwe=je.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),B9=1e4,z9="()[]{}",$9=Be.define({combine(t){return To(t,{afterCursor:!0,brackets:z9,maxScanDistance:B9,renderMatch:zwe})}}),Fwe=Je.mark({class:"cm-matchingBracket"}),Bwe=Je.mark({class:"cm-nonmatchingBracket"});function zwe(t){let e=[],n=t.matched?Fwe:Bwe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const $we=gr.define({create(){return Je.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet($9);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Js(e.state,i.head,-1,r)||i.head>0&&Js(e.state,i.head-1,1,r)||r.afterCursor&&(Js(e.state,i.head,1,r)||i.head<e.state.doc.length&&Js(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Je.set(n,!0)},provide:t=>je.decorations.from(t)}),Vwe=[$we,Lwe];function Wwe(t={}){return[$9.of(t),Vwe]}const Hwe=new Nt;function YE(t,e,n){let r=t.prop(e<0?Nt.openedBy:Nt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function GE(t){let e=t.type.prop(Hwe);return e?e(t.node):t}function Js(t,e,n,r={}){let i=r.maxScanDistance||B9,s=r.brackets||z9,o=_r(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=YE(l.type,n,s);if(c&&l.from<l.to){let u=GE(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Uwe(t,e,n,l,u,c,s)}}return qwe(t,e,n,o,a.type,i,s)}function Uwe(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let d=GE(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(YE(u.type,n,o))c++;else if(YE(u.type,-n,o)){if(c==0){let d=GE(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function qwe(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let h=0;!u.next().done&&h<=s;){let m=u.value;n<0&&(h+=m.length);let y=e+h*n;for(let v=n>0?0:m.length-1,w=n>0?m.length:-1;v!=w;v+=n){let b=o.indexOf(m[v]);if(!(b<0||r.resolveInner(y+v,1).type!=i))if(b%2==0==n>0)d++;else{if(d==1)return{start:c,end:{from:y+v,to:y+v+1},matched:b>>1==l>>1};d--}}n>0&&(h+=m.length)}return u.done?{start:c,matched:!1}:null}const Ywe=Object.create(null),aI=[ci.none],lI=[],cI=Object.create(null),Gwe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Gwe[t]=Kwe(Ywe,e);function _k(t,e){lI.indexOf(t)>-1||(lI.push(t),console.warn(e))}function Kwe(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||re[c];u?typeof u=="function"?l.length?l=l.map(u):_k(c,`Modifier ${c} used at start of tag`):l.length?_k(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:_k(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=cI[i];if(s)return s.id;let o=cI[i]=ci.define({id:aI.length,name:r,props:[Q6({[r]:n})]});return aI.push(o),o.id}un.RTL,un.LTR;const Xwe=nx.define({name:"json",parser:s0e.configure({props:[A9.add({Object:sI({except:/^\s*\}/}),Array:sI({except:/^\s*\]/})}),M9.add({"Object Array":wwe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(null,arguments)}var V9=t=>{var{theme:e,settings:n={},styles:r=[]}=t,i={".cm-gutters":{}},s={};n.background&&(s.backgroundColor=n.background),n.backgroundImage&&(s.backgroundImage=n.backgroundImage),n.foreground&&(s.color=n.foreground),n.fontSize&&(s.fontSize=n.fontSize),(n.background||n.foreground)&&(i["&"]=s),n.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(i[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(i[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(i[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(i[".cm-content"]={caretColor:n.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var o={};n.gutterActiveForeground&&(o.color=n.gutterActiveForeground),n.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:n.lineHighlight},o.backgroundColor=n.lineHighlight),i[".cm-activeLineGutter"]=o,n.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:n.selection+" !important"}),n.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch});var a=je.theme(i,{dark:e==="dark"}),l=Kd.define(r),c=[a,a2(l)];return c},Zwe={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},Qwe=[{tag:[re.standard(re.tagName),re.tagName],color:"#116329"},{tag:[re.comment,re.bracket],color:"#6a737d"},{tag:[re.className,re.propertyName],color:"#6f42c1"},{tag:[re.variableName,re.attributeName,re.number,re.operator],color:"#005cc5"},{tag:[re.keyword,re.typeName,re.typeOperator,re.typeName],color:"#d73a49"},{tag:[re.string,re.meta,re.regexp],color:"#032f62"},{tag:[re.name,re.quote],color:"#22863a"},{tag:[re.heading,re.strong],color:"#24292e",fontWeight:"bold"},{tag:[re.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[re.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[re.atom,re.bool,re.special(re.variableName)],color:"#e36209"},{tag:[re.url,re.escape,re.regexp,re.link],color:"#032f62"},{tag:re.link,textDecoration:"underline"},{tag:re.strikethrough,textDecoration:"line-through"},{tag:re.invalid,color:"#cb2431"}],Jwe=t=>{var{theme:e="light",settings:n={},styles:r=[]}={};return V9({theme:e,settings:gp({},Zwe,n),styles:[...Qwe,...r]})};Jwe();var ebe={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},tbe=[{tag:[re.standard(re.tagName),re.tagName],color:"#7ee787"},{tag:[re.comment,re.bracket],color:"#8b949e"},{tag:[re.className,re.propertyName],color:"#d2a8ff"},{tag:[re.variableName,re.attributeName,re.number,re.operator],color:"#79c0ff"},{tag:[re.keyword,re.typeName,re.typeOperator,re.typeName],color:"#ff7b72"},{tag:[re.string,re.meta,re.regexp],color:"#a5d6ff"},{tag:[re.name,re.quote],color:"#7ee787"},{tag:[re.heading,re.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[re.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[re.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[re.atom,re.bool,re.special(re.variableName)],color:"#ffab70"},{tag:re.link,textDecoration:"underline"},{tag:re.strikethrough,textDecoration:"line-through"},{tag:re.invalid,color:"#f97583"}],W9=t=>{var{theme:e="dark",settings:n={},styles:r=[]}=t||{};return V9({theme:e,settings:gp({},ebe,n),styles:[...tbe,...r]})};W9();function nbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}const rbe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=c2(t.state,n.from);return r.line?ibe(t):r.block?obe(t):!1};function l2(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const ibe=l2(cbe,0),sbe=l2(H9,0),obe=l2((t,e)=>H9(t,e,lbe(e)),0);function c2(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Zf=50;function abe(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Zf,r),o=t.sliceDoc(i,i+Zf),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,d;i-r<=2*Zf?u=d=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+Zf),d=t.sliceDoc(i-Zf,i));let h=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(d)[0].length,y=d.length-m-n.length;return u.slice(h,h+e.length)==e&&d.slice(y,y+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:i-m-n.length,margin:/\s/.test(d.charAt(y-1))?1:0}}:null}function lbe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function H9(t,e,n=e.selection.ranges){let r=n.map(s=>c2(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>abe(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function cbe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,c=c2(e,s).line;if(c){for(let u=s;u<=o;){let d=e.doc.lineAt(u);if(d.from>i&&(s==o||o>d.from)){i=d.from;let h=/^\s*/.exec(d.text)[0].length,m=h==d.length,y=d.text.slice(h,h+c.length)==c?h:-1;h<d.text.length&&h<l&&(l=h),r.push({line:d,comment:y,token:c,indent:h,empty:m,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const KE=No.define(),ube=No.define(),dbe=Be.define(),U9=Be.define({combine(t){return To(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),q9=gr.define({create(){return eo.empty},update(t,e){let n=e.state.facet(U9),r=e.annotation(KE);if(r){let l=oi.fromTransaction(e,r.selection),c=r.side,u=c==0?t.undone:t.done;return l?u=ax(u,u.length,n.minDepth,l):u=K9(u,e.startState.selection),new eo(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(ube);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Jn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=oi.fromTransaction(e),o=e.annotation(Jn.time),a=e.annotation(Jn.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new eo(t.done.map(oi.fromJSON),t.undone.map(oi.fromJSON))}});function fbe(t={}){return[q9,U9.of(t),je.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Y9:e.inputType=="historyRedo"?XE:null;return r?(e.preventDefault(),r(n)):!1}})]}function jv(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(q9,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const Y9=jv(0,!1),XE=jv(1,!1),hbe=jv(0,!0),pbe=jv(1,!0);class oi{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new oi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new oi(e.changes&&Zn.fromJSON(e.changes),[],e.mapped&&oo.fromJSON(e.mapped),e.startSelection&&ge.fromJSON(e.startSelection),e.selectionsAfter.map(ge.fromJSON))}static fromTransaction(e,n){let r=Ki;for(let i of e.startState.facet(dbe)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new oi(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Ki)}static selection(e){return new oi(void 0,Ki,void 0,void 0,e)}}function ax(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function mbe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&o<=u&&(r=!0)}}),r}function gbe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function G9(t,e){return t.length?e.length?t.concat(e):t:e}const Ki=[],ybe=200;function K9(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-ybe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ax(t,t.length-1,1e9,n.setSelAfter(r)))}else return[oi.selection([e])]}function xbe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Mk(t,e){if(!t.length)return t;let n=t.length,r=Ki;for(;n;){let i=vbe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[oi.selection(r)]:Ki}function vbe(t,e,n){let r=G9(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Ki,n);if(!t.changes)return oi.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new oi(i,xt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const wbe=/^(input\.type|delete)($|\.)/;class eo{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new eo(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||wbe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,mbe(a.changes,e.changes))||r=="input.type.compose")?o=ax(o,o.length-1,i.minDepth,new oi(e.changes.compose(a.changes),G9(xt.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Ki)):o=ax(o,o.length,i.minDepth,e),new eo(o,Ki,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ki;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&gbe(s[s.length-1],e)?this:new eo(K9(this.done,e),this.undone,n,r)}addMapping(e){return new eo(Mk(this.done,e),Mk(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:KE.of({side:e,rest:xbe(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?Ki:i.slice(0,i.length-1);return s.mapped&&(a=Mk(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:KE.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}eo.empty=new eo(Ki,Ki);const bbe=[{key:"Mod-z",run:Y9,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:XE,preventDefault:!0},{linux:"Ctrl-Shift-z",run:XE,preventDefault:!0},{key:"Mod-u",run:hbe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:pbe,preventDefault:!0}];function Xd(t,e){return ge.create(t.ranges.map(e),t.mainIndex)}function Ao(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Rs({state:t,dispatch:e},n){let r=Xd(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Ao(t,r)),!0)}function Iv(t,e){return ge.cursor(e?t.to:t.from)}function X9(t,e){return Rs(t,n=>n.empty?t.moveByChar(n,e):Iv(n,e))}function Dr(t){return t.textDirectionAt(t.state.selection.main.head)==un.LTR}const Z9=t=>X9(t,!Dr(t)),Q9=t=>X9(t,Dr(t));function J9(t,e){return Rs(t,n=>n.empty?t.moveByGroup(n,e):Iv(n,e))}const kbe=t=>J9(t,!Dr(t)),Sbe=t=>J9(t,Dr(t));function Cbe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Lv(t,e,n){let r=_r(t).resolveInner(e.head),i=n?Nt.closedBy:Nt.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;Cbe(t,c,i)?r=c:l=n?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=n?Js(t,r.from,1):Js(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,ge.cursor(a,n?-1:1)}const Ebe=t=>Rs(t,e=>Lv(t.state,e,!Dr(t))),Nbe=t=>Rs(t,e=>Lv(t.state,e,Dr(t)));function eW(t,e){return Rs(t,n=>{if(!n.empty)return Iv(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const tW=t=>eW(t,!1),nW=t=>eW(t,!0);function rW(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(je.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function iW(t,e){let n=rW(t),{state:r}=t,i=Xd(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):Iv(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=je.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Ao(r,i),{effects:s}),!0}const uI=t=>iW(t,!1),ZE=t=>iW(t,!0);function Ml(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=ge.cursor(r.from+s))}return i}const Tbe=t=>Rs(t,e=>Ml(t,e,!0)),Abe=t=>Rs(t,e=>Ml(t,e,!1)),_be=t=>Rs(t,e=>Ml(t,e,!Dr(t))),Mbe=t=>Rs(t,e=>Ml(t,e,Dr(t))),Pbe=t=>Rs(t,e=>ge.cursor(t.lineBlockAt(e.head).from,1)),Rbe=t=>Rs(t,e=>ge.cursor(t.lineBlockAt(e.head).to,-1));function Obe(t,e,n){let r=!1,i=Xd(t.selection,s=>{let o=Js(t,s.head,-1)||Js(t,s.head,1)||s.head>0&&Js(t,s.head-1,1)||s.head<t.doc.length&&Js(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return ge.cursor(a)});return r?(e(Ao(t,i)),!0):!1}const Dbe=({state:t,dispatch:e})=>Obe(t,e);function is(t,e){let n=Xd(t.state.selection,r=>{let i=e(r);return ge.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Ao(t.state,n)),!0)}function sW(t,e){return is(t,n=>t.moveByChar(n,e))}const oW=t=>sW(t,!Dr(t)),aW=t=>sW(t,Dr(t));function lW(t,e){return is(t,n=>t.moveByGroup(n,e))}const jbe=t=>lW(t,!Dr(t)),Ibe=t=>lW(t,Dr(t)),Lbe=t=>is(t,e=>Lv(t.state,e,!Dr(t))),Fbe=t=>is(t,e=>Lv(t.state,e,Dr(t)));function cW(t,e){return is(t,n=>t.moveVertically(n,e))}const uW=t=>cW(t,!1),dW=t=>cW(t,!0);function fW(t,e){return is(t,n=>t.moveVertically(n,e,rW(t).height))}const dI=t=>fW(t,!1),fI=t=>fW(t,!0),Bbe=t=>is(t,e=>Ml(t,e,!0)),zbe=t=>is(t,e=>Ml(t,e,!1)),$be=t=>is(t,e=>Ml(t,e,!Dr(t))),Vbe=t=>is(t,e=>Ml(t,e,Dr(t))),Wbe=t=>is(t,e=>ge.cursor(t.lineBlockAt(e.head).from)),Hbe=t=>is(t,e=>ge.cursor(t.lineBlockAt(e.head).to)),hI=({state:t,dispatch:e})=>(e(Ao(t,{anchor:0})),!0),pI=({state:t,dispatch:e})=>(e(Ao(t,{anchor:t.doc.length})),!0),mI=({state:t,dispatch:e})=>(e(Ao(t,{anchor:t.selection.main.anchor,head:0})),!0),gI=({state:t,dispatch:e})=>(e(Ao(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Ube=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),qbe=({state:t,dispatch:e})=>{let n=Fv(t).map(({from:r,to:i})=>ge.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:ge.create(n),userEvent:"select"})),!0},Ybe=({state:t,dispatch:e})=>{let n=Xd(t.selection,r=>{let i=_r(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return ge.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(Ao(t,n)),!0)},Gbe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=ge.create([n.main]):n.main.empty||(r=ge.create([ge.cursor(n.main.head)])),r?(e(Ao(t,r)),!0):!1};function wm(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=My(t,l,!1)):l>o&&(n="delete.forward",l=My(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=My(t,o,!1),a=My(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:ge.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?je.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function My(t,e,n){if(t instanceof je)for(let r of t.state.facet(je.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const hW=(t,e,n)=>wm(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=Gd(a,s.tabSize),u=c%ix(s)||ix(s);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)i--;l=i}else l=mr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=mr(o.text,l-o.from,!1,!1)+o.from);return l}),QE=t=>hW(t,!1,!0),pW=t=>hW(t,!0,!1),mW=(t,e)=>wm(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=mr(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),gW=t=>mW(t,!1),Kbe=t=>mW(t,!0),Xbe=t=>wm(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Zbe=t=>wm(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Qbe=t=>wm(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Jbe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Vt.of(["",""])},range:ge.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},e1e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:mr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:mr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:ge.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Fv(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function yW(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of Fv(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(ge.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(ge.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:ge.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const t1e=({state:t,dispatch:e})=>yW(t,e,!1),n1e=({state:t,dispatch:e})=>yW(t,e,!0);function xW(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Fv(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const r1e=({state:t,dispatch:e})=>xW(t,e,!1),i1e=({state:t,dispatch:e})=>xW(t,e,!0),s1e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Fv(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Xd(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function o1e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=_r(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Nt.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const yI=vW(!1),a1e=vW(!0);function vW(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&o1e(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Ov(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=s2(c,s);for(u==null&&(u=Gd(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",mp(e,u)];return l&&d.push(mp(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Vt.of(d)},range:ge.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function u2(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:ge.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const l1e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Ov(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=u2(t,(s,o,a)=>{let l=s2(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=mp(t,l);(c!=u||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},wW=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(u2(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Rv)})}),{userEvent:"input.indent"})),!0),bW=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(u2(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Gd(i,t.tabSize),o=0,a=mp(t,Math.max(0,s-ix(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),c1e=t=>(t.setTabFocusMode(),!0),u1e=[{key:"Ctrl-b",run:Z9,shift:oW,preventDefault:!0},{key:"Ctrl-f",run:Q9,shift:aW},{key:"Ctrl-p",run:tW,shift:uW},{key:"Ctrl-n",run:nW,shift:dW},{key:"Ctrl-a",run:Pbe,shift:Wbe},{key:"Ctrl-e",run:Rbe,shift:Hbe},{key:"Ctrl-d",run:pW},{key:"Ctrl-h",run:QE},{key:"Ctrl-k",run:Xbe},{key:"Ctrl-Alt-h",run:gW},{key:"Ctrl-o",run:Jbe},{key:"Ctrl-t",run:e1e},{key:"Ctrl-v",run:ZE}],d1e=[{key:"ArrowLeft",run:Z9,shift:oW,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:kbe,shift:jbe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:_be,shift:$be,preventDefault:!0},{key:"ArrowRight",run:Q9,shift:aW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Sbe,shift:Ibe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Mbe,shift:Vbe,preventDefault:!0},{key:"ArrowUp",run:tW,shift:uW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:hI,shift:mI},{mac:"Ctrl-ArrowUp",run:uI,shift:dI},{key:"ArrowDown",run:nW,shift:dW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:pI,shift:gI},{mac:"Ctrl-ArrowDown",run:ZE,shift:fI},{key:"PageUp",run:uI,shift:dI},{key:"PageDown",run:ZE,shift:fI},{key:"Home",run:Abe,shift:zbe,preventDefault:!0},{key:"Mod-Home",run:hI,shift:mI},{key:"End",run:Tbe,shift:Bbe,preventDefault:!0},{key:"Mod-End",run:pI,shift:gI},{key:"Enter",run:yI,shift:yI},{key:"Mod-a",run:Ube},{key:"Backspace",run:QE,shift:QE},{key:"Delete",run:pW},{key:"Mod-Backspace",mac:"Alt-Backspace",run:gW},{key:"Mod-Delete",mac:"Alt-Delete",run:Kbe},{mac:"Mod-Backspace",run:Zbe},{mac:"Mod-Delete",run:Qbe}].concat(u1e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),f1e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ebe,shift:Lbe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Nbe,shift:Fbe},{key:"Alt-ArrowUp",run:t1e},{key:"Shift-Alt-ArrowUp",run:r1e},{key:"Alt-ArrowDown",run:n1e},{key:"Shift-Alt-ArrowDown",run:i1e},{key:"Escape",run:Gbe},{key:"Mod-Enter",run:a1e},{key:"Alt-l",mac:"Ctrl-l",run:qbe},{key:"Mod-i",run:Ybe,preventDefault:!0},{key:"Mod-[",run:bW},{key:"Mod-]",run:wW},{key:"Mod-Alt-\\",run:l1e},{key:"Shift-Mod-k",run:s1e},{key:"Shift-Mod-\\",run:Dbe},{key:"Mod-/",run:rbe},{key:"Alt-A",run:sbe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:c1e}].concat(d1e),h1e={key:"Tab",run:wW,shift:bW};function en(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)kW(t,arguments[e]);return t}function kW(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)kW(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const xI=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class yd{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(xI(a)):xI,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ni(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=WA(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Gs(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(yd.prototype[Symbol.iterator]=function(){return this});const SW={from:-1,to:-1,match:/.*/.exec("")},d2="gm"+(/x/.unicode==null?"":"u");class CW{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=SW,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new EW(e,n,r,i,s);this.re=new RegExp(n,d2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=lx(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=lx(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Pk=new WeakMap;class Xu{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Pk.get(e);if(!i||i.from>=r||i.to<=n){let a=new Xu(n,e.sliceString(n,r));return Pk.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),Pk.set(e,new Xu(o,s)),new Xu(n,s.slice(n-o,r-o))}}class EW{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=SW,this.matchPos=lx(e,i),this.re=new RegExp(n,d2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Xu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=lx(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Xu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(CW.prototype[Symbol.iterator]=EW.prototype[Symbol.iterator]=function(){return this});function p1e(t){try{return new RegExp(t,d2),!0}catch{return!1}}function lx(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function JE(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=en("input",{class:"cm-textfield",name:"line",value:e}),r=en("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:cx.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},en("label",t.state.phrase("Go to line"),": ",n)," ",en("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,d]=s,h=u?+u.slice(1):0,m=c?+c:a.number;if(c&&d){let w=m/100;l&&(w=w*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*w)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let y=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),v=ge.cursor(y.from+Math.max(0,Math.min(h,y.length)));t.dispatch({effects:[cx.of(!1),je.scrollIntoView(v.from,{y:"center"})],selection:v}),t.focus()}return{dom:r}}const cx=xt.define(),vI=gr.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(cx)&&(t=n.value);return t},provide:t=>pp.from(t,e=>e?JE:null)}),m1e=t=>{let e=hp(t,JE);if(!e){let n=[cx.of(!0)];t.state.field(vI,!1)==null&&n.push(xt.appendConfig.of([vI,g1e])),t.dispatch({effects:n}),e=hp(t,JE)}return e&&e.dom.querySelector("input").select(),!0},g1e=je.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),y1e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},x1e=Be.define({combine(t){return To(t,y1e,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function v1e(t){return[C1e,S1e]}const w1e=Je.mark({class:"cm-selectionMatch"}),b1e=Je.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function wI(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=mn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=mn.Word)}function k1e(t,e,n,r){return t(e.sliceDoc(n,n+1))==mn.Word&&t(e.sliceDoc(r-1,r))==mn.Word}const S1e=Mn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(x1e),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Je.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Je.none;let l=n.wordAt(i.head);if(!l)return Je.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Je.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(wI(o,n,i.from,i.to)&&k1e(o,n,i.from,i.to)))return Je.none}else if(s=n.sliceDoc(i.from,i.to),!s)return Je.none}let a=[];for(let l of t.visibleRanges){let c=new yd(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!o||wI(o,n,u,d))&&(i.empty&&u<=i.from&&d>=i.to?a.push(b1e.range(u,d)):(u>=i.to||d<=i.from)&&a.push(w1e.range(u,d)),a.length>e.maxMatches))return Je.none}}return Je.set(a)}},{decorations:t=>t.decorations}),C1e=je.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),E1e=({state:t,dispatch:e})=>{let{selection:n}=t,r=ge.create(n.ranges.map(i=>t.wordAt(i.head)||ge.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function N1e(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new yd(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new yd(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const T1e=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return E1e({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=N1e(t,r);return i?(e(t.update({selection:t.selection.addRange(ge.range(i.from,i.to),!1),effects:je.scrollIntoView(i.to)})),!0):!1},Zd=Be.define({combine(t){return To(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new B1e(e),scrollToMatch:e=>je.scrollIntoView(e)})}});class NW{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||p1e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new P1e(this):new _1e(this)}getCursor(e,n=0,r){let i=e.doc?e:At.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Cu(this,i,n,r):Su(this,i,n,r)}}class TW{constructor(e){this.spec=e}}function Su(t,e,n,r){return new yd(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?A1e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function A1e(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(ux(i,n-s))!=mn.Word||e(dx(i,n-s))!=mn.Word)&&(e(dx(i,r-s))!=mn.Word||e(ux(i,r-s))!=mn.Word))}class _1e extends TW{constructor(e){super(e)}nextMatch(e,n,r){let i=Su(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Su(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=Su(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Su(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Su(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Cu(t,e,n,r){return new CW(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?M1e(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function ux(t,e){return t.slice(mr(t,e,!1),e)}function dx(t,e){return t.slice(e,mr(t,e))}function M1e(t){return(e,n,r)=>!r[0].length||(t(ux(r.input,r.index))!=mn.Word||t(dx(r.input,r.index))!=mn.Word)&&(t(dx(r.input,r.index+r[0].length))!=mn.Word||t(ux(r.input,r.index+r[0].length))!=mn.Word)}class P1e extends TW{nextMatch(e,n,r){let i=Cu(this.spec,e,r,e.doc.length).next();return i.done&&(i=Cu(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=Cu(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=Cu(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Cu(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const yp=xt.define(),f2=xt.define(),ol=gr.define({create(t){return new Rk(eN(t).create(),null)},update(t,e){for(let n of e.effects)n.is(yp)?t=new Rk(n.value.create(),t.panel):n.is(f2)&&(t=new Rk(t.query,n.value?h2:null));return t},provide:t=>pp.from(t,e=>e.panel)});class Rk{constructor(e,n){this.query=e,this.panel=n}}const R1e=Je.mark({class:"cm-searchMatch"}),O1e=Je.mark({class:"cm-searchMatch cm-searchMatch-selected"}),D1e=Mn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ol))}update(t){let e=t.state.field(ol);(e!=t.startState.field(ol)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Je.none;let{view:n}=this,r=new oa;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(c,u)=>{let d=n.state.selection.ranges.some(h=>h.from==c&&h.to==u);r.add(c,u,d?O1e:R1e)})}return r.finish()}},{decorations:t=>t.decorations});function bm(t){return e=>{let n=e.state.field(ol,!1);return n&&n.query.spec.valid?t(e,n):MW(e)}}const fx=bm((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=ge.single(r.from,r.to),s=t.state.facet(Zd);return t.dispatch({selection:i,effects:[p2(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),_W(t),!0}),hx=bm((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=ge.single(i.from,i.to),o=t.state.facet(Zd);return t.dispatch({selection:s,effects:[p2(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),_W(t),!0}),j1e=bm((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:ge.create(n.map(r=>ge.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),I1e=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new yd(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(ge.range(a.value.from,a.value.to))}return e(t.update({selection:ge.create(s,o),userEvent:"select.search.matches"})),!0},bI=bm((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==r&&o.to==i&&(c=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),u.push(je.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let d=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=ge.single(o.from-d,o.to-d),u.push(p2(t,o)),u.push(n.facet(Zd).scrollToMatch(l.main,t))}return t.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),L1e=bm((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:je.announce.of(r),userEvent:"input.replace.all"}),!0});function h2(t){return t.state.facet(Zd).createPanel(t)}function eN(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(Zd);return new NW({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function AW(t){let e=hp(t,h2);return e&&e.dom.querySelector("[main-field]")}function _W(t){let e=AW(t);e&&e==t.root.activeElement&&e.select()}const MW=t=>{let e=t.state.field(ol,!1);if(e&&e.panel){let n=AW(t);if(n&&n!=t.root.activeElement){let r=eN(t.state,e.query.spec);r.valid&&t.dispatch({effects:yp.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[f2.of(!0),e?yp.of(eN(t.state,e.query.spec)):xt.appendConfig.of($1e)]});return!0},PW=t=>{let e=t.state.field(ol,!1);if(!e||!e.panel)return!1;let n=hp(t,h2);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:f2.of(!1)}),!0},F1e=[{key:"Mod-f",run:MW,scope:"editor search-panel"},{key:"F3",run:fx,shift:hx,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:fx,shift:hx,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:PW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:I1e},{key:"Mod-Alt-g",run:m1e},{key:"Mod-d",run:T1e,preventDefault:!0}];class B1e{constructor(e){this.view=e;let n=this.query=e.state.field(ol).query.spec;this.commit=this.commit.bind(this),this.searchField=en("input",{value:n.search,placeholder:xi(e,"Find"),"aria-label":xi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=en("input",{value:n.replace,placeholder:xi(e,"Replace"),"aria-label":xi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=en("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=en("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=en("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return en("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=en("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>fx(e),[xi(e,"next")]),r("prev",()=>hx(e),[xi(e,"previous")]),r("select",()=>j1e(e),[xi(e,"all")]),en("label",null,[this.caseField,xi(e,"match case")]),en("label",null,[this.reField,xi(e,"regexp")]),en("label",null,[this.wordField,xi(e,"by word")]),...e.state.readOnly?[]:[en("br"),this.replaceField,r("replace",()=>bI(e),[xi(e,"replace")]),r("replaceAll",()=>L1e(e),[xi(e,"replace all")])],en("button",{name:"close",onclick:()=>PW(e),"aria-label":xi(e,"close"),type:"button"},[""])])}commit(){let e=new NW({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:yp.of(e)}))}keydown(e){nve(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?hx:fx)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),bI(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(yp)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Zd).top}}function xi(t,e){return t.state.phrase(e)}const Py=30,Ry=/[\s\.,:;?!]/;function p2(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Py),o=Math.min(i,n+Py),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Py;l++)if(!Ry.test(a[l+1])&&Ry.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Py;l--)if(!Ry.test(a[l-1])&&Ry.test(a[l])){a=a.slice(0,l);break}}return je.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const z1e=je.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),$1e=[ol,Fc.low(D1e),z1e];class RW{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=_r(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(OW(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function kI(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function V1e(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=kI(e)+kI(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function W1e(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:V1e(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}let SI=class{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}};function fc(t){return t.selection.main.from}function OW(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const DW=No.define();function H1e(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:ge.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const CI=new WeakMap;function U1e(t){if(!Array.isArray(t))return t;let e=CI.get(t);return e||CI.set(t,e=W1e(t)),e}const px=xt.define(),xp=xt.define();class q1e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=ni(e,n),i=Gs(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(ni(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let k=ni(e,0),C=Gs(k),N=C==e.length?0:-100;if(k!=n[0])if(k==r[0])N+=-200;else return null;return this.ret(N,[0,C])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let k=0,C=Math.min(e.length,200);k<C&&c<l;){let N=ni(e,k);(N==n[c]||N==r[c])&&(i[c++]=k),k+=Gs(N)}if(c<l)return null}let u=0,d=0,h=!1,m=0,y=-1,v=-1,w=/[a-z]/.test(e),b=!0;for(let k=0,C=Math.min(e.length,200),N=0;k<C&&d<l;){let _=ni(e,k);a<0&&(u<l&&_==n[u]&&(s[u++]=k),m<l&&(_==n[m]||_==r[m]?(m==0&&(y=k),v=k+1,m++):m=0));let A,M=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(A=WA(_))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!k||M==1&&w||N==0&&M!=0)&&(n[d]==_||r[d]==_&&(h=!0)?o[d++]=k:o.length&&(b=!1)),N=M,k+=Gs(_)}return d==l&&o[0]==0&&b?this.result(-100+(h?-200:0),o,e):m==l&&y==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[y,v]):d==l?this.result(-100+(h?-200:0)+-700+(b?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Gs(ni(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Y1e{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const or=Be.define({combine(t){return To(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:G1e,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>EI(e(r),n(r)),optionClass:(e,n)=>r=>EI(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function EI(t,e){return t?e?t+" "+e:t:e}function G1e(t,e,n,r,i,s){let o=t.textDirection==un.RTL,a=o,l=!1,c="top",u,d,h=e.left-i.left,m=i.right-e.right,y=r.right-r.left,v=r.bottom-r.top;if(a&&h<Math.min(y,m)?a=!1:!a&&m<Math.min(y,h)&&(a=!0),y<=(a?h:m))u=Math.max(i.top,Math.min(n.top,i.bottom-v))-e.top,d=Math.min(400,a?h:m);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=v||k>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let w=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/w}px; max-width: ${d/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function K1e(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let u=s[c++],d=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(u,d))),h.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Ok(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class X1e{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(or);this.optionContent=K1e(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Ok(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(or).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:xp.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=Ok(s.length,o,e.state.facet(or).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Ok(n.options.length,n.selected,this.view.state.facet(or).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>si(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Q1e(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(or).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let h=typeof c=="string"?c:c.name;if(h!=s&&(o>r.from||r.from==0))if(s=h,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=h}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let h of this.optionContent){let m=h(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Z1e(t,e){return n=>new X1e(n,t,e)}function Q1e(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function NI(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function J1e(t,e){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let d=typeof u=="string"?u:u.name;r.some(h=>h.name==d)||r.push(typeof u=="string"?{name:d}:u)}},s=e.facet(or);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)i(new SI(d,c.source,u?u(d):[],1e9-n.length));else{let d=e.sliceDoc(c.from,c.to),h,m=s.filterStrict?new Y1e(d):new q1e(d);for(let y of c.result.options)if(h=m.match(y.label)){let v=y.displayLabel?u?u(y,h.matched):[]:h.matched;i(new SI(y,c.source,v,h.score+(y.boost||0)))}}}if(r){let c=Object.create(null),u=0,d=(h,m)=>{var y,v;return((y=h.rank)!==null&&y!==void 0?y:1e9)-((v=m.rank)!==null&&v!==void 0?v:1e9)||(h.name<m.name?-1:1)};for(let h of r.sort(d))u-=1e5,c[h.name]=u;for(let h of n){let{section:m}=h.completion;m&&(h.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of n.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):NI(c.completion)>NI(a)&&(o[o.length-1]=c),a=c.completion}return o}class Du{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Du(this.options,TI(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=J1e(e,n);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(or).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Du(a,TI(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:ske,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Du(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Du(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class mx{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new mx(rke,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(or),s=(r.override||n.languageDataAt("autocomplete",fc(n)).map(U1e)).map(l=>(this.active.find(u=>u.source==l)||new Xi(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(m2));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!eke(s,this.active)||a?o=Du.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Xi(l.source,0):l));for(let l of e.effects)l.is(IW)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new mx(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?tke:nke}}function eke(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const tke={"aria-autocomplete":"list"},nke={};function TI(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const rke=[];function jW(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(DW);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Xi{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=jW(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Xi(i.source,0)),r&4&&i.state==0&&(i=new Xi(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(px))i=new Xi(i.source,1,s.value);else if(s.is(xp))i=new Xi(i.source,0);else if(s.is(m2))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(fc(e.state))}}class Zu extends Xi{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=fc(e.state);if(a>o||!i||n&2&&(fc(e.startState)==this.from||a<this.limit))return new Xi(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return ike(i.validFor,e.state,s,o)?new Zu(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new RW(e.state,a,!1)))?new Zu(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:fc(e.state)):new Xi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Zu(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Xi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function ike(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):OW(t,!0).test(i)}const m2=xt.define({map(t,e){return t.map(n=>n.map(e))}}),IW=xt.define(),ii=gr.define({create(){return mx.start()},update(t,e){return t.update(e)},provide:t=>[i2.from(t,e=>e.tooltip),je.contentAttributes.from(t,e=>e.attrs)]});function g2(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(ii).active.find(i=>i.source==e.source);return r instanceof Zu?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},H1e(t.state,n,r.from,r.to)),{annotations:DW.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const ske=Z1e(ii,g2);function Oy(t,e="option"){return n=>{let r=n.state.field(ii,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(or).interactionDelay)return!1;let i=1,s;e=="page"&&(s=S9(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:IW.of(a)}),!0}}const oke=t=>{let e=t.state.field(ii,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(or).interactionDelay?!1:g2(t,e.open.options[e.open.selected])},AI=t=>t.state.field(ii,!1)?(t.dispatch({effects:px.of(!0)}),!0):!1,ake=t=>{let e=t.state.field(ii,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:xp.of(null)}),!0)};class lke{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const cke=50,uke=1e3,dke=Mn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(ii).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(ii),n=t.state.facet(or);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ii)==e)return;let r=t.transactions.some(s=>{let o=jW(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>cke&&Date.now()-o.time>uke){for(let a of o.context.abortListeners)try{a()}catch(l){si(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(px)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(ii);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(or).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=fc(e),r=new RW(e,n,t.explicit,this.view),i=new lke(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:xp.of(null)}),si(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(or).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(or),r=this.view.state.field(ii);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=fc(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new Zu(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let u of s.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new Xi(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:m2.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(ii,!1);if(e&&e.tooltip&&this.view.state.facet(or).closeOnBlur){let n=e.open&&S9(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:xp.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:px.of(!1)}),20),this.composing=0}}}),fke=typeof navigator=="object"&&/Win/.test(navigator.platform),hke=Fc.highest(je.domEventHandlers({keydown(t,e){let n=e.state.field(ii,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(fke&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&g2(e,r),!1}})),pke=je.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),vp={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},oc=xt.define({map(t,e){let n=e.mapPos(t,-1,Vr.TrackAfter);return n??void 0}}),y2=new class extends wc{};y2.startSide=1;y2.endSide=-1;const LW=gr.define({create(){return Ft.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(oc)&&(t=t.update({add:[y2.range(n.value,n.value+1)]}));return t}});function mke(){return[yke,LW]}const Dk="()[]{}<>";function FW(t){for(let e=0;e<Dk.length;e+=2)if(Dk.charCodeAt(e)==t)return Dk.charAt(e+1);return WA(t<128?t:t+1)}function BW(t,e){return t.languageDataAt("closeBrackets",e)[0]||vp}const gke=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),yke=je.inputHandler.of((t,e,n,r)=>{if((gke?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Gs(ni(r,0))==1||e!=i.from||n!=i.to)return!1;let s=wke(t.state,r);return s?(t.dispatch(s),!0):!1}),xke=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=BW(t,t.selection.main.head).brackets||vp.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=bke(t.doc,o.head);for(let l of r)if(l==a&&Bv(t.doc,o.head)==FW(ni(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:ge.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},vke=[{key:"Backspace",run:xke}];function wke(t,e){let n=BW(t,t.selection.main.head),r=n.brackets||vp.brackets;for(let i of r){let s=FW(ni(i,0));if(e==i)return s==i?Cke(t,i,r.indexOf(i+i+i)>-1,n):kke(t,i,s,n.before||vp.before);if(e==s&&zW(t,t.selection.main.from))return Ske(t,i,s)}return null}function zW(t,e){let n=!1;return t.field(LW).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Bv(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Gs(ni(n,0)))}function bke(t,e){let n=t.sliceString(e-2,e);return Gs(ni(n,0))==n.length?n:n.slice(1)}function kke(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:oc.of(o.to+e.length),range:ge.range(o.anchor+e.length,o.head+e.length)};let a=Bv(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:oc.of(o.head+e.length),range:ge.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Ske(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Bv(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:ge.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Cke(t,e,n,r){let i=r.stringPrefixes||vp.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:oc.of(a.to+e.length),range:ge.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Bv(t.doc,l),u;if(c==e){if(_I(t,l))return{changes:{insert:e+e,from:l},effects:oc.of(l+e.length),range:ge.cursor(l+e.length)};if(zW(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:ge.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=MI(t,l-2*e.length,i))>-1&&_I(t,u))return{changes:{insert:e+e+e+e,from:l},effects:oc.of(l+e.length),range:ge.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=mn.Word&&MI(t,l,i)>-1&&!Eke(t,l,e,i))return{changes:{insert:e+e,from:l},effects:oc.of(l+e.length),range:ge.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function _I(t,e){let n=_r(t).resolveInner(e+1);return n.parent&&n.from==e}function Eke(t,e,n,r){let i=_r(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function MI(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=mn.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=mn.Word)return s}return-1}function Nke(t={}){return[hke,ii,or.of(t),dke,Tke,pke]}const $W=[{key:"Ctrl-Space",run:AI},{mac:"Alt-`",run:AI},{key:"Escape",run:ake},{key:"ArrowDown",run:Oy(!0)},{key:"ArrowUp",run:Oy(!1)},{key:"PageDown",run:Oy(!0,"page")},{key:"PageUp",run:Oy(!1,"page")},{key:"Enter",run:oke}],Tke=Fc.highest(Mv.computeN([or],t=>t.facet(or).defaultKeymap?[$W]:[]));class PI{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class nc{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(wp).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((d,h)=>d.from-h.from||d.to-h.to),a=new oa,l=[],c=0;for(let d=0;;){let h=d==o.length?null:o[d];if(!h&&!l.length)break;let m,y;for(l.length?(m=c,y=l.reduce((w,b)=>Math.min(w,b.to),h&&h.from>m?h.from:1e8)):(m=h.from,y=h.to,l.push(h),d++);d<o.length;){let w=o[d];if(w.from==m&&(w.to>w.from||w.to==m))l.push(w),d++,y=Math.min(w.to,y);else{y=Math.min(w.from,y);break}}let v=zke(l);if(l.some(w=>w.from==w.to||w.from==w.to-1&&r.doc.lineAt(w.from).to==w.from))a.add(m,m,Je.widget({widget:new Ike(v),diagnostics:l.slice()}));else{let w=l.reduce((b,k)=>k.markClass?b+" "+k.markClass:b,"");a.add(m,y,Je.mark({class:"cm-lintRange cm-lintRange-"+v+w,diagnostics:l.slice(),inclusiveEnd:l.some(b=>b.to>y)}))}c=y;for(let w=0;w<l.length;w++)l[w].to<=c&&l.splice(w--,1)}let u=a.finish();return new nc(u,n,xd(u))}}function xd(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new PI(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new PI(r.from,s,r.diagnostic)}}),r}function Ake(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(wp).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(VW))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function _ke(t,e){return t.field(Ci,!1)?e:e.concat(xt.appendConfig.of($ke))}const VW=xt.define(),x2=xt.define(),WW=xt.define(),Ci=gr.define({create(){return new nc(Je.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=xd(n,t.selected.diagnostic,s)||xd(n,null,s)}!n.size&&i&&e.state.facet(wp).autoPanel&&(i=null),t=new nc(n,i,r)}for(let n of e.effects)if(n.is(VW)){let r=e.state.facet(wp).autoPanel?n.value.length?bp.open:null:t.panel;t=nc.init(n.value,r,e.state)}else n.is(x2)?t=new nc(t.diagnostics,n.value?bp.open:null,t.selected):n.is(WW)&&(t=new nc(t.diagnostics,t.panel,n.value));return t},provide:t=>[pp.from(t,e=>e.panel),je.decorations.from(t,e=>e.diagnostics)]}),Mke=Je.mark({class:"cm-lintRange cm-lintRange-active"});function Pke(t,e,n){let{diagnostics:r}=t.state.field(Ci),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return i=u.diagnostics,s=l,o=c,!1});let a=t.state.facet(wp).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Rke(t,i)}}}:null}function Rke(t,e){return en("ul",{class:"cm-tooltip-lint"},e.map(n=>UW(t,n,!1)))}const Oke=t=>{let e=t.state.field(Ci,!1);(!e||!e.panel)&&t.dispatch({effects:_ke(t.state,[x2.of(!0)])});let n=hp(t,bp.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},RI=t=>{let e=t.state.field(Ci,!1);return!e||!e.panel?!1:(t.dispatch({effects:x2.of(!1)}),!0)},Dke=t=>{let e=t.state.field(Ci,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},jke=[{key:"Mod-Shift-m",run:Oke,preventDefault:!0},{key:"F8",run:Dke}],wp=Be.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},To(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function HW(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function UW(t,e,n){var r;let i=n?HW(e.actions):[];return en("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},en("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let m=xd(t.state.field(Ci).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,d=u<0?c:[c.slice(0,u),en("u",c.slice(u,u+1)),c.slice(u+1)];return en("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&en("div",{class:"cm-diagnosticSource"},e.source))}class Ike extends ma{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return en("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class OI{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=UW(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class bp{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)RI(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=HW(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=xd(this.view.state.field(Ci).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=en("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=en("div",{class:"cm-panel-lint"},this.list,en("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>RI(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ci).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Ci),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let d=-1,h;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==u){d=m;break}d<0?(h=new OI(this.view,u),this.items.splice(r,0,h),i=!0):(h=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),s=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new OI(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Ci),r=xd(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:WW.of(r)})}static open(e){return new bp(e)}}function Lke(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Dy(t){return Lke(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Fke=je.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Dy("#d11")},".cm-lintRange-warning":{backgroundImage:Dy("orange")},".cm-lintRange-info":{backgroundImage:Dy("#999")},".cm-lintRange-hint":{backgroundImage:Dy("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Bke(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function zke(t){let e="hint",n=1;for(let r of t){let i=Bke(r.severity);i>n&&(n=i,e=r.severity)}return e}const $ke=[Ci,je.decorations.compute([Ci],t=>{let{selected:e,panel:n}=t.field(Ci);return!e||!n||e.from==e.to?Je.none:Je.set([Mke.range(e.from,e.to)])}),Hve(Pke,{hideOn:Ake}),Fke];var DI=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(vke)),e.defaultKeymap!==!1&&(r=r.concat(f1e)),e.searchKeymap!==!1&&(r=r.concat(F1e)),e.historyKeymap!==!1&&(r=r.concat(bbe)),e.foldKeymap!==!1&&(r=r.concat(Awe)),e.completionKeymap!==!1&&(r=r.concat($W)),e.lintKeymap!==!1&&(r=r.concat(jke));var i=[];return e.lineNumbers!==!1&&i.push(twe()),e.highlightActiveLineGutter!==!1&&i.push(iwe()),e.highlightSpecialChars!==!1&&i.push(vve()),e.history!==!1&&i.push(fbe()),e.foldGutter!==!1&&i.push(Rwe()),e.drawSelection!==!1&&i.push(lve()),e.dropCursor!==!1&&i.push(hve()),e.allowMultipleSelections!==!1&&i.push(At.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(xwe()),e.syntaxHighlighting!==!1&&i.push(a2(Iwe,{fallback:!0})),e.bracketMatching!==!1&&i.push(Wwe()),e.closeBrackets!==!1&&i.push(mke()),e.autocompletion!==!1&&i.push(Nke()),e.rectangularSelection!==!1&&i.push(Ove()),n!==!1&&i.push(Ive()),e.highlightActiveLine!==!1&&i.push(Eve()),e.highlightSelectionMatches!==!1&&i.push(v1e()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Rv.of(" ".repeat(e.tabSize))),i.concat([Mv.of(r.flat())]).filter(Boolean)};const Vke="#e5c07b",jI="#e06c75",Wke="#56b6c2",Hke="#ffffff",f0="#abb2bf",tN="#7d8799",Uke="#61afef",qke="#98c379",II="#d19a66",Yke="#c678dd",Gke="#21252b",LI="#2c313a",FI="#282c34",jk="#353a42",Kke="#3E4451",BI="#528bff",Xke=je.theme({"&":{color:f0,backgroundColor:FI},".cm-content":{caretColor:BI},".cm-cursor, .cm-dropCursor":{borderLeftColor:BI},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Kke},".cm-panels":{backgroundColor:Gke,color:f0},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:FI,color:tN,border:"none"},".cm-activeLineGutter":{backgroundColor:LI},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:jk},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:jk,borderBottomColor:jk},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:LI,color:f0}}},{dark:!0}),Zke=Kd.define([{tag:re.keyword,color:Yke},{tag:[re.name,re.deleted,re.character,re.propertyName,re.macroName],color:jI},{tag:[re.function(re.variableName),re.labelName],color:Uke},{tag:[re.color,re.constant(re.name),re.standard(re.name)],color:II},{tag:[re.definition(re.name),re.separator],color:f0},{tag:[re.typeName,re.className,re.number,re.changed,re.annotation,re.modifier,re.self,re.namespace],color:Vke},{tag:[re.operator,re.operatorKeyword,re.url,re.escape,re.regexp,re.link,re.special(re.string)],color:Wke},{tag:[re.meta,re.comment],color:tN},{tag:re.strong,fontWeight:"bold"},{tag:re.emphasis,fontStyle:"italic"},{tag:re.strikethrough,textDecoration:"line-through"},{tag:re.link,color:tN,textDecoration:"underline"},{tag:re.heading,fontWeight:"bold",color:jI},{tag:[re.atom,re.bool,re.special(re.variableName)],color:II},{tag:[re.processingInstruction,re.string,re.inserted],color:qke},{tag:re.invalid,color:Hke}]),Qke=[Xke,a2(Zke)];var Jke=je.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),eSe=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(Mv.of([h1e])),a&&(typeof a=="boolean"?l.unshift(DI()):l.unshift(DI(a))),o&&l.unshift(_ve(o)),s){case"light":l.push(Jke);break;case"dark":l.push(Qke);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(je.editable.of(!1)),i&&l.push(At.readOnly.of(!0)),[...l]},tSe=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),zI=No.define(),nSe=[];function rSe(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=nSe,autoFocus:l,theme:c="light",height:u=null,minHeight:d=null,maxHeight:h=null,width:m=null,minWidth:y=null,maxWidth:v=null,placeholder:w="",editable:b=!0,readOnly:k=!1,indentWithTab:C=!0,basicSetup:N=!0,root:_,initialState:A}=t,[M,R]=S.useState(),[D,O]=S.useState(),[B,F]=S.useState(),W=je.theme({"&":{height:u,minHeight:d,maxHeight:h,width:m,minWidth:y,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),I=je.updateListener.of(G=>{if(G.docChanged&&typeof r=="function"&&!G.transactions.some(L=>L.annotation(zI))){var H=G.state.doc,$=H.toString();r($,G)}i&&i(tSe(G))}),Y=eSe({theme:c,editable:b,readOnly:k,placeholder:w,indentWithTab:C,basicSetup:N}),V=[I,W,...Y];return o&&typeof o=="function"&&V.push(je.updateListener.of(o)),V=V.concat(a),S.useEffect(()=>{if(M&&!B){var G={doc:e,selection:n,extensions:V},H=A?At.fromJSON(A.json,G,A.fields):At.create(G);if(F(H),!D){var $=new je({state:H,parent:M,root:_});O($),s&&s($,H)}}return()=>{D&&(F(void 0),O(void 0))}},[M,B]),S.useEffect(()=>R(t.container),[t.container]),S.useEffect(()=>()=>{D&&(D.destroy(),O(void 0))},[D]),S.useEffect(()=>{l&&D&&D.focus()},[l,D]),S.useEffect(()=>{D&&D.dispatch({effects:xt.reconfigure.of(V)})},[c,a,u,d,h,m,y,v,w,b,k,C,N,r,o]),S.useEffect(()=>{if(e!==void 0){var G=D?D.state.doc.toString():"";D&&e!==G&&D.dispatch({changes:{from:0,to:G.length,insert:e||""},annotations:[zI.of(!0)]})}},[e,D]),{state:B,setState:F,view:D,setView:O,container:M,setContainer:R}}var iSe=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],qW=S.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:d="light",height:h,minHeight:m,maxHeight:y,width:v,minWidth:w,maxWidth:b,basicSetup:k,placeholder:C,indentWithTab:N,editable:_,readOnly:A,root:M,initialState:R}=t,D=nbe(t,iSe),O=S.useRef(null),{state:B,view:F,container:W}=rSe({container:O.current,root:M,value:r,autoFocus:u,theme:d,height:h,minHeight:m,maxHeight:y,width:v,minWidth:w,maxWidth:b,basicSetup:k,placeholder:C,indentWithTab:N,editable:_,readOnly:A,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:s,initialState:R});if(S.useImperativeHandle(e,()=>({editor:O.current,state:B,view:F}),[O,W,B,F]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var I=typeof d=="string"?"cm-theme-"+d:"cm-theme";return g.jsx("div",gp({ref:O,className:""+I+(n?" "+n:"")},D))});qW.displayName="CodeMirror";const sSe=()=>S.useMemo(()=>W9({settings:{fontFamily:"var(--commit-mono)",fontSize:"0.8rem",foreground:"#030712",background:"#1a1a1a",gutterBackground:"#1a1a1a",gutterForeground:"#94A3B8",gutterBorder:"#1a1a1a",lineHighlight:"transparent"},styles:[{tag:[re.className,re.propertyName],color:"#22c5ee"}]}),[]),oSe=({data:t})=>{const e=JSON.stringify(t,null,2),n=sSe();return g.jsx("div",{className:"rounded-md bg-[#1a1a1a] p-1 font-mono",children:g.jsx(qW,{value:e,theme:n,extensions:[Xwe]})})};function YW(){var i,s,o,a,l,c,u;const{span:t}=S.useContext(Ps),e=t!=null&&t.endTime?Number(t==null?void 0:t.endTime)-Number(t==null?void 0:t.startTime):0,n=(i=t==null?void 0:t.name)==null?void 0:i.startsWith("ai."),r=Object.entries((t==null?void 0:t.attributes)||{}).filter(([d])=>Mye.includes(d)).reduce((d,[h,m])=>({...d,[h]:m}),{});return g.jsxs("div",{className:"flex flex-col gap-6 pb-20",children:[g.jsxs("div",{className:"flex items-center gap-2 px-6 pt-[1.56rem]",children:[g.jsx("span",{className:"rounded bg-[#314431] p-0.5",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.3726 2.10787C9.99493 1.48554 11.0066 1.48705 11.6274 2.10787L13.1306 3.61106C13.7529 4.23339 13.7514 5.24504 13.1306 5.86586L11.6274 7.36906C11.0051 7.99138 9.99342 7.98988 9.3726 7.36906L7.86941 5.86586C7.24708 5.24354 7.24858 4.23188 7.86941 3.61106L9.3726 2.10787ZM4.11141 7.36906C4.73374 6.74673 5.74539 6.74824 6.36621 7.36906L7.86941 8.87225C8.49173 9.49458 8.49023 10.5062 7.8694 11.127L6.36621 12.6302C5.74388 13.2526 4.73223 13.2511 4.11141 12.6302L2.60822 11.127C1.98589 10.5047 1.9874 9.49307 2.60822 8.87225L4.11141 7.36906ZM14.6338 7.36906C15.2561 6.74673 16.2678 6.74824 16.8886 7.36906L18.3918 8.87225C19.0141 9.49458 19.0126 10.5062 18.3918 11.127L16.8886 12.6302C16.2663 13.2526 15.2546 13.2511 14.6338 12.6302L13.1306 11.127C12.5083 10.5047 12.5098 9.49307 13.1306 8.87225L14.6338 7.36906ZM9.3726 12.6302C9.99493 12.0079 11.0066 12.0094 11.6274 12.6302L13.1306 14.1334C13.7529 14.7558 13.7514 15.7674 13.1306 16.3882L11.6274 17.8914C11.0051 18.5138 9.99342 18.5123 9.3726 17.8914L7.86941 16.3882C7.24708 15.7659 7.24859 14.7543 7.86941 14.1334L9.3726 12.6302Z",fill:"white"})})}),g.jsx("h3",{className:"text-[0.9rem] font-medium",children:t==null?void 0:t.name})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-1 px-6",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{className:"text-xs text-mastra-el-3",children:"Duration"}),g.jsxs("span",{className:"font-mono text-xs",children:[" ",e?FA(e):"","ms"]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{className:"text-xs text-mastra-el-3",children:"Time"}),g.jsx("span",{className:"font-mono text-xs",children:t!=null&&t.startTime?$6(t==null?void 0:t.startTime):""})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{className:"text-xs text-mastra-el-3",children:"Status"}),g.jsx("span",{className:ve("font-mono text-xs",((s=t==null?void 0:t.status)==null?void 0:s.code)==0?"text-[#6CD063]":"text-[#FF4500]"),children:((o=t==null?void 0:t.status)==null?void 0:o.code)==0?"OK":"ERROR"})]})]}),((a=t==null?void 0:t.status)==null?void 0:a.code)!==0?g.jsx("div",{className:"border-t-[0.5px] px-6 pt-4",children:t&&((l=t==null?void 0:t.events)==null?void 0:l.length)>0&&g.jsx($I,{span:t})}):null,g.jsx("div",{className:"border-t-[0.5px] px-6 pt-4",children:t&&g.jsx(aSe,{span:{...t,attributes:n?r:t==null?void 0:t.attributes}})}),((c=t==null?void 0:t.status)==null?void 0:c.code)===0?g.jsx("div",{className:"border-t-[0.5px] px-6 pt-4",children:t&&((u=t==null?void 0:t.events)==null?void 0:u.length)>0&&g.jsx($I,{span:t})}):null]})}function $I({span:t}){return t.events?g.jsxs("div",{className:"flex flex-col px-2",children:[g.jsx("p",{className:"text-lg",children:"Events"}),t.events.map(e=>{var r,i;const n=(r=e==null?void 0:e.attributes)==null?void 0:r.map(s=>({[s==null?void 0:s.key]:s==null?void 0:s.value}));return g.jsxs("div",{className:ve("flex flex-col gap-2 border-b-[0.5px] last:border-b-0 pt-4 pb-2 first:pb-4"),children:[g.jsx("p",{className:"text-xs text-mastra-el-3",children:"Name"}),g.jsx("p",{className:"font-mono text-xs",children:e.name}),g.jsx("p",{className:"text-xs text-mastra-el-3",children:"Time"}),g.jsx("p",{className:"font-mono text-xs",children:e.timeUnixNano?Tye(Number(e.timeUnixNano)):""}),((i=e.attributes)==null?void 0:i.length)>0?g.jsx(gx,{attributes:n}):null]},e.name)})]}):null}function aSe({span:t}){return t.attributes?g.jsx(gx,{attributes:t.attributes}):null}function gx({attributes:t,depth:e=0}){if(t===null||t===void 0)return null;if(typeof t=="string")try{const r=JSON.parse(t);if(typeof r=="object"||Array.isArray(r))return g.jsx(oSe,{data:r})}catch{return g.jsx("span",{className:"text-sm overflow-x-scroll",children:t?zD(t.toString()):"N/A"})}const n=t;if(Array.isArray(n))return n.length===0?null:g.jsx("div",{className:"relative",children:g.jsx("div",{className:"mt-1 gap-3",children:n.map((r,i)=>g.jsx("div",{className:"flex flex-col gap-1",children:g.jsx(gx,{attributes:r,depth:e+1},i)},i))})});if(typeof n=="object"){const r=Object.entries(n);return r.length===0?null:g.jsx("div",{className:"relative",children:g.jsx("div",{className:"mt-1",children:r.map(([i,s])=>g.jsxs("div",{className:"flex flex-col gap-2 p-2 pl-0",children:[g.jsx("span",{className:"text-sm capitalize text-mastra-el-3",children:Aye(i)}),g.jsx(gx,{attributes:s,depth:e+1})]},i))})})}return typeof n=="boolean"?g.jsx("span",{className:"font-mono text-sm",children:n.toString()||"N/A"}):typeof n=="number"?g.jsx("span",{className:"font-mono text-sm",children:n.toString()}):typeof n=="string"?g.jsx("span",{className:"font-mono text-sm",children:n?zD(n.toString()):"N/A"}):g.jsx("span",{className:"text-gray-400",children:String(n)})}function lSe({agentId:t,agentName:e}){const{traces:n,error:r,firstCallLoading:i}=V6(e),{isOpen:s}=S.useContext(Ps),{sidebarWidth:o,isDragging:a,handleMouseDown:l,containerRef:c}=Nv({defaultWidth:60,minimumWidth:50,maximumWidth:90});return i?g.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[g.jsx("div",{className:"h-full w-[calc(100%_-_400px)]",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"text-mastra-el-3",children:"Trace"}),g.jsxs(yt,{className:"text-mastra-el-3 flex items-center gap-1",children:[g.jsx(Vh,{className:"h-3 w-3"})," Trace Id"]}),g.jsx(yt,{className:"text-mastra-el-3",children:"Started"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Total Duration"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})})]})})]})}),g.jsx(Ik,{agentId:t})]}):!n||n.length===0?g.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[g.jsx("div",{className:"h-full w-[calc(100%_-_400px)]",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"text-mastra-el-3",children:"Trace"}),g.jsxs(yt,{className:"text-mastra-el-3 flex items-center gap-1",children:[g.jsx(Vh,{className:"h-3 w-3"})," Trace Id"]}),g.jsx(yt,{className:"text-mastra-el-3",children:"Started"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Total Duration"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:g.jsx(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:g.jsx(ot,{colSpan:4,className:"h-24 text-center",children:(r==null?void 0:r.message)||"No traces found"})})})]})}),g.jsx(Ik,{agentId:t})]}):g.jsxs("main",{className:"flex-1 relative overflow-hidden",ref:c,children:[g.jsx(W6,{traces:n}),g.jsx(Ik,{agentId:t,sidebarWidth:o,className:ve(s?"grid grid-cols-2 w-[60%]":""),isDragging:a,handleMouseDown:l})]})}function Ik({agentId:t,className:e,sidebarWidth:n,isDragging:r,handleMouseDown:i}){const{openDetail:s,isOpen:o}=S.useContext(Ps),{sidebarWidth:a,isDragging:l,handleMouseDown:c,containerRef:u}=Nv({defaultWidth:50,minimumWidth:30,maximumWidth:80});return g.jsxs("aside",{className:ve("absolute right-0 top-0 h-full w-[400px] z-20 overflow-x-scroll border-l-[0.5px] bg-mastra-bg-1",e),style:{width:o?`${n}%`:void 0},ref:u,children:[o?g.jsx("div",{className:`w-1 bg-mastra-border-1 h-full cursor-col-resize hover:w-2 hover:bg-mastra-border-2 active:bg-mastra-border-3 transition-colors absolute inset-y-0 -left-1 -right-1 z-10
          ${r?"bg-mastra-border-2 w-2 cursor-col-resize":""}`,onMouseDown:i}):null,o&&g.jsx("div",{className:"h-full overflow-x-scroll px-0 absolute left-0 top-0 min-w-[50%]",style:{width:`${100-a}%`},children:g.jsx(q6,{})}),g.jsxs("div",{className:"h-full overflow-y-hidden border-l-[0.5px] absolute right-0 top-0 z-20 bg-mastra-bg-1",style:{width:`${s?a:100}%`},children:[s?g.jsx("div",{className:`w-1 h-full bg-mastra-border-1 cursor-col-resize hover:w-2 hover:bg-mastra-border-2 active:bg-mastra-border-3 transition-colors absolute inset-y-0 -left-1 -right-1 z-10
            ${l?"bg-mastra-border-2 w-2 cursor-col-resize":""}`,onMouseDown:c}):null,g.jsx("div",{className:"h-full overflow-y-scroll",children:s?g.jsx(YW,{}):g.jsx(D0,{agentId:t})})]})]})}function cSe(){const{agentId:t}=fa(),{agent:e,isLoading:n}=Dc(t);return n?g.jsxs("main",{className:"flex-1 relative grid grid-cols-[1fr_400px] divide-x",children:[g.jsx("div",{className:"p-4",children:g.jsx(Ue,{className:"h-[600px]"})}),g.jsx("div",{className:"flex flex-col",children:g.jsx(D0,{agentId:t})})]}):g.jsx(z6,{children:g.jsx(lSe,{agentId:t,agentName:e==null?void 0:e.name})})}const GW=(t,e)=>t.anyOf.length?t.anyOf.length===1?ar(t.anyOf[0],{...e,path:[...e.path,"anyOf",0]}):`z.union([${t.anyOf.map((n,r)=>ar(n,{...e,path:[...e.path,"anyOf",r]})).join(", ")}])`:"z.any()",uSe=t=>"z.boolean()",dSe=t=>"z.any()",fSe=(t,e)=>`z.union([${t.type.map(n=>ar({...t,type:n},e)).join(", ")}])`,hSe=(t,e)=>`z.any().refine((value) => !${ar(t.not,{...e,path:[...e.path,"not"]})}.safeParse(value).success, "Invalid input: Should NOT be valid against schema")`,pSe=t=>"z.null()",mSe=t=>[t.slice(0,t.length/2),t.slice(t.length/2)],hh=Symbol("Original index"),gSe=t=>{let e=[];for(let n=0;n<t.length;n++){const r=t[n];if(typeof r=="boolean")e.push(r?{[hh]:n}:{[hh]:n,not:{}});else{if(hh in r)return t;e.push({...r,[hh]:n})}}return e};function yx(t,e){if(t.allOf.length===0)return"z.never()";if(t.allOf.length===1){const n=t.allOf[0];return ar(n,{...e,path:[...e.path,"allOf",n[hh]]})}else{const[n,r]=mSe(gSe(t.allOf));return`z.intersection(${yx({allOf:n},e)}, ${yx({allOf:r},e)})`}}function ir(t,e,n){var s;const r=t[e];let i="";if(r!==void 0){const o=n({value:r,json:JSON.stringify(r)});if(o){const a=o[0],l=o.length===3?o[1]:"",c=o.length===3?o[2]:o[1];i+=a,((s=t.errorMessage)==null?void 0:s[e])!==void 0&&(i+=l+JSON.stringify(t.errorMessage[e])),i+=c}}return i}const ySe=(t,e)=>{if(Array.isArray(t.items))return`z.tuple([${t.items.map((r,i)=>ar(r,{...e,path:[...e.path,"items",i]}))}])`;let n=t.items?`z.array(${ar(t.items,{...e,path:[...e.path,"items"]})})`:"z.array(z.any())";return n+=ir(t,"minItems",({json:r})=>[`.min(${r}`,", ",")"]),n+=ir(t,"maxItems",({json:r})=>[`.max(${r}`,", ",")"]),n},xSe=t=>`z.literal(${JSON.stringify(t.const)})`,vSe=t=>t.enum.length===0?"z.never()":t.enum.length===1?`z.literal(${JSON.stringify(t.enum[0])})`:t.enum.every(e=>typeof e=="string")?`z.enum([${t.enum.map(e=>JSON.stringify(e))}])`:`z.union([${t.enum.map(e=>`z.literal(${JSON.stringify(e)})`).join(", ")}])`,wSe=(t,e)=>{const n=ar(t.if,{...e,path:[...e.path,"if"]}),r=ar(t.then,{...e,path:[...e.path,"then"]}),i=ar(t.else,{...e,path:[...e.path,"else"]});return`z.union([${r}, ${i}]).superRefine((value,ctx) => {
  const result = ${n}.safeParse(value).success
    ? ${r}.safeParse(value)
    : ${i}.safeParse(value);
  if (!result.success) {
    result.error.errors.forEach((error) => ctx.addIssue(error))
  }
})`},bSe=t=>{let e="z.number()";return t.type==="integer"?e+=ir(t,"type",()=>[".int(",")"]):e+=ir(t,"format",({value:n})=>{if(n==="int64")return[".int(",")"]}),e+=ir(t,"multipleOf",({value:n,json:r})=>n===1?e.startsWith("z.number().int(")?void 0:[".int(",")"]:[`.multipleOf(${r}`,", ",")"]),typeof t.minimum=="number"?t.exclusiveMinimum===!0?e+=ir(t,"minimum",({json:n})=>[`.gt(${n}`,", ",")"]):e+=ir(t,"minimum",({json:n})=>[`.gte(${n}`,", ",")"]):typeof t.exclusiveMinimum=="number"&&(e+=ir(t,"exclusiveMinimum",({json:n})=>[`.gt(${n}`,", ",")"])),typeof t.maximum=="number"?t.exclusiveMaximum===!0?e+=ir(t,"maximum",({json:n})=>[`.lt(${n}`,", ",")"]):e+=ir(t,"maximum",({json:n})=>[`.lte(${n}`,", ",")"]):typeof t.exclusiveMaximum=="number"&&(e+=ir(t,"exclusiveMaximum",({json:n})=>[`.lt(${n}`,", ",")"])),e},KW=(t,e)=>t.oneOf.length?t.oneOf.length===1?ar(t.oneOf[0],{...e,path:[...e.path,"oneOf",0]}):`z.any().superRefine((x, ctx) => {
    const schemas = [${t.oneOf.map((n,r)=>ar(n,{...e,path:[...e.path,"oneOf",r]})).join(", ")}];
    const errors = schemas.reduce<z.ZodError[]>(
      (errors, schema) =>
        ((result) =>
          result.error ? [...errors, result.error] : errors)(
          schema.safeParse(x),
        ),
      [],
    );
    if (schemas.length - errors.length !== 1) {
      ctx.addIssue({
        path: ctx.path,
        code: "invalid_union",
        unionErrors: errors,
        message: "Invalid input: Should pass single schema",
      });
    }
  })`:"z.any()",XW=t=>{const e=t.split(`
`);return`/**${e.length===1?e[0]:`
${e.map(r=>`* ${r}`).join(`
`)}
`}*/
`},kSe=(t,e)=>{const n=t.description;return n?`
${XW(n)}${e}`:e};function SSe(t,e){let n;t.properties&&(Object.keys(t.properties).length?(n="z.object({ ",n+=Object.keys(t.properties).map(o=>{const a=t.properties[o];let l=`${JSON.stringify(o)}: ${ar(a,{...e,path:[...e.path,"properties",o]})}`;e.withJsdocs&&typeof a=="object"&&(l=kSe(a,l));const c=typeof a=="object"&&a.default!==void 0,u=Array.isArray(t.required)?t.required.includes(o):typeof a=="object"&&a.required===!0;return!c&&!u?`${l}.optional()`:l}).join(", "),n+=" })"):n="z.object({})");const r=t.additionalProperties!==void 0?ar(t.additionalProperties,{...e,path:[...e.path,"additionalProperties"]}):void 0;let i;if(t.patternProperties){const o=Object.fromEntries(Object.entries(t.patternProperties).map(([a,l])=>[a,ar(l,{...e,path:[...e.path,"patternProperties",a]})],{}));i="",n?r?i+=`.catchall(z.union([${[...Object.values(o),r].join(", ")}]))`:Object.keys(o).length>1?i+=`.catchall(z.union([${Object.values(o).join(", ")}]))`:i+=`.catchall(${Object.values(o)})`:r?i+=`z.record(z.union([${[...Object.values(o),r].join(", ")}]))`:Object.keys(o).length>1?i+=`z.record(z.union([${Object.values(o).join(", ")}]))`:i+=`z.record(${Object.values(o)})`,i+=`.superRefine((value, ctx) => {
`,i+=`for (const key in value) {
`,r&&(t.properties?i+=`let evaluated = [${Object.keys(t.properties).map(a=>JSON.stringify(a)).join(", ")}].includes(key)
`:i+=`let evaluated = false
`);for(const a in t.patternProperties)i+="if (key.match(new RegExp("+JSON.stringify(a)+`))) {
`,r&&(i+=`evaluated = true
`),i+="const result = "+o[a]+`.safeParse(value[key])
`,i+=`if (!result.success) {
`,i+=`ctx.addIssue({
          path: [...ctx.path, key],
          code: 'custom',
          message: \`Invalid input: Key matching regex /\${key}/ must match schema\`,
          params: {
            issues: result.error.issues
          }
        })
`,i+=`}
`,i+=`}
`;r&&(i+=`if (!evaluated) {
`,i+="const result = "+r+`.safeParse(value[key])
`,i+=`if (!result.success) {
`,i+=`ctx.addIssue({
          path: [...ctx.path, key],
          code: 'custom',
          message: \`Invalid input: must match catchall schema\`,
          params: {
            issues: result.error.issues
          }
        })
`,i+=`}
`,i+=`}
`),i+=`}
`,i+="})"}let s=n?i?n+i:r?r==="z.never()"?n+".strict()":n+`.catchall(${r})`:n:i||(r?`z.record(${r})`:"z.record(z.any())");return Kn.an.anyOf(t)&&(s+=`.and(${GW({...t,anyOf:t.anyOf.map(o=>typeof o=="object"&&!o.type&&(o.properties||o.additionalProperties||o.patternProperties)?{...o,type:"object"}:o)},e)})`),Kn.a.oneOf(t)&&(s+=`.and(${KW({...t,oneOf:t.oneOf.map(o=>typeof o=="object"&&!o.type&&(o.properties||o.additionalProperties||o.patternProperties)?{...o,type:"object"}:o)},e)})`),Kn.an.allOf(t)&&(s+=`.and(${yx({...t,allOf:t.allOf.map(o=>typeof o=="object"&&!o.type&&(o.properties||o.additionalProperties||o.patternProperties)?{...o,type:"object"}:o)},e)})`),s}const CSe=t=>{let e="z.string()";e+=ir(t,"format",({value:r})=>{switch(r){case"email":return[".email(",")"];case"ip":return[".ip(",")"];case"ipv4":return['.ip({ version: "v4"',", message: "," })"];case"ipv6":return['.ip({ version: "v6"',", message: "," })"];case"uri":return[".url(",")"];case"uuid":return[".uuid(",")"];case"date-time":return[".datetime({ offset: true",", message: "," })"];case"time":return[".time(",")"];case"date":return[".date(",")"];case"binary":return[".base64(",")"];case"duration":return[".duration(",")"]}}),e+=ir(t,"pattern",({json:r})=>[`.regex(new RegExp(${r})`,", ",")"]),e+=ir(t,"minLength",({json:r})=>[`.min(${r}`,", ",")"]),e+=ir(t,"maxLength",({json:r})=>[`.max(${r}`,", ",")"]),e+=ir(t,"contentEncoding",({value:r})=>{if(r==="base64")return[".base64(",")"]});const n=ir(t,"contentMediaType",({value:r})=>{if(r==="application/json")return['.transform((str, ctx) => { try { return JSON.parse(str); } catch (err) { ctx.addIssue({ code: "custom", message: "Invalid JSON" }); }}',", ",")"]});return n!=""&&(e+=n,e+=ir(t,"contentSchema",({value:r})=>{if(r&&r instanceof Object)return[`.pipe(${ar(r)}`,", ",")"]})),e},ESe=(t,...e)=>Object.keys(t).reduce((n,r)=>(e.includes(r)||(n[r]=t[r]),n),{}),NSe=(t,e)=>`${ar(ESe(t,"nullable"),e,!0)}.nullable()`,ar=(t,e={seen:new Map,path:[]},n)=>{if(typeof t!="object")return t?"z.any()":"z.never()";if(e.parserOverride){const s=e.parserOverride(t,e);if(typeof s=="string")return s}let r=e.seen.get(t);if(r){if(r.r!==void 0)return r.r;if(e.depth===void 0||r.n>=e.depth)return"z.any()";r.n+=1}else r={r:void 0,n:0},e.seen.set(t,r);let i=MSe(t,e);return n||(e.withoutDescribes||(i=TSe(t,i)),e.withoutDefaults||(i=ASe(t,i)),i=_Se(t,i)),r.r=i,i},TSe=(t,e)=>(t.description&&(e+=`.describe(${JSON.stringify(t.description)})`),e),ASe=(t,e)=>(t.default!==void 0&&(e+=`.default(${JSON.stringify(t.default)})`),e),_Se=(t,e)=>(t.readOnly&&(e+=".readonly()"),e),MSe=(t,e)=>Kn.a.nullable(t)?NSe(t,e):Kn.an.object(t)?SSe(t,e):Kn.an.array(t)?ySe(t,e):Kn.an.anyOf(t)?GW(t,e):Kn.an.allOf(t)?yx(t,e):Kn.a.oneOf(t)?KW(t,e):Kn.a.not(t)?hSe(t,e):Kn.an.enum(t)?vSe(t):Kn.a.const(t)?xSe(t):Kn.a.multipleType(t)?fSe(t,e):Kn.a.primitive(t,"string")?CSe(t):Kn.a.primitive(t,"number")||Kn.a.primitive(t,"integer")?bSe(t):Kn.a.primitive(t,"boolean")?uSe():Kn.a.primitive(t,"null")?pSe():Kn.a.conditional(t)?wSe(t,e):dSe(),Kn={an:{object:t=>t.type==="object",array:t=>t.type==="array",anyOf:t=>t.anyOf!==void 0,allOf:t=>t.allOf!==void 0,enum:t=>t.enum!==void 0},a:{nullable:t=>t.nullable===!0,multipleType:t=>Array.isArray(t.type),not:t=>t.not!==void 0,const:t=>t.const!==void 0,primitive:(t,e)=>t.type===e,conditional:t=>!!("if"in t&&t.if&&"then"in t&&"else"in t&&t.then&&t.else),oneOf:t=>t.oneOf!==void 0}},v2=(t,{module:e,name:n,type:r,noImport:i,...s}={})=>{if(r&&(!n||e!=="esm"))throw new Error("Option `type` requires `name` to be set and `module` to be `esm`");let o=ar(t,{module:e,name:n,path:[],seen:new Map,...s});const a=s.withJsdocs&&typeof t!="boolean"&&t.description?XW(t.description):"";if(e==="cjs"?(o=`${a}module.exports = ${n?`{ ${JSON.stringify(n)}: ${o} }`:o}
`,i||(o=`${a}const { z } = require("zod")

${o}`)):e==="esm"?(o=`${a}export ${n?`const ${n} =`:"default"} ${o}
`,i||(o=`import { z } from "zod"

${o}`)):n&&(o=`${a}const ${n} = ${o}`),r&&n){let l=typeof r=="string"?r:`${n[0].toUpperCase()}${n.substring(1)}`;o+=`export type ${l} = z.infer<typeof ${n}>
`}return o};class PSe{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,n){this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class ZW{constructor(e){this.generateIdentifier=e,this.kv=new PSe}register(e,n){this.kv.getByValue(e)||(n||(n=this.generateIdentifier(e)),this.kv.set(n,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class RSe extends ZW{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),super.register(e,n.identifier)):super.register(e,n)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function OSe(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function DSe(t,e){const n=OSe(t);if("find"in n)return n.find(e);const r=n;for(let i=0;i<r.length;i++){const s=r[i];if(e(s))return s}}function vd(t,e){Object.entries(t).forEach(([n,r])=>e(r,n))}function h0(t,e){return t.indexOf(e)!==-1}function VI(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e(r))return r}}class jSe{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return DSe(this.transfomers,n=>n.isApplicable(e))}findByName(e){return this.transfomers[e]}}const ISe=t=>Object.prototype.toString.call(t).slice(8,-1),QW=t=>typeof t>"u",LSe=t=>t===null,kp=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,nN=t=>kp(t)&&Object.keys(t).length===0,vl=t=>Array.isArray(t),FSe=t=>typeof t=="string",BSe=t=>typeof t=="number"&&!isNaN(t),zSe=t=>typeof t=="boolean",$Se=t=>t instanceof RegExp,Sp=t=>t instanceof Map,Cp=t=>t instanceof Set,JW=t=>ISe(t)==="Symbol",VSe=t=>t instanceof Date&&!isNaN(t.valueOf()),WSe=t=>t instanceof Error,WI=t=>typeof t=="number"&&isNaN(t),HSe=t=>zSe(t)||LSe(t)||QW(t)||BSe(t)||FSe(t)||JW(t),USe=t=>typeof t=="bigint",qSe=t=>t===1/0||t===-1/0,YSe=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),GSe=t=>t instanceof URL,e7=t=>t.replace(/\./g,"\\."),Lk=t=>t.map(String).map(e7).join("."),Dh=t=>{const e=[];let n="";for(let i=0;i<t.length;i++){let s=t.charAt(i);if(s==="\\"&&t.charAt(i+1)==="."){n+=".",i++;continue}if(s==="."){e.push(n),n="";continue}n+=s}const r=n;return e.push(r),e};function Vs(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const t7=[Vs(QW,"undefined",()=>null,()=>{}),Vs(USe,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),Vs(VSe,"Date",t=>t.toISOString(),t=>new Date(t)),Vs(WSe,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n}),Vs($Se,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),Vs(Cp,"set",t=>[...t.values()],t=>new Set(t)),Vs(Sp,"map",t=>[...t.entries()],t=>new Map(t)),Vs(t=>WI(t)||qSe(t),"number",t=>WI(t)?"NaN":t>0?"Infinity":"-Infinity",Number),Vs(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),Vs(GSe,"URL",t=>t.toString(),t=>new URL(t))];function zv(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}const n7=zv((t,e)=>JW(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const r=n.symbolRegistry.getValue(e[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),KSe=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),r7=zv(YSe,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=KSe[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function i7(t,e){return t!=null&&t.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}const s7=zv(i7,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const r={};return n.forEach(i=>{r[i]=t[i]}),r},(t,e,n)=>{const r=n.classRegistry.getValue(e[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),t)}),o7=zv((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const r=n.customTransformerRegistry.findByName(e[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(t)}),XSe=[s7,n7,o7,r7],HI=(t,e)=>{const n=VI(XSe,i=>i.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const r=VI(t7,i=>i.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation}},a7={};t7.forEach(t=>{a7[t.annotation]=t});const ZSe=(t,e,n)=>{if(vl(e))switch(e[0]){case"symbol":return n7.untransform(t,e,n);case"class":return s7.untransform(t,e,n);case"custom":return o7.untransform(t,e,n);case"typed-array":return r7.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const r=a7[e];if(!r)throw new Error("Unknown transformation: "+e);return r.untransform(t,n)}},ju=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function l7(t){if(h0(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(h0(t,"prototype"))throw new Error("prototype is not allowed as a property");if(h0(t,"constructor"))throw new Error("constructor is not allowed as a property")}const QSe=(t,e)=>{l7(e);for(let n=0;n<e.length;n++){const r=e[n];if(Cp(t))t=ju(t,+r);else if(Sp(t)){const i=+r,s=+e[++n]==0?"key":"value",o=ju(t,i);switch(s){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[r]}return t},rN=(t,e,n)=>{if(l7(e),e.length===0)return n(t);let r=t;for(let s=0;s<e.length-1;s++){const o=e[s];if(vl(r)){const a=+o;r=r[a]}else if(kp(r))r=r[o];else if(Cp(r)){const a=+o;r=ju(r,a)}else if(Sp(r)){if(s===e.length-2)break;const l=+o,c=+e[++s]==0?"key":"value",u=ju(r,l);switch(c){case"key":r=u;break;case"value":r=r.get(u);break}}}const i=e[e.length-1];if(vl(r)?r[+i]=n(r[+i]):kp(r)&&(r[i]=n(r[i])),Cp(r)){const s=ju(r,+i),o=n(s);s!==o&&(r.delete(s),r.add(o))}if(Sp(r)){const s=+e[e.length-2],o=ju(r,s);switch(+i==0?"key":"value"){case"key":{const l=n(o);r.set(l,r.get(o)),l!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return t};function iN(t,e,n=[]){if(!t)return;if(!vl(t)){vd(t,(s,o)=>iN(s,e,[...n,...Dh(o)]));return}const[r,i]=t;i&&vd(i,(s,o)=>{iN(s,e,[...n,...Dh(o)])}),e(r,n)}function JSe(t,e,n){return iN(e,(r,i)=>{t=rN(t,i,s=>ZSe(s,r,n))}),t}function eCe(t,e){function n(r,i){const s=QSe(t,Dh(i));r.map(Dh).forEach(o=>{t=rN(t,o,()=>s)})}if(vl(e)){const[r,i]=e;r.forEach(s=>{t=rN(t,Dh(s),()=>t)}),i&&vd(i,n)}else vd(e,n);return t}const tCe=(t,e)=>kp(t)||vl(t)||Sp(t)||Cp(t)||i7(t,e);function nCe(t,e,n){const r=n.get(t);r?r.push(e):n.set(t,[e])}function rCe(t,e){const n={};let r;return t.forEach(i=>{if(i.length<=1)return;e||(i=i.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[s,...o]=i;s.length===0?r=o.map(Lk):n[Lk(s)]=o.map(Lk)}),r?nN(n)?[r]:[r,n]:nN(n)?void 0:n}const c7=(t,e,n,r,i=[],s=[],o=new Map)=>{const a=HSe(t);if(!a){nCe(t,i,e);const m=o.get(t);if(m)return r?{transformedValue:null}:m}if(!tCe(t,n)){const m=HI(t,n),y=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:t};return a||o.set(t,y),y}if(h0(s,t))return{transformedValue:null};const l=HI(t,n),c=(l==null?void 0:l.value)??t,u=vl(c)?[]:{},d={};vd(c,(m,y)=>{if(y==="__proto__"||y==="constructor"||y==="prototype")throw new Error(`Detected property ${y}. This is a prototype pollution risk, please remove it from your object.`);const v=c7(m,e,n,r,[...i,y],[...s,t],o);u[y]=v.transformedValue,vl(v.annotations)?d[y]=v.annotations:kp(v.annotations)&&vd(v.annotations,(w,b)=>{d[e7(y)+"."+b]=w})});const h=nN(d)?{transformedValue:u,annotations:l?[l.type]:void 0}:{transformedValue:u,annotations:l?[l.type,d]:d};return a||o.set(t,h),h};function u7(t){return Object.prototype.toString.call(t).slice(8,-1)}function UI(t){return u7(t)==="Array"}function iCe(t){if(u7(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function sCe(t,e,n,r,i){const s={}.propertyIsEnumerable.call(r,e)?"enumerable":"nonenumerable";s==="enumerable"&&(t[e]=n),i&&s==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function sN(t,e={}){if(UI(t))return t.map(i=>sN(i,e));if(!iCe(t))return t;const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);return[...n,...r].reduce((i,s)=>{if(UI(e.props)&&!e.props.includes(s))return i;const o=t[s],a=sN(o,e);return sCe(i,s,a,t,e.nonenumerable),i},{})}class Zt{constructor({dedupe:e=!1}={}){this.classRegistry=new RSe,this.symbolRegistry=new ZW(n=>n.description??""),this.customTransformerRegistry=new jSe,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const n=new Map,r=c7(e,n,this,this.dedupe),i={json:r.transformedValue};r.annotations&&(i.meta={...i.meta,values:r.annotations});const s=rCe(n,this.dedupe);return s&&(i.meta={...i.meta,referentialEqualities:s}),i}deserialize(e){const{json:n,meta:r}=e;let i=sN(n);return r!=null&&r.values&&(i=JSe(i,r.values,this)),r!=null&&r.referentialEqualities&&(i=eCe(i,r.referentialEqualities)),i}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,n){this.classRegistry.register(e,n)}registerSymbol(e,n){this.symbolRegistry.register(e,n)}registerCustom(e,n){this.customTransformerRegistry.register({name:n,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Zt.defaultInstance=new Zt;Zt.serialize=Zt.defaultInstance.serialize.bind(Zt.defaultInstance);Zt.deserialize=Zt.defaultInstance.deserialize.bind(Zt.defaultInstance);Zt.stringify=Zt.defaultInstance.stringify.bind(Zt.defaultInstance);Zt.parse=Zt.defaultInstance.parse.bind(Zt.defaultInstance);Zt.registerClass=Zt.defaultInstance.registerClass.bind(Zt.defaultInstance);Zt.registerSymbol=Zt.defaultInstance.registerSymbol.bind(Zt.defaultInstance);Zt.registerCustom=Zt.defaultInstance.registerCustom.bind(Zt.defaultInstance);Zt.allowErrorProps=Zt.defaultInstance.allowErrorProps.bind(Zt.defaultInstance);const w2=Zt.parse;var Mt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Mt||(Mt={}));var oN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(oN||(oN={}));const Fe=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ho=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Ne=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oCe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class _i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof _i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_i.create=t=>new _i(t);const wd=(t,e)=>{let n;switch(t.code){case Ne.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Mt.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Mt.joinValues(t.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Mt.joinValues(t.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${Mt.joinValues(t.options)}, received '${t.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Mt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,Mt.assertNever(t)}return{message:n}};let d7=wd;function aCe(t){d7=t}function xx(){return d7}const vx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},lCe=[];function De(t,e){const n=xx(),r=vx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===wd?void 0:wd].filter(i=>!!i)});t.common.issues.push(r)}class Mr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ut;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Mr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ut;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ut=Object.freeze({status:"aborted"}),Iu=t=>({status:"dirty",value:t}),Ur=t=>({status:"valid",value:t}),aN=t=>t.status==="aborted",lN=t=>t.status==="dirty",Ec=t=>t.status==="valid",Ep=t=>typeof Promise<"u"&&t instanceof Promise;function wx(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function f7(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ge||(Ge={}));var ph,mh;class xo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qI=(t,e)=>{if(Ec(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _i(t.common.issues);return this._error=n,this._error}}};function vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class bt{get description(){return this._def.description}_getType(e){return Ho(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ho(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Mr,ctx:{common:e.parent.common,data:e.data,parsedType:Ho(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ep(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)},s=this._parseSync({data:e,path:i.path,parent:i});return qI(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Ec(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Ec(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ep(i)?i:Promise.resolve(i));return qI(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ne.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ts({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ao.create(this,this._def)}nullable(){return kl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mi.create(this)}promise(){return Cd.create(this,this._def)}or(e){return Nc.create([this,e],this._def)}and(e){return Ap.create(this,e,this._def)}transform(e){return new Ts({...vt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Rp({...vt(this._def),innerType:this,defaultValue:n,typeName:ct.ZodDefault})}brand(){return new b2({typeName:ct.ZodBranded,type:this,...vt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Op({...vt(this._def),innerType:this,catchValue:n,typeName:ct.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return km.create(this,e)}readonly(){return Dp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cCe=/^c[^\s-]{8,}$/i,uCe=/^[0-9a-z]+$/,dCe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hCe=/^[a-z0-9_-]{21}$/i,pCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fk;const xCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SCe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,h7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CCe=new RegExp(`^${h7}$`);function p7(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ECe(t){return new RegExp(`^${p7(t)}$`)}function m7(t){let e=`${h7}T${p7(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function NCe(t,e){return!!((e==="v4"||!e)&&xCe.test(t)||(e==="v6"||!e)&&wCe.test(t))}function TCe(t,e){if(!pCe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function ACe(t,e){return!!((e==="v4"||!e)&&vCe.test(t)||(e==="v6"||!e)&&bCe.test(t))}class xs extends bt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const s=this._getOrReturnCtx(e);return De(s,{code:Ne.invalid_type,expected:Fe.string,received:s.parsedType}),ut}const r=new Mr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?De(i,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&De(i,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")gCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"email",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Fk||(Fk=new RegExp(yCe,"u")),Fk.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"emoji",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")fCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"uuid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")hCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"nanoid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")cCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cuid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")uCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cuid2",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")dCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"ulid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),De(i,{validation:"url",code:Ne.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"regex",code:Ne.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?m7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?CCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?ECe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?mCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"duration",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?NCe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"ip",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?TCe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"jwt",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?ACe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cidr",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?kCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"base64",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?SCe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"base64url",code:Ne.invalid_string,message:s.message}),r.dirty()):Mt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ne.invalid_string,...Ge.errToObj(r)})}_addCheck(e){return new xs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ge.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ge.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ge.errToObj(n)})}nonempty(e){return this.min(1,Ge.errToObj(e))}trim(){return new xs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xs.create=t=>{var e;return new xs({checks:[],typeName:ct.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};function _Ce(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ca extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const s=this._getOrReturnCtx(e);return De(s,{code:Ne.invalid_type,expected:Fe.number,received:s.parsedType}),ut}let r;const i=new Mr;for(const s of this._def.checks)s.kind==="int"?Mt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?_Ce(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.not_finite,message:s.message}),i.dirty()):Mt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ge.toString(n))}setLimit(e,n,r,i){return new ca({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ge.toString(i)}]})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ca.create=t=>new ca({checks:[],typeName:ct.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class wl extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const i=new Mr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Mt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return De(n,{code:Ne.invalid_type,expected:Fe.bigint,received:n.parsedType}),ut}gte(e,n){return this.setLimit("min",e,!0,Ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ge.toString(n))}setLimit(e,n,r,i){return new wl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ge.toString(i)}]})}_addCheck(e){return new wl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wl.create=t=>{var e;return new wl({checks:[],typeName:ct.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};class bd extends bt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return De(r,{code:Ne.invalid_type,expected:Fe.boolean,received:r.parsedType}),ut}return Ur(e.data)}}bd.create=t=>new bd({typeName:ct.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class bl extends bt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const s=this._getOrReturnCtx(e);return De(s,{code:Ne.invalid_type,expected:Fe.date,received:s.parsedType}),ut}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return De(s,{code:Ne.invalid_date}),ut}const r=new Mr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ne.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Mt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}bl.create=t=>new bl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ct.ZodDate,...vt(t)});class bx extends bt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return De(r,{code:Ne.invalid_type,expected:Fe.symbol,received:r.parsedType}),ut}return Ur(e.data)}}bx.create=t=>new bx({typeName:ct.ZodSymbol,...vt(t)});class Np extends bt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return De(r,{code:Ne.invalid_type,expected:Fe.undefined,received:r.parsedType}),ut}return Ur(e.data)}}Np.create=t=>new Np({typeName:ct.ZodUndefined,...vt(t)});class Tp extends bt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return De(r,{code:Ne.invalid_type,expected:Fe.null,received:r.parsedType}),ut}return Ur(e.data)}}Tp.create=t=>new Tp({typeName:ct.ZodNull,...vt(t)});class kd extends bt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ur(e.data)}}kd.create=t=>new kd({typeName:ct.ZodAny,...vt(t)});class hc extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ur(e.data)}}hc.create=t=>new hc({typeName:ct.ZodUnknown,...vt(t)});class ua extends bt{_parse(e){const n=this._getOrReturnCtx(e);return De(n,{code:Ne.invalid_type,expected:Fe.never,received:n.parsedType}),ut}}ua.create=t=>new ua({typeName:ct.ZodNever,...vt(t)});class kx extends bt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return De(r,{code:Ne.invalid_type,expected:Fe.void,received:r.parsedType}),ut}return Ur(e.data)}}kx.create=t=>new kx({typeName:ct.ZodVoid,...vt(t)});class Mi extends bt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Fe.array)return De(n,{code:Ne.invalid_type,expected:Fe.array,received:n.parsedType}),ut;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(De(n,{code:o?Ne.too_big:Ne.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(De(n,{code:Ne.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(De(n,{code:Ne.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new xo(n,o,n.path,a)))).then(o=>Mr.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new xo(n,o,n.path,a)));return Mr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Mi({...this._def,minLength:{value:e,message:Ge.toString(n)}})}max(e,n){return new Mi({...this._def,maxLength:{value:e,message:Ge.toString(n)}})}length(e,n){return new Mi({...this._def,exactLength:{value:e,message:Ge.toString(n)}})}nonempty(e){return this.min(1,e)}}Mi.create=(t,e)=>new Mi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...vt(e)});function Eu(t){if(t instanceof bn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ao.create(Eu(r))}return new bn({...t._def,shape:()=>e})}else return t instanceof Mi?new Mi({...t._def,type:Eu(t.element)}):t instanceof ao?ao.create(Eu(t.unwrap())):t instanceof kl?kl.create(Eu(t.unwrap())):t instanceof vo?vo.create(t.items.map(e=>Eu(e))):t}class bn extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Mt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Fe.object){const c=this._getOrReturnCtx(e);return De(c,{code:Ne.invalid_type,expected:Fe.object,received:c.parsedType}),ut}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ua&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new xo(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ua){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(De(i,{code:Ne.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new xo(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Mr.mergeObjectSync(r,c)):Mr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ge.errToObj,new bn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ge.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new bn({...this._def,unknownKeys:"strip"})}passthrough(){return new bn({...this._def,unknownKeys:"passthrough"})}extend(e){return new bn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new bn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ct.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new bn({...this._def,catchall:e})}pick(e){const n={};return Mt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new bn({...this._def,shape:()=>n})}omit(e){const n={};return Mt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new bn({...this._def,shape:()=>n})}deepPartial(){return Eu(this)}partial(e){const n={};return Mt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new bn({...this._def,shape:()=>n})}required(e){const n={};return Mt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ao;)s=s._def.innerType;n[r]=s}}),new bn({...this._def,shape:()=>n})}keyof(){return g7(Mt.objectKeys(this.shape))}}bn.create=(t,e)=>new bn({shape:()=>t,unknownKeys:"strip",catchall:ua.create(),typeName:ct.ZodObject,...vt(e)});bn.strictCreate=(t,e)=>new bn({shape:()=>t,unknownKeys:"strict",catchall:ua.create(),typeName:ct.ZodObject,...vt(e)});bn.lazycreate=(t,e)=>new bn({shape:t,unknownKeys:"strip",catchall:ua.create(),typeName:ct.ZodObject,...vt(e)});class Nc extends bt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new _i(a.ctx.common.issues));return De(n,{code:Ne.invalid_union,unionErrors:o}),ut}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new _i(l));return De(n,{code:Ne.invalid_union,unionErrors:a}),ut}}get options(){return this._def.options}}Nc.create=(t,e)=>new Nc({options:t,typeName:ct.ZodUnion,...vt(e)});const Vo=t=>t instanceof Mp?Vo(t.schema):t instanceof Ts?Vo(t.innerType()):t instanceof Sd?[t.value]:t instanceof wo?t.options:t instanceof Pp?Mt.objectValues(t.enum):t instanceof Rp?Vo(t._def.innerType):t instanceof Np?[void 0]:t instanceof Tp?[null]:t instanceof ao?[void 0,...Vo(t.unwrap())]:t instanceof kl?[null,...Vo(t.unwrap())]:t instanceof b2||t instanceof Dp?Vo(t.unwrap()):t instanceof Op?Vo(t._def.innerType):[];class $v extends bt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.object)return De(n,{code:Ne.invalid_type,expected:Fe.object,received:n.parsedType}),ut;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(De(n,{code:Ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Vo(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new $v({typeName:ct.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...vt(r)})}}function cN(t,e){const n=Ho(t),r=Ho(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const i=Mt.objectKeys(e),s=Mt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=cN(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=cN(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ap extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(aN(s)||aN(o))return ut;const a=cN(s.value,o.value);return a.valid?((lN(s)||lN(o))&&n.dirty(),{status:n.value,value:a.data}):(De(r,{code:Ne.invalid_intersection_types}),ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ap.create=(t,e,n)=>new Ap({left:t,right:e,typeName:ct.ZodIntersection,...vt(n)});class vo extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return De(r,{code:Ne.invalid_type,expected:Fe.array,received:r.parsedType}),ut;if(r.data.length<this._def.items.length)return De(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&r.data.length>this._def.items.length&&(De(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new xo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Mr.mergeArray(n,o)):Mr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new vo({...this._def,rest:e})}}vo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vo({items:t,typeName:ct.ZodTuple,rest:null,...vt(e)})};class _p extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.object)return De(r,{code:Ne.invalid_type,expected:Fe.object,received:r.parsedType}),ut;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new xo(r,a,r.path,a)),value:o._parse(new xo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Mr.mergeObjectAsync(n,i):Mr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof bt?new _p({keyType:e,valueType:n,typeName:ct.ZodRecord,...vt(r)}):new _p({keyType:xs.create(),valueType:e,typeName:ct.ZodRecord,...vt(n)})}}class Sx extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return De(r,{code:Ne.invalid_type,expected:Fe.map,received:r.parsedType}),ut;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new xo(r,a,r.path,[c,"key"])),value:s._parse(new xo(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ut;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ut;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Sx.create=(t,e,n)=>new Sx({valueType:e,keyType:t,typeName:ct.ZodMap,...vt(n)});class Tc extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return De(r,{code:Ne.invalid_type,expected:Fe.set,received:r.parsedType}),ut;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(De(r,{code:Ne.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(De(r,{code:Ne.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ut;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new xo(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Tc({...this._def,minSize:{value:e,message:Ge.toString(n)}})}max(e,n){return new Tc({...this._def,maxSize:{value:e,message:Ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Tc.create=(t,e)=>new Tc({valueType:t,minSize:null,maxSize:null,typeName:ct.ZodSet,...vt(e)});class Qu extends bt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.function)return De(n,{code:Ne.invalid_type,expected:Fe.function,received:n.parsedType}),ut;function r(a,l){return vx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xx(),wd].filter(c=>!!c),issueData:{code:Ne.invalid_arguments,argumentsError:l}})}function i(a,l){return vx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xx(),wd].filter(c=>!!c),issueData:{code:Ne.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Cd){const a=this;return Ur(async function(...l){const c=new _i([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw c.addIssue(i(d,m)),c})})}else{const a=this;return Ur(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new _i([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new _i([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qu({...this._def,args:vo.create(e).rest(hc.create())})}returns(e){return new Qu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Qu({args:e||vo.create([]).rest(hc.create()),returns:n||hc.create(),typeName:ct.ZodFunction,...vt(r)})}}class Mp extends bt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mp.create=(t,e)=>new Mp({getter:t,typeName:ct.ZodLazy,...vt(e)});class Sd extends bt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return De(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sd.create=(t,e)=>new Sd({value:t,typeName:ct.ZodLiteral,...vt(e)});function g7(t,e){return new wo({values:t,typeName:ct.ZodEnum,...vt(e)})}class wo extends bt{constructor(){super(...arguments),ph.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return De(n,{expected:Mt.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),ut}if(wx(this,ph)||f7(this,ph,new Set(this._def.values)),!wx(this,ph).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return De(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),ut}return Ur(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return wo.create(e,{...this._def,...n})}exclude(e,n=this._def){return wo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ph=new WeakMap;wo.create=g7;class Pp extends bt{constructor(){super(...arguments),mh.set(this,void 0)}_parse(e){const n=Mt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const i=Mt.objectValues(n);return De(r,{expected:Mt.joinValues(i),received:r.parsedType,code:Ne.invalid_type}),ut}if(wx(this,mh)||f7(this,mh,new Set(Mt.getValidEnumValues(this._def.values))),!wx(this,mh).has(e.data)){const i=Mt.objectValues(n);return De(r,{received:r.data,code:Ne.invalid_enum_value,options:i}),ut}return Ur(e.data)}get enum(){return this._def.values}}mh=new WeakMap;Pp.create=(t,e)=>new Pp({values:t,typeName:ct.ZodNativeEnum,...vt(e)});class Cd extends bt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return De(n,{code:Ne.invalid_type,expected:Fe.promise,received:n.parsedType}),ut;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return Ur(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Cd.create=(t,e)=>new Cd({type:t,typeName:ct.ZodPromise,...vt(e)});class Ts extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{De(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ut;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ut:l.status==="dirty"||n.value==="dirty"?Iu(l.value):l});{if(n.value==="aborted")return ut;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ut:a.status==="dirty"||n.value==="dirty"?Iu(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ut:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ut:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ec(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ec(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Mt.assertNever(i)}}Ts.create=(t,e,n)=>new Ts({schema:t,typeName:ct.ZodEffects,effect:e,...vt(n)});Ts.createWithPreprocess=(t,e,n)=>new Ts({schema:e,effect:{type:"preprocess",transform:t},typeName:ct.ZodEffects,...vt(n)});class ao extends bt{_parse(e){return this._getType(e)===Fe.undefined?Ur(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ao.create=(t,e)=>new ao({innerType:t,typeName:ct.ZodOptional,...vt(e)});class kl extends bt{_parse(e){return this._getType(e)===Fe.null?Ur(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kl.create=(t,e)=>new kl({innerType:t,typeName:ct.ZodNullable,...vt(e)});class Rp extends bt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rp.create=(t,e)=>new Rp({innerType:t,typeName:ct.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class Op extends bt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ep(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _i(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _i(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Op.create=(t,e)=>new Op({innerType:t,typeName:ct.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class Cx extends bt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return De(r,{code:Ne.invalid_type,expected:Fe.nan,received:r.parsedType}),ut}return{status:"valid",value:e.data}}}Cx.create=t=>new Cx({typeName:ct.ZodNaN,...vt(t)});const MCe=Symbol("zod_brand");class b2 extends bt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class km extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ut:s.status==="dirty"?(n.dirty(),Iu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ut:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new km({in:e,out:n,typeName:ct.ZodPipeline})}}class Dp extends bt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ec(i)&&(i.value=Object.freeze(i.value)),i);return Ep(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Dp.create=(t,e)=>new Dp({innerType:t,typeName:ct.ZodReadonly,...vt(e)});function YI(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function y7(t,e={},n){return t?kd.create().superRefine((r,i)=>{var s,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=YI(e,r),h=(u=(c=d.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...d,fatal:h})}});if(!a){const l=YI(e,r),c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...l,fatal:c})}}):kd.create()}const PCe={object:bn.lazycreate};var ct;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ct||(ct={}));const RCe=(t,e={message:`Input not instance of ${t.name}`})=>y7(n=>n instanceof t,e),x7=xs.create,v7=ca.create,OCe=Cx.create,DCe=wl.create,w7=bd.create,jCe=bl.create,ICe=bx.create,LCe=Np.create,FCe=Tp.create,BCe=kd.create,zCe=hc.create,$Ce=ua.create,VCe=kx.create,WCe=Mi.create,HCe=bn.create,UCe=bn.strictCreate,qCe=Nc.create,YCe=$v.create,GCe=Ap.create,KCe=vo.create,XCe=_p.create,ZCe=Sx.create,QCe=Tc.create,JCe=Qu.create,eEe=Mp.create,tEe=Sd.create,nEe=wo.create,rEe=Pp.create,iEe=Cd.create,GI=Ts.create,sEe=ao.create,oEe=kl.create,aEe=Ts.createWithPreprocess,lEe=km.create,cEe=()=>x7().optional(),uEe=()=>v7().optional(),dEe=()=>w7().optional(),fEe={string:t=>xs.create({...t,coerce:!0}),number:t=>ca.create({...t,coerce:!0}),boolean:t=>bd.create({...t,coerce:!0}),bigint:t=>wl.create({...t,coerce:!0}),date:t=>bl.create({...t,coerce:!0})},hEe=ut;var Gt=Object.freeze({__proto__:null,defaultErrorMap:wd,setErrorMap:aCe,getErrorMap:xx,makeIssue:vx,EMPTY_PATH:lCe,addIssueToContext:De,ParseStatus:Mr,INVALID:ut,DIRTY:Iu,OK:Ur,isAborted:aN,isDirty:lN,isValid:Ec,isAsync:Ep,get util(){return Mt},get objectUtil(){return oN},ZodParsedType:Fe,getParsedType:Ho,ZodType:bt,datetimeRegex:m7,ZodString:xs,ZodNumber:ca,ZodBigInt:wl,ZodBoolean:bd,ZodDate:bl,ZodSymbol:bx,ZodUndefined:Np,ZodNull:Tp,ZodAny:kd,ZodUnknown:hc,ZodNever:ua,ZodVoid:kx,ZodArray:Mi,ZodObject:bn,ZodUnion:Nc,ZodDiscriminatedUnion:$v,ZodIntersection:Ap,ZodTuple:vo,ZodRecord:_p,ZodMap:Sx,ZodSet:Tc,ZodFunction:Qu,ZodLazy:Mp,ZodLiteral:Sd,ZodEnum:wo,ZodNativeEnum:Pp,ZodPromise:Cd,ZodEffects:Ts,ZodTransformer:Ts,ZodOptional:ao,ZodNullable:kl,ZodDefault:Rp,ZodCatch:Op,ZodNaN:Cx,BRAND:MCe,ZodBranded:b2,ZodPipeline:km,ZodReadonly:Dp,custom:y7,Schema:bt,ZodSchema:bt,late:PCe,get ZodFirstPartyTypeKind(){return ct},coerce:fEe,any:BCe,array:WCe,bigint:DCe,boolean:w7,date:jCe,discriminatedUnion:YCe,effect:GI,enum:nEe,function:JCe,instanceof:RCe,intersection:GCe,lazy:eEe,literal:tEe,map:ZCe,nan:OCe,nativeEnum:rEe,never:$Ce,null:FCe,nullable:oEe,number:v7,object:HCe,oboolean:dEe,onumber:uEe,optional:sEe,ostring:cEe,pipeline:lEe,preprocess:aEe,promise:iEe,record:XCe,set:QCe,strictObject:UCe,string:x7,symbol:ICe,transformer:GI,tuple:KCe,undefined:LCe,union:qCe,unknown:zCe,void:VCe,NEVER:hEe,ZodIssueCode:Ne,quotelessJson:oCe,ZodError:_i});const pEe=t=>{const e={};return t.errors.forEach(n=>{if(n.path.length>0){const r=n.path.join(".");e[r]={type:"validation",message:n.message}}}),e};function k2(t){return Function("z",`"use strict";return (${t});`)(Gt)}const mEe=Bd("block",{variants:{variant:{primary:"text-text",secondary:"text-text-dim"},size:{default:"text-base",xs:"text-xs",sm:"text-sm",md:"text-md",lg:"text-lg",xl:"text-xl","2xl":"text-2xl"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"}},defaultVariants:{variant:"primary",size:"default",weight:"normal"}}),Fn=({className:t,weight:e,variant:n,as:r="span",size:i,...s})=>g.jsx(r,{className:ve(mEe({size:i,variant:n,weight:e,className:t})),...s}),gEe=()=>{const[t,e]=S.useState(!1);return{executeTool:async({agentId:r,toolId:i,input:s})=>{try{e(!0);const o=await fetch(`/api/agents/${r}/tools/${i}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:s})});if(!o.ok)throw new Error(`Error executing tool: ${o.statusText}`);return await o.json()}catch(o){throw console.error("Error executing tool:",o),o}finally{e(!1)}},isExecutingTool:t}};var Sm=t=>t.type==="checkbox",ac=t=>t instanceof Date,Br=t=>t==null;const b7=t=>typeof t=="object";var _n=t=>!Br(t)&&!Array.isArray(t)&&b7(t)&&!ac(t),k7=t=>_n(t)&&t.target?Sm(t.target)?t.target.checked:t.target.value:t,yEe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,S7=(t,e)=>t.has(yEe(e)),xEe=t=>{const e=t.constructor&&t.constructor.prototype;return _n(e)&&e.hasOwnProperty("isPrototypeOf")},S2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(S2&&(t instanceof Blob||r))&&(n||_n(t)))if(e=n?[]:{},!n&&!xEe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Xn(t[i]));else return t;return e}var Cm=t=>Array.isArray(t)?t.filter(Boolean):[],ln=t=>t===void 0,Me=(t,e,n)=>{if(!e||!_n(t))return n;const r=Cm(e.split(/[,[\].]+?/)).reduce((i,s)=>Br(i)?i:i[s],t);return ln(r)||r===t?ln(t[e])?n:t[e]:r},Ui=t=>typeof t=="boolean",C2=t=>/^\w*$/.test(t),C7=t=>Cm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$t=(t,e,n)=>{let r=-1;const i=C2(e)?[e]:C7(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=_n(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}return t};const Ex={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vEe=ne.createContext(null),Vv=()=>ne.useContext(vEe);var E7=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Gi.all&&(e._proxyFormState[o]=!r||Gi.all),n&&(n[o]=!0),t[o]}});return i},Fr=t=>_n(t)&&!Object.keys(t).length,N7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Fr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Gi.all))},ai=t=>Array.isArray(t)?t:[t],T7=(t,e,n)=>!t||!e||t===e||ai(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Wv(t){const e=ne.useRef(t);e.current=t,ne.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function wEe(t){const e=Vv(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=ne.useState(n._formState),l=ne.useRef(!0),c=ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ne.useRef(i);return u.current=i,Wv({disabled:r,next:d=>l.current&&T7(u.current,d.name,s)&&N7(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),ne.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),ne.useMemo(()=>E7(o,n,c.current,!1),[o,n])}var to=t=>typeof t=="string",A7=(t,e,n,r,i)=>to(t)?(r&&e.watch.add(t),Me(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Me(n,s))):(r&&(e.watchAll=!0),n);function _7(t){const e=Vv(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=ne.useRef(r);a.current=r,Wv({disabled:s,subject:n._subjects.values,next:u=>{T7(a.current,u.name,o)&&c(Xn(A7(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=ne.useState(n._getWatch(r,i));return ne.useEffect(()=>n._removeUnmounted()),l}function bEe(t){const e=Vv(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=S7(i._names.array,n),a=_7({control:i,name:n,defaultValue:Me(i._formValues,n,Me(i._defaultValues,n,t.defaultValue)),exact:!0}),l=wEe({control:i,name:n,exact:!0}),c=ne.useRef(i.register(n,{...t.rules,value:a,...Ui(t.disabled)?{disabled:t.disabled}:{}})),u=ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Me(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Me(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Me(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Me(l.validatingFields,n)},error:{enumerable:!0,get:()=>Me(l.errors,n)}}),[l,n]),d=ne.useMemo(()=>({name:n,value:a,...Ui(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:h=>c.current.onChange({target:{value:k7(h),name:n},type:Ex.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:Me(i._formValues,n),name:n},type:Ex.BLUR}),ref:h=>{const m=Me(i._fields,n);m&&h&&(m._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:y=>h.setCustomValidity(y),reportValidity:()=>h.reportValidity()})}}),[n,i._formValues,r,l.disabled,a,i._fields]);return ne.useEffect(()=>{const h=i._options.shouldUnregister||s,m=(y,v)=>{const w=Me(i._fields,y);w&&w._f&&(w._f.mount=v)};if(m(n,!0),h){const y=Xn(Me(i._options.defaultValues,n));$t(i._defaultValues,n,y),ln(Me(i._formValues,n))&&$t(i._formValues,n,y)}return!o&&i.register(n),()=>{(o?h&&!i._state.action:h)?i.unregister(n):m(n,!1)}},[n,i,o,s]),ne.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),ne.useMemo(()=>({field:d,formState:l,fieldState:u}),[d,l,u])}const Qd=t=>t.render(bEe(t));var M7=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ha=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Bk=(t,e,n={})=>n.shouldFocus||ln(n.shouldFocus)?n.focusName||`${t}.${ln(n.focusIndex)?e:n.focusIndex}.`:"",jh=t=>({isOnSubmit:!t||t===Gi.onSubmit,isOnBlur:t===Gi.onBlur,isOnChange:t===Gi.onChange,isOnAll:t===Gi.all,isOnTouch:t===Gi.onTouched}),uN=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ju=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Me(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ju(a,e))break}else if(_n(a)&&Ju(a,e))break}}};var P7=(t,e,n)=>{const r=ai(Me(t,n));return $t(r,"root",e[n]),$t(t,n,r),t},E2=t=>t.type==="file",Xs=t=>typeof t=="function",Nx=t=>{if(!S2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},p0=t=>to(t),N2=t=>t.type==="radio",Tx=t=>t instanceof RegExp;const KI={value:!1,isValid:!1},XI={value:!0,isValid:!0};var R7=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ln(t[0].attributes.value)?ln(t[0].value)||t[0].value===""?XI:{value:t[0].value,isValid:!0}:XI:KI}return KI};const ZI={isValid:!1,value:null};var O7=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,ZI):ZI;function QI(t,e,n="validate"){if(p0(t)||Array.isArray(t)&&t.every(p0)||Ui(t)&&!t)return{type:n,message:p0(t)?t:"",ref:e}}var bu=t=>_n(t)&&!Tx(t)?t:{value:t,message:""},dN=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:m,validate:y,name:v,valueAsNumber:w,mount:b}=t._f,k=Me(n,v);if(!b||e.has(v))return{};const C=a?a[0]:o,N=F=>{i&&C.reportValidity&&(C.setCustomValidity(Ui(F)?"":F||""),C.reportValidity())},_={},A=N2(o),M=Sm(o),R=A||M,D=(w||E2(o))&&ln(o.value)&&ln(k)||Nx(o)&&o.value===""||k===""||Array.isArray(k)&&!k.length,O=M7.bind(null,v,r,_),B=(F,W,I,Y=zo.maxLength,V=zo.minLength)=>{const G=F?W:I;_[v]={type:F?Y:V,message:G,ref:o,...O(F?Y:V,G)}};if(s?!Array.isArray(k)||!k.length:l&&(!R&&(D||Br(k))||Ui(k)&&!k||M&&!R7(a).isValid||A&&!O7(a).isValid)){const{value:F,message:W}=p0(l)?{value:!!l,message:l}:bu(l);if(F&&(_[v]={type:zo.required,message:W,ref:C,...O(zo.required,W)},!r))return N(W),_}if(!D&&(!Br(d)||!Br(h))){let F,W;const I=bu(h),Y=bu(d);if(!Br(k)&&!isNaN(k)){const V=o.valueAsNumber||k&&+k;Br(I.value)||(F=V>I.value),Br(Y.value)||(W=V<Y.value)}else{const V=o.valueAsDate||new Date(k),G=L=>new Date(new Date().toDateString()+" "+L),H=o.type=="time",$=o.type=="week";to(I.value)&&k&&(F=H?G(k)>G(I.value):$?k>I.value:V>new Date(I.value)),to(Y.value)&&k&&(W=H?G(k)<G(Y.value):$?k<Y.value:V<new Date(Y.value))}if((F||W)&&(B(!!F,I.message,Y.message,zo.max,zo.min),!r))return N(_[v].message),_}if((c||u)&&!D&&(to(k)||s&&Array.isArray(k))){const F=bu(c),W=bu(u),I=!Br(F.value)&&k.length>+F.value,Y=!Br(W.value)&&k.length<+W.value;if((I||Y)&&(B(I,F.message,W.message),!r))return N(_[v].message),_}if(m&&!D&&to(k)){const{value:F,message:W}=bu(m);if(Tx(F)&&!k.match(F)&&(_[v]={type:zo.pattern,message:W,ref:o,...O(zo.pattern,W)},!r))return N(W),_}if(y){if(Xs(y)){const F=await y(k,n),W=QI(F,C);if(W&&(_[v]={...W,...O(zo.validate,W.message)},!r))return N(W.message),_}else if(_n(y)){let F={};for(const W in y){if(!Fr(F)&&!r)break;const I=QI(await y[W](k,n),C,W);I&&(F={...I,...O(W,I.message)},N(I.message),r&&(_[v]=F))}if(!Fr(F)&&(_[v]={ref:C,...F},!r))return _}}return N(!0),_},zk=(t,e)=>[...t,...ai(e)],$k=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Vk(t,e,n){return[...t.slice(0,e),...ai(n),...t.slice(e)]}var Wk=(t,e,n)=>Array.isArray(t)?(ln(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Hk=(t,e)=>[...ai(e),...ai(t)];function kEe(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return Cm(r).length?r:[]}var Uk=(t,e)=>ln(e)?[]:kEe(t,ai(e).sort((n,r)=>n-r)),qk=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]};function SEe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ln(t)?r++:t[e[r++]];return t}function CEe(t){for(const e in t)if(t.hasOwnProperty(e)&&!ln(t[e]))return!1;return!0}function On(t,e){const n=Array.isArray(e)?e:C2(e)?[e]:C7(e),r=n.length===1?t:SEe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(_n(r)&&Fr(r)||Array.isArray(r)&&CEe(r))&&On(t,n.slice(0,-1)),t}var JI=(t,e,n)=>(t[e]=n,t);function D7(t){const e=Vv(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:s,rules:o}=t,[a,l]=ne.useState(n._getFieldArray(r)),c=ne.useRef(n._getFieldArray(r).map(Ha)),u=ne.useRef(a),d=ne.useRef(r),h=ne.useRef(!1);d.current=r,u.current=a,n._names.array.add(r),o&&n.register(r,o),Wv({next:({values:A,name:M})=>{if(M===d.current||!M){const R=Me(A,d.current);Array.isArray(R)&&(l(R),c.current=R.map(Ha))}},subject:n._subjects.array});const m=ne.useCallback(A=>{h.current=!0,n._updateFieldArray(r,A)},[n,r]),y=(A,M)=>{const R=ai(Xn(A)),D=zk(n._getFieldArray(r),R);n._names.focus=Bk(r,D.length-1,M),c.current=zk(c.current,R.map(Ha)),m(D),l(D),n._updateFieldArray(r,D,zk,{argA:$k(A)})},v=(A,M)=>{const R=ai(Xn(A)),D=Hk(n._getFieldArray(r),R);n._names.focus=Bk(r,0,M),c.current=Hk(c.current,R.map(Ha)),m(D),l(D),n._updateFieldArray(r,D,Hk,{argA:$k(A)})},w=A=>{const M=Uk(n._getFieldArray(r),A);c.current=Uk(c.current,A),m(M),l(M),!Array.isArray(Me(n._fields,r))&&$t(n._fields,r,void 0),n._updateFieldArray(r,M,Uk,{argA:A})},b=(A,M,R)=>{const D=ai(Xn(M)),O=Vk(n._getFieldArray(r),A,D);n._names.focus=Bk(r,A,R),c.current=Vk(c.current,A,D.map(Ha)),m(O),l(O),n._updateFieldArray(r,O,Vk,{argA:A,argB:$k(M)})},k=(A,M)=>{const R=n._getFieldArray(r);qk(R,A,M),qk(c.current,A,M),m(R),l(R),n._updateFieldArray(r,R,qk,{argA:A,argB:M},!1)},C=(A,M)=>{const R=n._getFieldArray(r);Wk(R,A,M),Wk(c.current,A,M),m(R),l(R),n._updateFieldArray(r,R,Wk,{argA:A,argB:M},!1)},N=(A,M)=>{const R=Xn(M),D=JI(n._getFieldArray(r),A,R);c.current=[...D].map((O,B)=>!O||B===A?Ha():c.current[B]),m(D),l([...D]),n._updateFieldArray(r,D,JI,{argA:A,argB:R},!0,!1)},_=A=>{const M=ai(Xn(A));c.current=M.map(Ha),m([...M]),l([...M]),n._updateFieldArray(r,[...M],R=>R,{},!0,!1)};return ne.useEffect(()=>{if(n._state.action=!1,uN(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!jh(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(A=>{const M=Me(A.errors,r),R=Me(n._formState.errors,r);(R?!M&&R.type||M&&(R.type!==M.type||R.message!==M.message):M&&M.type)&&(M?$t(n._formState.errors,r,M):On(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const A=Me(n._fields,r);A&&A._f&&!(jh(n._options.reValidateMode).isOnSubmit&&jh(n._options.mode).isOnSubmit)&&dN(A,n._names.disabled,n._formValues,n._options.criteriaMode===Gi.all,n._options.shouldUseNativeValidation,!0).then(M=>!Fr(M)&&n._subjects.state.next({errors:P7(n._formState.errors,M,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Ju(n._fields,(A,M)=>{if(n._names.focus&&M.startsWith(n._names.focus)&&A.focus)return A.focus(),1}),n._names.focus="",n._updateValid(),h.current=!1},[a,r,n]),ne.useEffect(()=>(!Me(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:ne.useCallback(k,[m,r,n]),move:ne.useCallback(C,[m,r,n]),prepend:ne.useCallback(v,[m,r,n]),append:ne.useCallback(y,[m,r,n]),remove:ne.useCallback(w,[m,r,n]),insert:ne.useCallback(b,[m,r,n]),update:ne.useCallback(N,[m,r,n]),replace:ne.useCallback(_,[m,r,n]),fields:ne.useMemo(()=>a.map((A,M)=>({...A,[i]:c.current[M]||Ha()})),[a,i])}}var Yk=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},fN=t=>Br(t)||!b7(t);function Ja(t,e){if(fN(t)||fN(e))return t===e;if(ac(t)&&ac(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ac(s)&&ac(o)||_n(s)&&_n(o)||Array.isArray(s)&&Array.isArray(o)?!Ja(s,o):s!==o)return!1}}return!0}var j7=t=>t.type==="select-multiple",EEe=t=>N2(t)||Sm(t),Gk=t=>Nx(t)&&t.isConnected,I7=t=>{for(const e in t)if(Xs(t[e]))return!0;return!1};function Ax(t,e={}){const n=Array.isArray(t);if(_n(t)||n)for(const r in t)Array.isArray(t[r])||_n(t[r])&&!I7(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ax(t[r],e[r])):Br(t[r])||(e[r]=!0);return e}function L7(t,e,n){const r=Array.isArray(t);if(_n(t)||r)for(const i in t)Array.isArray(t[i])||_n(t[i])&&!I7(t[i])?ln(e)||fN(n[i])?n[i]=Array.isArray(t[i])?Ax(t[i],[]):{...Ax(t[i])}:L7(t[i],Br(e)?{}:e[i],n[i]):n[i]=!Ja(t[i],e[i]);return n}var Qf=(t,e)=>L7(t,e,Ax(e)),F7=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ln(t)?t:e?t===""?NaN:t&&+t:n&&to(t)?new Date(t):r?r(t):t;function Kk(t){const e=t.ref;return E2(e)?e.files:N2(e)?O7(t.refs).value:j7(e)?[...e.selectedOptions].map(({value:n})=>n):Sm(e)?R7(t.refs).value:F7(ln(e.value)?t.ref.value:e.value,t)}var NEe=(t,e,n,r)=>{const i={};for(const s of t){const o=Me(e,s);o&&$t(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Jf=t=>ln(t)?t:Tx(t)?t.source:_n(t)?Tx(t.value)?t.value.source:t.value:t;const eL="AsyncFunction";var TEe=t=>!!t&&!!t.validate&&!!(Xs(t.validate)&&t.validate.constructor.name===eL||_n(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===eL)),AEe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tL(t,e,n){const r=Me(t,n);if(r||C2(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Me(e,s),a=Me(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var _Ee=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,MEe=(t,e)=>!Cm(Me(t,e)).length&&On(t,e);const PEe={mode:Gi.onSubmit,reValidateMode:Gi.onChange,shouldFocusError:!0};function REe(t={}){let e={...PEe,...t},n={submitCount:0,isDirty:!1,isLoading:Xs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=_n(e.defaultValues)||_n(e.values)?Xn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Yk(),array:Yk(),state:Yk()},h=jh(e.mode),m=jh(e.reValidateMode),y=e.criteriaMode===Gi.all,v=ee=>se=>{clearTimeout(c),c=setTimeout(ee,se)},w=async ee=>{if(!e.disabled&&(u.isValid||ee)){const se=e.resolver?Fr((await R()).errors):await O(r,!0);se!==n.isValid&&d.state.next({isValid:se})}},b=(ee,se)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((ee||Array.from(a.mount)).forEach(ce=>{ce&&(se?$t(n.validatingFields,ce,se):On(n.validatingFields,ce))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Fr(n.validatingFields)}))},k=(ee,se=[],ce,ke,Ce=!0,ye=!0)=>{if(ke&&ce&&!e.disabled){if(o.action=!0,ye&&Array.isArray(Me(r,ee))){const ze=ce(Me(r,ee),ke.argA,ke.argB);Ce&&$t(r,ee,ze)}if(ye&&Array.isArray(Me(n.errors,ee))){const ze=ce(Me(n.errors,ee),ke.argA,ke.argB);Ce&&$t(n.errors,ee,ze),MEe(n.errors,ee)}if(u.touchedFields&&ye&&Array.isArray(Me(n.touchedFields,ee))){const ze=ce(Me(n.touchedFields,ee),ke.argA,ke.argB);Ce&&$t(n.touchedFields,ee,ze)}u.dirtyFields&&(n.dirtyFields=Qf(i,s)),d.state.next({name:ee,isDirty:F(ee,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else $t(s,ee,se)},C=(ee,se)=>{$t(n.errors,ee,se),d.state.next({errors:n.errors})},N=ee=>{n.errors=ee,d.state.next({errors:n.errors,isValid:!1})},_=(ee,se,ce,ke)=>{const Ce=Me(r,ee);if(Ce){const ye=Me(s,ee,ln(ce)?Me(i,ee):ce);ln(ye)||ke&&ke.defaultChecked||se?$t(s,ee,se?ye:Kk(Ce._f)):Y(ee,ye),o.mount&&w()}},A=(ee,se,ce,ke,Ce)=>{let ye=!1,ze=!1;const $e={name:ee};if(!e.disabled){const ae=!!(Me(r,ee)&&Me(r,ee)._f&&Me(r,ee)._f.disabled);if(!ce||ke){u.isDirty&&(ze=n.isDirty,n.isDirty=$e.isDirty=F(),ye=ze!==$e.isDirty);const he=ae||Ja(Me(i,ee),se);ze=!!(!ae&&Me(n.dirtyFields,ee)),he||ae?On(n.dirtyFields,ee):$t(n.dirtyFields,ee,!0),$e.dirtyFields=n.dirtyFields,ye=ye||u.dirtyFields&&ze!==!he}if(ce){const he=Me(n.touchedFields,ee);he||($t(n.touchedFields,ee,ce),$e.touchedFields=n.touchedFields,ye=ye||u.touchedFields&&he!==ce)}ye&&Ce&&d.state.next($e)}return ye?$e:{}},M=(ee,se,ce,ke)=>{const Ce=Me(n.errors,ee),ye=u.isValid&&Ui(se)&&n.isValid!==se;if(e.delayError&&ce?(l=v(()=>C(ee,ce)),l(e.delayError)):(clearTimeout(c),l=null,ce?$t(n.errors,ee,ce):On(n.errors,ee)),(ce?!Ja(Ce,ce):Ce)||!Fr(ke)||ye){const ze={...ke,...ye&&Ui(se)?{isValid:se}:{},errors:n.errors,name:ee};n={...n,...ze},d.state.next(ze)}},R=async ee=>{b(ee,!0);const se=await e.resolver(s,e.context,NEe(ee||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(ee),se},D=async ee=>{const{errors:se}=await R(ee);if(ee)for(const ce of ee){const ke=Me(se,ce);ke?$t(n.errors,ce,ke):On(n.errors,ce)}else n.errors=se;return se},O=async(ee,se,ce={valid:!0})=>{for(const ke in ee){const Ce=ee[ke];if(Ce){const{_f:ye,...ze}=Ce;if(ye){const $e=a.array.has(ye.name),ae=Ce._f&&TEe(Ce._f);ae&&u.validatingFields&&b([ke],!0);const he=await dN(Ce,a.disabled,s,y,e.shouldUseNativeValidation&&!se,$e);if(ae&&u.validatingFields&&b([ke]),he[ye.name]&&(ce.valid=!1,se))break;!se&&(Me(he,ye.name)?$e?P7(n.errors,he,ye.name):$t(n.errors,ye.name,he[ye.name]):On(n.errors,ye.name))}!Fr(ze)&&await O(ze,se,ce)}}return ce.valid},B=()=>{for(const ee of a.unMount){const se=Me(r,ee);se&&(se._f.refs?se._f.refs.every(ce=>!Gk(ce)):!Gk(se._f.ref))&&J(ee)}a.unMount=new Set},F=(ee,se)=>!e.disabled&&(ee&&se&&$t(s,ee,se),!Ja(q(),i)),W=(ee,se,ce)=>A7(ee,a,{...o.mount?s:ln(se)?i:to(ee)?{[ee]:se}:se},ce,se),I=ee=>Cm(Me(o.mount?s:i,ee,e.shouldUnregister?Me(i,ee,[]):[])),Y=(ee,se,ce={})=>{const ke=Me(r,ee);let Ce=se;if(ke){const ye=ke._f;ye&&(!ye.disabled&&$t(s,ee,F7(se,ye)),Ce=Nx(ye.ref)&&Br(se)?"":se,j7(ye.ref)?[...ye.ref.options].forEach(ze=>ze.selected=Ce.includes(ze.value)):ye.refs?Sm(ye.ref)?ye.refs.length>1?ye.refs.forEach(ze=>(!ze.defaultChecked||!ze.disabled)&&(ze.checked=Array.isArray(Ce)?!!Ce.find($e=>$e===ze.value):Ce===ze.value)):ye.refs[0]&&(ye.refs[0].checked=!!Ce):ye.refs.forEach(ze=>ze.checked=ze.value===Ce):E2(ye.ref)?ye.ref.value="":(ye.ref.value=Ce,ye.ref.type||d.values.next({name:ee,values:{...s}})))}(ce.shouldDirty||ce.shouldTouch)&&A(ee,Ce,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&L(ee)},V=(ee,se,ce)=>{for(const ke in se){const Ce=se[ke],ye=`${ee}.${ke}`,ze=Me(r,ye);(a.array.has(ee)||_n(Ce)||ze&&!ze._f)&&!ac(Ce)?V(ye,Ce,ce):Y(ye,Ce,ce)}},G=(ee,se,ce={})=>{const ke=Me(r,ee),Ce=a.array.has(ee),ye=Xn(se);$t(s,ee,ye),Ce?(d.array.next({name:ee,values:{...s}}),(u.isDirty||u.dirtyFields)&&ce.shouldDirty&&d.state.next({name:ee,dirtyFields:Qf(i,s),isDirty:F(ee,ye)})):ke&&!ke._f&&!Br(ye)?V(ee,ye,ce):Y(ee,ye,ce),uN(ee,a)&&d.state.next({...n}),d.values.next({name:o.mount?ee:void 0,values:{...s}})},H=async ee=>{o.mount=!0;const se=ee.target;let ce=se.name,ke=!0;const Ce=Me(r,ce),ye=()=>se.type?Kk(Ce._f):k7(ee),ze=$e=>{ke=Number.isNaN($e)||ac($e)&&isNaN($e.getTime())||Ja($e,Me(s,ce,$e))};if(Ce){let $e,ae;const he=ye(),We=ee.type===Ex.BLUR||ee.type===Ex.FOCUS_OUT,et=!AEe(Ce._f)&&!e.resolver&&!Me(n.errors,ce)&&!Ce._f.deps||_Ee(We,Me(n.touchedFields,ce),n.isSubmitted,m,h),ft=uN(ce,a,We);$t(s,ce,he),We?(Ce._f.onBlur&&Ce._f.onBlur(ee),l&&l(0)):Ce._f.onChange&&Ce._f.onChange(ee);const qt=A(ce,he,We,!1),st=!Fr(qt)||ft;if(!We&&d.values.next({name:ce,type:ee.type,values:{...s}}),et)return u.isValid&&(e.mode==="onBlur"&&We?w():We||w()),st&&d.state.next({name:ce,...ft?{}:qt});if(!We&&ft&&d.state.next({...n}),e.resolver){const{errors:mt}=await R([ce]);if(ze(he),ke){const ht=tL(n.errors,r,ce),hn=tL(mt,r,ht.name||ce);$e=hn.error,ce=hn.name,ae=Fr(mt)}}else b([ce],!0),$e=(await dN(Ce,a.disabled,s,y,e.shouldUseNativeValidation))[ce],b([ce]),ze(he),ke&&($e?ae=!1:u.isValid&&(ae=await O(r,!0)));ke&&(Ce._f.deps&&L(Ce._f.deps),M(ce,ae,$e,qt))}},$=(ee,se)=>{if(Me(n.errors,se)&&ee.focus)return ee.focus(),1},L=async(ee,se={})=>{let ce,ke;const Ce=ai(ee);if(e.resolver){const ye=await D(ln(ee)?ee:Ce);ce=Fr(ye),ke=ee?!Ce.some(ze=>Me(ye,ze)):ce}else ee?(ke=(await Promise.all(Ce.map(async ye=>{const ze=Me(r,ye);return await O(ze&&ze._f?{[ye]:ze}:ze)}))).every(Boolean),!(!ke&&!n.isValid)&&w()):ke=ce=await O(r);return d.state.next({...!to(ee)||u.isValid&&ce!==n.isValid?{}:{name:ee},...e.resolver||!ee?{isValid:ce}:{},errors:n.errors}),se.shouldFocus&&!ke&&Ju(r,$,ee?Ce:a.mount),ke},q=ee=>{const se={...o.mount?s:i};return ln(ee)?se:to(ee)?Me(se,ee):ee.map(ce=>Me(se,ce))},U=(ee,se)=>({invalid:!!Me((se||n).errors,ee),isDirty:!!Me((se||n).dirtyFields,ee),error:Me((se||n).errors,ee),isValidating:!!Me(n.validatingFields,ee),isTouched:!!Me((se||n).touchedFields,ee)}),j=ee=>{ee&&ai(ee).forEach(se=>On(n.errors,se)),d.state.next({errors:ee?n.errors:{}})},K=(ee,se,ce)=>{const ke=(Me(r,ee,{_f:{}})._f||{}).ref,Ce=Me(n.errors,ee)||{},{ref:ye,message:ze,type:$e,...ae}=Ce;$t(n.errors,ee,{...ae,...se,ref:ke}),d.state.next({name:ee,errors:n.errors,isValid:!1}),ce&&ce.shouldFocus&&ke&&ke.focus&&ke.focus()},X=(ee,se)=>Xs(ee)?d.values.subscribe({next:ce=>ee(W(void 0,se),ce)}):W(ee,se,!0),J=(ee,se={})=>{for(const ce of ee?ai(ee):a.mount)a.mount.delete(ce),a.array.delete(ce),se.keepValue||(On(r,ce),On(s,ce)),!se.keepError&&On(n.errors,ce),!se.keepDirty&&On(n.dirtyFields,ce),!se.keepTouched&&On(n.touchedFields,ce),!se.keepIsValidating&&On(n.validatingFields,ce),!e.shouldUnregister&&!se.keepDefaultValue&&On(i,ce);d.values.next({values:{...s}}),d.state.next({...n,...se.keepDirty?{isDirty:F()}:{}}),!se.keepIsValid&&w()},Z=({disabled:ee,name:se,field:ce,fields:ke})=>{(Ui(ee)&&o.mount||ee||a.disabled.has(se))&&(ee?a.disabled.add(se):a.disabled.delete(se),A(se,Kk(ce?ce._f:Me(ke,se)._f),!1,!1,!0))},oe=(ee,se={})=>{let ce=Me(r,ee);const ke=Ui(se.disabled)||Ui(e.disabled);return $t(r,ee,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:ee}},name:ee,mount:!0,...se}}),a.mount.add(ee),ce?Z({field:ce,disabled:Ui(se.disabled)?se.disabled:e.disabled,name:ee}):_(ee,!0,se.value),{...ke?{disabled:se.disabled||e.disabled}:{},...e.progressive?{required:!!se.required,min:Jf(se.min),max:Jf(se.max),minLength:Jf(se.minLength),maxLength:Jf(se.maxLength),pattern:Jf(se.pattern)}:{},name:ee,onChange:H,onBlur:H,ref:Ce=>{if(Ce){oe(ee,se),ce=Me(r,ee);const ye=ln(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,ze=EEe(ye),$e=ce._f.refs||[];if(ze?$e.find(ae=>ae===ye):ye===ce._f.ref)return;$t(r,ee,{_f:{...ce._f,...ze?{refs:[...$e.filter(Gk),ye,...Array.isArray(Me(i,ee))?[{}]:[]],ref:{type:ye.type,name:ee}}:{ref:ye}}}),_(ee,!1,void 0,ye)}else ce=Me(r,ee,{}),ce._f&&(ce._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(S7(a.array,ee)&&o.action)&&a.unMount.add(ee)}}},fe=()=>e.shouldFocusError&&Ju(r,$,a.mount),me=ee=>{Ui(ee)&&(d.state.next({disabled:ee}),Ju(r,(se,ce)=>{const ke=Me(r,ce);ke&&(se.disabled=ke._f.disabled||ee,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ce=>{Ce.disabled=ke._f.disabled||ee}))},0,!1))},Te=(ee,se)=>async ce=>{let ke;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Ce=Xn(s);if(a.disabled.size)for(const ye of a.disabled)$t(Ce,ye,void 0);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:ze}=await R();n.errors=ye,Ce=ze}else await O(r);if(On(n.errors,"root"),Fr(n.errors)){d.state.next({errors:{}});try{await ee(Ce,ce)}catch(ye){ke=ye}}else se&&await se({...n.errors},ce),fe(),setTimeout(fe);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(n.errors)&&!ke,submitCount:n.submitCount+1,errors:n.errors}),ke)throw ke},xe=(ee,se={})=>{Me(r,ee)&&(ln(se.defaultValue)?G(ee,Xn(Me(i,ee))):(G(ee,se.defaultValue),$t(i,ee,Xn(se.defaultValue))),se.keepTouched||On(n.touchedFields,ee),se.keepDirty||(On(n.dirtyFields,ee),n.isDirty=se.defaultValue?F(ee,Xn(Me(i,ee))):F()),se.keepError||(On(n.errors,ee),u.isValid&&w()),d.state.next({...n}))},be=(ee,se={})=>{const ce=ee?Xn(ee):i,ke=Xn(ce),Ce=Fr(ee),ye=Ce?i:ke;if(se.keepDefaultValues||(i=ce),!se.keepValues){if(se.keepDirtyValues){const ze=new Set([...a.mount,...Object.keys(Qf(i,s))]);for(const $e of Array.from(ze))Me(n.dirtyFields,$e)?$t(ye,$e,Me(s,$e)):G($e,Me(ye,$e))}else{if(S2&&ln(ee))for(const ze of a.mount){const $e=Me(r,ze);if($e&&$e._f){const ae=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(Nx(ae)){const he=ae.closest("form");if(he){he.reset();break}}}}r={}}s=e.shouldUnregister?se.keepDefaultValues?Xn(i):{}:Xn(ye),d.array.next({values:{...ye}}),d.values.next({values:{...ye}})}a={mount:se.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!se.keepIsValid||!!se.keepDirtyValues,o.watch=!!e.shouldUnregister,d.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Ce?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!Ja(ee,i)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ce?{}:se.keepDirtyValues?se.keepDefaultValues&&s?Qf(i,s):n.dirtyFields:se.keepDefaultValues&&ee?Qf(i,ee):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Pe=(ee,se)=>be(Xs(ee)?ee(s):ee,se);return{control:{register:oe,unregister:J,getFieldState:U,handleSubmit:Te,setError:K,_executeSchema:R,_getWatch:W,_getDirty:F,_updateValid:w,_removeUnmounted:B,_updateFieldArray:k,_updateDisabledField:Z,_getFieldArray:I,_reset:be,_resetDefaultValues:()=>Xs(e.defaultValues)&&e.defaultValues().then(ee=>{Pe(ee,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:ee=>{n={...n,...ee}},_disableForm:me,_subjects:d,_proxyFormState:u,_setErrors:N,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(ee){o=ee},get _defaultValues(){return i},get _names(){return a},set _names(ee){a=ee},get _formState(){return n},set _formState(ee){n=ee},get _options(){return e},set _options(ee){e={...e,...ee}}},trigger:L,register:oe,handleSubmit:Te,watch:X,setValue:G,getValues:q,reset:Pe,resetField:xe,clearErrors:j,unregister:J,setError:K,setFocus:(ee,se={})=>{const ce=Me(r,ee),ke=ce&&ce._f;if(ke){const Ce=ke.refs?ke.refs[0]:ke.ref;Ce.focus&&(Ce.focus(),se.shouldSelect&&Xs(Ce.select)&&Ce.select())}},getFieldState:U}}function OEe(t={}){const e=ne.useRef(void 0),n=ne.useRef(void 0),[r,i]=ne.useState({isDirty:!1,isValidating:!1,isLoading:Xs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Xs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...REe(t),formState:r});const s=e.current.control;return s._options=t,Wv({subject:s._subjects.state,next:o=>{N7(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ne.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ne.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ne.useEffect(()=>{t.values&&!Ja(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ne.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ne.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ne.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=E7(r,s),e.current}const nL=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Me(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},B7=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?nL(r.ref,n,t):r.refs&&r.refs.forEach(i=>nL(i,n,t))}},DEe=(t,e)=>{e.shouldUseNativeValidation&&B7(t,e);const n={};for(const r in t){const i=Me(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(jEe(e.names||Object.keys(t),r)){const o=Object.assign({},Me(n,r));$t(o,"root",s),$t(n,r,o)}else $t(n,r,s)}return n},jEe=(t,e)=>t.some(n=>n.startsWith(e+"."));var IEe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=M7(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},LEe=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&B7({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:DEe(IEe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const FEe=(t,e)=>async n=>{var o,a;const r=((a=(o=t==null?void 0:t._def)==null?void 0:o.options)==null?void 0:a.find(l=>{var c,u,d;return((d=(u=(c=l==null?void 0:l.shape)==null?void 0:c[e])==null?void 0:u._def)==null?void 0:d.value)===n[e]}))||Gt.object({[e]:Gt.string()}),i=Object.fromEntries(Object.entries(n).filter(([l])=>{var c;return(c=r==null?void 0:r.shape)==null?void 0:c[l]})),s=r.safeParse(i);if(s.success)return{values:s.data,errors:{}};{const l=pEe(s.error);return{values:{},errors:l}}};function z7({name:t,control:e,renderField:n}){const{fields:r,append:i,remove:s}=D7({control:e,name:t});return g.jsxs("div",{className:"space-y-2 w-full",children:[r.map((o,a)=>g.jsxs("div",{className:"relative w-full flex items-center gap-2",children:[n({fieldName:`${t}.${a}`,index:a}),g.jsx(pt,{type:"button",variant:"ghost",size:"icon",className:"absolute -right-2 -top-2",onClick:()=>s(a),children:g.jsx(Cl,{className:"h-4 w-4"})})]},o.id)),g.jsxs(pt,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>i({}),children:[g.jsx(Hh,{className:"mr-2 h-4 w-4"}),"Add Item"]})]})}function $7(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T2="Switch",[BEe,hLe]=Oi(T2),[zEe,$Ee]=BEe(T2),V7=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,m]=S.useState(null),y=kt(e,C=>m(C)),v=S.useRef(!1),w=h?u||!!h.closest("form"):!0,[b=!1,k]=mo({prop:i,defaultProp:s,onChange:c});return g.jsxs(zEe,{scope:n,checked:b,disabled:a,children:[g.jsx(Xe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":U7(b),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:y,onClick:Re(t.onClick,C=>{k(N=>!N),w&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),w&&g.jsx(VEe,{control:h,bubbles:!v.current,name:r,value:l,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});V7.displayName=T2;var W7="SwitchThumb",H7=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=$Ee(W7,n);return g.jsx(Xe.span,{"data-state":U7(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});H7.displayName=W7;var VEe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=S.useRef(null),o=$7(n),a=K$(e);return S.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[o,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function U7(t){return t?"checked":"unchecked"}var q7=V7,WEe=H7;const Y7=S.forwardRef(({className:t,...e},n)=>g.jsx(q7,{className:ve("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-mastra-bg-7 data-[state=unchecked]:bg-input",t),...e,ref:n,children:g.jsx(WEe,{className:ve("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Y7.displayName=q7.displayName;function HEe({name:t,control:e,handleFieldChange:n}){return g.jsx(Qd,{name:t,control:e,render:({field:r})=>g.jsx(Y7,{checked:r.value,onCheckedChange:i=>{r.onChange(i),n==null||n({key:t,value:i})}})})}var rL=1,UEe=.9,qEe=.8,YEe=.17,Xk=.1,Zk=.999,GEe=.9999,KEe=.99,XEe=/[\\\/_+.#"@\[\(\{&]/,ZEe=/[\\\/_+.#"@\[\(\{&]/g,QEe=/[\s-]/,G7=/[\s-]/g;function hN(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?rL:KEe;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),u=0,d,h,m,y;c>=0;)d=hN(t,e,n,r,c+1,s+1,o),d>u&&(c===i?d*=rL:XEe.test(t.charAt(c-1))?(d*=qEe,m=t.slice(i,c-1).match(ZEe),m&&i>0&&(d*=Math.pow(Zk,m.length))):QEe.test(t.charAt(c-1))?(d*=UEe,y=t.slice(i,c-1).match(G7),y&&i>0&&(d*=Math.pow(Zk,y.length))):(d*=YEe,i>0&&(d*=Math.pow(Zk,c-i))),t.charAt(c)!==e.charAt(s)&&(d*=GEe)),(d<Xk&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(h=hN(t,e,n,r,c+1,s+2,o),h*Xk>d&&(d=h*Xk)),d>u&&(u=d),c=n.indexOf(l,c+1);return o[a]=u,u}function iL(t){return t.toLowerCase().replace(G7," ")}function JEe(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,hN(t,e,iL(t),iL(e),0,0,{})}var Qk={exports:{}},Jk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL;function eNe(){if(sL)return Jk;sL=1;var t=Dd();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var m=h(),y=r({inst:{value:m,getSnapshot:h}}),v=y[0].inst,w=y[1];return s(function(){v.value=m,v.getSnapshot=h,l(v)&&w({inst:v})},[d,m,h]),i(function(){return l(v)&&w({inst:v}),d(function(){l(v)&&w({inst:v})})},[d]),o(m),m}function l(d){var h=d.getSnapshot;d=d.value;try{var m=h();return!n(d,m)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Jk.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Jk}var oL;function K7(){return oL||(oL=1,Qk.exports=eNe()),Qk.exports}var tNe=K7(),eh='[cmdk-group=""]',eS='[cmdk-group-items=""]',nNe='[cmdk-group-heading=""]',A2='[cmdk-item=""]',aL=`${A2}:not([aria-disabled="true"])`,pN="cmdk-item-select",rc="data-value",rNe=(t,e,n)=>JEe(t,e,n),X7=S.createContext(void 0),Em=()=>S.useContext(X7),Z7=S.createContext(void 0),_2=()=>S.useContext(Z7),Q7=S.createContext(void 0),J7=S.forwardRef((t,e)=>{let n=Nu(()=>{var U,j;return{search:"",value:(j=(U=t.value)!=null?U:t.defaultValue)!=null?j:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Nu(()=>new Set),i=Nu(()=>new Map),s=Nu(()=>new Map),o=Nu(()=>new Set),a=eH(t),{label:l,children:c,value:u,onValueChange:d,filter:h,shouldFilter:m,loop:y,disablePointerSelection:v=!1,vimBindings:w=!0,...b}=t,k=zn(),C=zn(),N=zn(),_=S.useRef(null),A=pNe();Ac(()=>{if(u!==void 0){let U=u.trim();n.current.value=U,M.emit()}},[u]),Ac(()=>{A(6,W)},[]);let M=S.useMemo(()=>({subscribe:U=>(o.current.add(U),()=>o.current.delete(U)),snapshot:()=>n.current,setState:(U,j,K)=>{var X,J,Z;if(!Object.is(n.current[U],j)){if(n.current[U]=j,U==="search")F(),O(),A(1,B);else if(U==="value"&&(K||A(5,W),((X=a.current)==null?void 0:X.value)!==void 0)){let oe=j??"";(Z=(J=a.current).onValueChange)==null||Z.call(J,oe);return}M.emit()}},emit:()=>{o.current.forEach(U=>U())}}),[]),R=S.useMemo(()=>({value:(U,j,K)=>{var X;j!==((X=s.current.get(U))==null?void 0:X.value)&&(s.current.set(U,{value:j,keywords:K}),n.current.filtered.items.set(U,D(j,K)),A(2,()=>{O(),M.emit()}))},item:(U,j)=>(r.current.add(U),j&&(i.current.has(j)?i.current.get(j).add(U):i.current.set(j,new Set([U]))),A(3,()=>{F(),O(),n.current.value||B(),M.emit()}),()=>{s.current.delete(U),r.current.delete(U),n.current.filtered.items.delete(U);let K=I();A(4,()=>{F(),(K==null?void 0:K.getAttribute("id"))===U&&B(),M.emit()})}),group:U=>(i.current.has(U)||i.current.set(U,new Set),()=>{s.current.delete(U),i.current.delete(U)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:k,inputId:N,labelId:C,listInnerRef:_}),[]);function D(U,j){var K,X;let J=(X=(K=a.current)==null?void 0:K.filter)!=null?X:rNe;return U?J(U,n.current.search,j):0}function O(){if(!n.current.search||a.current.shouldFilter===!1)return;let U=n.current.filtered.items,j=[];n.current.filtered.groups.forEach(X=>{let J=i.current.get(X),Z=0;J.forEach(oe=>{let fe=U.get(oe);Z=Math.max(fe,Z)}),j.push([X,Z])});let K=_.current;Y().sort((X,J)=>{var Z,oe;let fe=X.getAttribute("id"),me=J.getAttribute("id");return((Z=U.get(me))!=null?Z:0)-((oe=U.get(fe))!=null?oe:0)}).forEach(X=>{let J=X.closest(eS);J?J.appendChild(X.parentElement===J?X:X.closest(`${eS} > *`)):K.appendChild(X.parentElement===K?X:X.closest(`${eS} > *`))}),j.sort((X,J)=>J[1]-X[1]).forEach(X=>{var J;let Z=(J=_.current)==null?void 0:J.querySelector(`${eh}[${rc}="${encodeURIComponent(X[0])}"]`);Z==null||Z.parentElement.appendChild(Z)})}function B(){let U=Y().find(K=>K.getAttribute("aria-disabled")!=="true"),j=U==null?void 0:U.getAttribute(rc);M.setState("value",j||void 0)}function F(){var U,j,K,X;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let J=0;for(let Z of r.current){let oe=(j=(U=s.current.get(Z))==null?void 0:U.value)!=null?j:"",fe=(X=(K=s.current.get(Z))==null?void 0:K.keywords)!=null?X:[],me=D(oe,fe);n.current.filtered.items.set(Z,me),me>0&&J++}for(let[Z,oe]of i.current)for(let fe of oe)if(n.current.filtered.items.get(fe)>0){n.current.filtered.groups.add(Z);break}n.current.filtered.count=J}function W(){var U,j,K;let X=I();X&&(((U=X.parentElement)==null?void 0:U.firstChild)===X&&((K=(j=X.closest(eh))==null?void 0:j.querySelector(nNe))==null||K.scrollIntoView({block:"nearest"})),X.scrollIntoView({block:"nearest"}))}function I(){var U;return(U=_.current)==null?void 0:U.querySelector(`${A2}[aria-selected="true"]`)}function Y(){var U;return Array.from(((U=_.current)==null?void 0:U.querySelectorAll(aL))||[])}function V(U){let j=Y()[U];j&&M.setState("value",j.getAttribute(rc))}function G(U){var j;let K=I(),X=Y(),J=X.findIndex(oe=>oe===K),Z=X[J+U];(j=a.current)!=null&&j.loop&&(Z=J+U<0?X[X.length-1]:J+U===X.length?X[0]:X[J+U]),Z&&M.setState("value",Z.getAttribute(rc))}function H(U){let j=I(),K=j==null?void 0:j.closest(eh),X;for(;K&&!X;)K=U>0?fNe(K,eh):hNe(K,eh),X=K==null?void 0:K.querySelector(aL);X?M.setState("value",X.getAttribute(rc)):G(U)}let $=()=>V(Y().length-1),L=U=>{U.preventDefault(),U.metaKey?$():U.altKey?H(1):G(1)},q=U=>{U.preventDefault(),U.metaKey?V(0):U.altKey?H(-1):G(-1)};return S.createElement(Xe.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:U=>{var j;if((j=b.onKeyDown)==null||j.call(b,U),!U.defaultPrevented)switch(U.key){case"n":case"j":{w&&U.ctrlKey&&L(U);break}case"ArrowDown":{L(U);break}case"p":case"k":{w&&U.ctrlKey&&q(U);break}case"ArrowUp":{q(U);break}case"Home":{U.preventDefault(),V(0);break}case"End":{U.preventDefault(),$();break}case"Enter":if(!U.nativeEvent.isComposing&&U.keyCode!==229){U.preventDefault();let K=I();if(K){let X=new Event(pN);K.dispatchEvent(X)}}}}},S.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:gNe},l),Hv(t,U=>S.createElement(Z7.Provider,{value:M},S.createElement(X7.Provider,{value:R},U))))}),iNe=S.forwardRef((t,e)=>{var n,r;let i=zn(),s=S.useRef(null),o=S.useContext(Q7),a=Em(),l=eH(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Ac(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let u=tH(i,s,[t.value,t.children,s],t.keywords),d=_2(),h=_c(A=>A.value&&A.value===u.current),m=_c(A=>c||a.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);S.useEffect(()=>{let A=s.current;if(!(!A||t.disabled))return A.addEventListener(pN,y),()=>A.removeEventListener(pN,y)},[m,t.onSelect,t.disabled]);function y(){var A,M;v(),(M=(A=l.current).onSelect)==null||M.call(A,u.current)}function v(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:w,value:b,onSelect:k,forceMount:C,keywords:N,..._}=t;return S.createElement(Xe.div,{ref:jp([s,e]),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||a.getDisablePointerSelection()?void 0:v,onClick:w?void 0:y},t.children)}),sNe=S.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=zn(),a=S.useRef(null),l=S.useRef(null),c=zn(),u=Em(),d=_c(m=>i||u.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Ac(()=>u.group(o),[]),tH(o,a,[t.value,t.heading,l]);let h=S.useMemo(()=>({id:o,forceMount:i}),[i]);return S.createElement(Xe.div,{ref:jp([a,e]),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&S.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),Hv(t,m=>S.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},S.createElement(Q7.Provider,{value:h},m))))}),oNe=S.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=S.useRef(null),s=_c(o=>!o.search);return!n&&!s?null:S.createElement(Xe.div,{ref:jp([i,e]),...r,"cmdk-separator":"",role:"separator"})}),aNe=S.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=_2(),o=_c(u=>u.search),a=_c(u=>u.value),l=Em(),c=S.useMemo(()=>{var u;let d=(u=l.listInnerRef.current)==null?void 0:u.querySelector(`${A2}[${rc}="${encodeURIComponent(a)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return S.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),S.createElement(Xe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:i?t.value:o,onChange:u=>{i||s.setState("search",u.target.value),n==null||n(u.target.value)}})}),lNe=S.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=S.useRef(null),o=S.useRef(null),a=Em();return S.useEffect(()=>{if(o.current&&s.current){let l=o.current,c=s.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=l.offsetHeight;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return d.observe(l),()=>{cancelAnimationFrame(u),d.unobserve(l)}}},[]),S.createElement(Xe.div,{ref:jp([s,e]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:a.listId},Hv(t,l=>S.createElement("div",{ref:jp([o,a.listInnerRef]),"cmdk-list-sizer":""},l)))}),cNe=S.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return S.createElement(i$,{open:n,onOpenChange:r},S.createElement(s$,{container:o},S.createElement(o$,{"cmdk-overlay":"",className:i}),S.createElement(a$,{"aria-label":t.label,"cmdk-dialog":"",className:s},S.createElement(J7,{ref:e,...a}))))}),uNe=S.forwardRef((t,e)=>_c(n=>n.filtered.count===0)?S.createElement(Xe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),dNe=S.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return S.createElement(Xe.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Hv(t,o=>S.createElement("div",{"aria-hidden":!0},o)))}),ui=Object.assign(J7,{List:lNe,Item:iNe,Input:aNe,Group:sNe,Separator:oNe,Dialog:cNe,Empty:uNe,Loading:dNe});function fNe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function hNe(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function eH(t){let e=S.useRef(t);return Ac(()=>{e.current=t}),e}var Ac=typeof window>"u"?S.useEffect:S.useLayoutEffect;function Nu(t){let e=S.useRef();return e.current===void 0&&(e.current=t()),e}function jp(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function _c(t){let e=_2(),n=()=>t(e.snapshot());return tNe.useSyncExternalStore(e.subscribe,n,n)}function tH(t,e,n,r=[]){let i=S.useRef(),s=Em();return Ac(()=>{var o;let a=(()=>{var c;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(rc,a),i.current=a}),i}var pNe=()=>{let[t,e]=S.useState(),n=Nu(()=>new Map);return Ac(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function mNe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Hv({asChild:t,children:e},n){return t&&S.isValidElement(e)?S.cloneElement(mNe(e),{ref:e.ref},n(e.props.children)):n(e)}var gNe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const nH=S.forwardRef(({className:t,...e},n)=>g.jsx(ui,{ref:n,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));nH.displayName=ui.displayName;const rH=S.forwardRef(({className:t,...e},n)=>g.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[g.jsx(dC,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),g.jsx(ui.Input,{ref:n,className:ve("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));rH.displayName=ui.Input.displayName;const iH=S.forwardRef(({className:t,...e},n)=>g.jsx(ui.List,{ref:n,className:ve("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));iH.displayName=ui.List.displayName;const yNe=S.forwardRef((t,e)=>g.jsx(ui.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));yNe.displayName=ui.Empty.displayName;const sH=S.forwardRef(({className:t,...e},n)=>g.jsx(ui.Group,{ref:n,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));sH.displayName=ui.Group.displayName;const xNe=S.forwardRef(({className:t,...e},n)=>g.jsx(ui.Separator,{ref:n,className:ve("-mx-1 h-px bg-border",t),...e}));xNe.displayName=ui.Separator.displayName;const mN=S.forwardRef(({className:t,...e},n)=>g.jsx(ui.Item,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e}));mN.displayName=ui.Item.displayName;var M2="Popover",[oH,pLe]=Oi(M2,[Tl]),Nm=Tl(),[vNe,Pl]=oH(M2),aH=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Nm(e),l=S.useRef(null),[c,u]=S.useState(!1),[d=!1,h]=mo({prop:r,defaultProp:i,onChange:s});return g.jsx(um,{...a,children:g.jsx(vNe,{scope:e,contentId:zn(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:c,onCustomAnchorAdd:S.useCallback(()=>u(!0),[]),onCustomAnchorRemove:S.useCallback(()=>u(!1),[]),modal:o,children:n})})};aH.displayName=M2;var lH="PopoverAnchor",wNe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Pl(lH,n),s=Nm(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return S.useEffect(()=>(o(),()=>a()),[o,a]),g.jsx(dm,{...s,...r,ref:e})});wNe.displayName=lH;var cH="PopoverTrigger",uH=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Pl(cH,n),s=Nm(n),o=kt(e,i.triggerRef),a=g.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mH(i.open),...r,ref:o,onClick:Re(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:g.jsx(dm,{asChild:!0,...s,children:a})});uH.displayName=cH;var P2="PopoverPortal",[bNe,kNe]=oH(P2,{forceMount:void 0}),dH=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Pl(P2,e);return g.jsx(bNe,{scope:e,forceMount:n,children:g.jsx(Pr,{present:n||s.open,children:g.jsx(am,{asChild:!0,container:i,children:r})})})};dH.displayName=P2;var Ed="PopoverContent",fH=S.forwardRef((t,e)=>{const n=kNe(Ed,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Pl(Ed,t.__scopePopover);return g.jsx(Pr,{present:r||s.open,children:s.modal?g.jsx(SNe,{...i,ref:e}):g.jsx(CNe,{...i,ref:e})})});fH.displayName=Ed;var SNe=S.forwardRef((t,e)=>{const n=Pl(Ed,t.__scopePopover),r=S.useRef(null),i=kt(e,r),s=S.useRef(!1);return S.useEffect(()=>{const o=r.current;if(o)return pv(o)},[]),g.jsx(lm,{as:uo,allowPinchZoom:!0,children:g.jsx(hH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Re(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),CNe=S.forwardRef((t,e)=>{const n=Pl(Ed,t.__scopePopover),r=S.useRef(!1),i=S.useRef(!1);return g.jsx(hH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),hH=S.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,h=Pl(Ed,n),m=Nm(n);return fv(),g.jsx(om,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:g.jsx(xv,{"data-state":mH(h.open),role:"dialog",id:h.contentId,...m,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pH="PopoverClose",ENe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Pl(pH,n);return g.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>i.onOpenChange(!1))})});ENe.displayName=pH;var NNe="PopoverArrow",TNe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Nm(n);return g.jsx(vv,{...i,...r,ref:e})});TNe.displayName=NNe;function mH(t){return t?"open":"closed"}var ANe=aH,_Ne=uH,MNe=dH,gH=fH;const yH=ANe,xH=_Ne,R2=S.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>g.jsx(MNe,{children:g.jsx(gH,{ref:i,align:e,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));R2.displayName=gH.displayName;function lL({name:t,control:e,options:n=[],handleFieldChange:r,placeholder:i}){const[s,o]=S.useState(!1),[a,l]=S.useState("");return g.jsx(Qd,{name:t,control:e,render:({field:c})=>{const u=c.value||[],d=m=>{const y=u.filter(v=>v!==m);c.onChange(y),r==null||r({key:t,value:y})},h=m=>{if(!m)return;const y=[...u,m];c.onChange(y),r==null||r({key:t,value:y}),l(""),o(!1)};return g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(m=>g.jsxs(Ah,{className:"flex items-center gap-1",children:[m,g.jsx(pt,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0",onClick:()=>d(m),children:g.jsx(Cl,{className:"h-3 w-3"})})]},m))}),g.jsxs(yH,{open:s,onOpenChange:o,children:[g.jsx(xH,{asChild:!0,children:g.jsxs(pt,{variant:"outline",size:"sm",className:"w-full justify-start",children:[g.jsx(Hh,{className:"mr-2 h-4 w-4"}),i||"Add item"]})}),g.jsx(R2,{className:"p-0",align:"start",children:g.jsxs(nH,{children:[g.jsx(rH,{placeholder:"Enter value...",value:a,onValueChange:l}),g.jsx(iH,{children:g.jsxs(sH,{children:[n.filter(m=>!u.includes(m.value)).map(m=>g.jsx(mN,{onSelect:()=>h(m.value),children:m.label},m.value)),a&&g.jsxs(mN,{onSelect:()=>h(a),children:['Create "',a,'"']})]})})]})})]})]})}})}function PNe(t,e,n){var r=this,i=S.useRef(null),s=S.useRef(0),o=S.useRef(null),a=S.useRef([]),l=S.useRef(),c=S.useRef(),u=S.useRef(t),d=S.useRef(!0);u.current=t;var h=typeof window<"u",m=!e&&e!==0&&h;if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var y=!!(n=n||{}).leading,v=!("trailing"in n)||!!n.trailing,w="maxWait"in n,b="debounceOnServer"in n&&!!n.debounceOnServer,k=w?Math.max(+n.maxWait||0,e):null;S.useEffect(function(){return d.current=!0,function(){d.current=!1}},[]);var C=S.useMemo(function(){var N=function(O){var B=a.current,F=l.current;return a.current=l.current=null,s.current=O,c.current=u.current.apply(F,B)},_=function(O,B){m&&cancelAnimationFrame(o.current),o.current=m?requestAnimationFrame(O):setTimeout(O,B)},A=function(O){if(!d.current)return!1;var B=O-i.current;return!i.current||B>=e||B<0||w&&O-s.current>=k},M=function(O){return o.current=null,v&&a.current?N(O):(a.current=l.current=null,c.current)},R=function O(){var B=Date.now();if(A(B))return M(B);if(d.current){var F=e-(B-i.current),W=w?Math.min(F,k-(B-s.current)):F;_(O,W)}},D=function(){if(h||b){var O=Date.now(),B=A(O);if(a.current=[].slice.call(arguments),l.current=r,i.current=O,B){if(!o.current&&d.current)return s.current=i.current,_(R,e),y?N(i.current):c.current;if(w)return _(R,e),N(i.current)}return o.current||_(R,e),c.current}};return D.cancel=function(){o.current&&(m?cancelAnimationFrame(o.current):clearTimeout(o.current)),s.current=0,a.current=i.current=l.current=o.current=null},D.isPending=function(){return!!o.current},D.flush=function(){return o.current?M(Date.now()):c.current},D},[y,w,e,k,v,m,h,b]);return C}var at;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(at||(at={}));var tn;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(tn||(tn={}));var vs;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(vs||(vs={}));const tS={},gh={};function Ih(t,e){try{const r=(tS[t]||(tS[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in gh?gh[r]:cL(r,r.split(":"))}catch{if(t in gh)return gh[t];const n=t==null?void 0:t.match(RNe);return n?cL(t,n.slice(1)):NaN}}const RNe=/([+-]\d\d):?(\d\d)?/;function cL(t,e){const n=+e[0],r=+(e[1]||0);return gh[t]=n>0?n*60+r:n*60-r}class no extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Ih(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),vH(this),gN(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new no(...n,e):new no(Date.now(),e)}withTimeZone(e){return new no(+this,e)}getTimezoneOffset(){return-Ih(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),gN(this),+this}[Symbol.for("constructDateFrom")](e){return new no(+new Date(e),this.timeZone)}}const uL=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!uL.test(t))return;const e=t.replace(uL,"$1UTC");no.prototype[e]&&(t.startsWith("get")?no.prototype[t]=function(){return this.internal[e]()}:(no.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),ONe(this),+this},no.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),gN(this),+this}))});function gN(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function ONe(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),vH(t)}function vH(t){const e=Ih(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),s=r-i,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const l=Ih(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-l,d=l!==e,h=u-a;if(d&&h){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const m=Ih(t.timeZone,t),y=l-m;y&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+y),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+y))}}class lc extends no{static tz(e,...n){return n.length?new lc(...n,e):new lc(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${DNe(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new lc(+this,e)}[Symbol.for("constructDateFrom")](e){return new lc(+new Date(e),this.timeZone)}}function DNe(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}const dL=5,jNe=4;function INe(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),s=e.addDays(i,dL*7-1);return e.getMonth(t)===e.getMonth(s)?dL:jNe}function wH(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function LNe(t,e){const n=wH(t,e),r=INe(t,e);return e.addDays(n,r*7-1)}class ga{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?lc.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,s)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,i,s):this.options.timeZone?new lc(r,i,s,this.options.timeZone):new Date(r,i,s)},this.addDays=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addDays)==null?void 0:o.call(s,r,i))??g6(r,i)},this.addMonths=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addMonths)==null?void 0:o.call(s,r,i))??y6(r,i)},this.addWeeks=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addWeeks)==null?void 0:o.call(s,r,i))??Mme(r,i)},this.addYears=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addYears)==null?void 0:o.call(s,r,i))??Pme(r,i)},this.differenceInCalendarDays=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.differenceInCalendarDays)==null?void 0:o.call(s,r,i))??v6(r,i)},this.differenceInCalendarMonths=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.differenceInCalendarMonths)==null?void 0:o.call(s,r,i))??k6(r,i)},this.eachMonthOfInterval=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.eachMonthOfInterval)==null?void 0:s.call(i,r))??Wme(r)},this.endOfBroadcastWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.endOfBroadcastWeek)==null?void 0:o.call(s,r,i))??LNe(r,this)},this.endOfISOWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.endOfISOWeek)==null?void 0:s.call(i,r))??qme(r)},this.endOfMonth=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.endOfMonth)==null?void 0:s.call(i,r))??S6(r)},this.endOfWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.endOfWeek)==null?void 0:o.call(s,r,i??this.options))??E6(r,i??this.options)},this.endOfYear=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.endOfYear)==null?void 0:s.call(i,r))??Ume(r)},this.format=(r,i,s)=>{var a,l;const o=((l=(a=this.overrides)==null?void 0:a.format)==null?void 0:l.call(a,r,i,s??this.options))??Uu(r,i,s??this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.getISOWeek)==null?void 0:s.call(i,r))??N6(r)},this.getMonth=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.getMonth)==null?void 0:s.call(i,r))??Uge(r)},this.getYear=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.getYear)==null?void 0:s.call(i,r))??qge(r)},this.getWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.getWeek)==null?void 0:o.call(s,r,i??this.options))??A6(r,i??this.options)},this.isAfter=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isAfter)==null?void 0:o.call(s,r,i))??Yge(r,i)},this.isBefore=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isBefore)==null?void 0:o.call(s,r,i))??Gge(r,i)},this.isDate=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.isDate)==null?void 0:s.call(i,r))??w6(r)},this.isSameDay=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isSameDay)==null?void 0:o.call(s,r,i))??jme(r,i)},this.isSameMonth=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isSameMonth)==null?void 0:o.call(s,r,i))??Kge(r,i)},this.isSameYear=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isSameYear)==null?void 0:o.call(s,r,i))??Xge(r,i)},this.max=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.max)==null?void 0:s.call(i,r))??Rme(r)},this.min=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.min)==null?void 0:s.call(i,r))??Ome(r)},this.setMonth=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.setMonth)==null?void 0:o.call(s,r,i))??Zge(r,i)},this.setYear=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.setYear)==null?void 0:o.call(s,r,i))??Qge(r,i)},this.startOfBroadcastWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.startOfBroadcastWeek)==null?void 0:o.call(s,r,i??this))??wH(r,i??this)},this.startOfDay=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfDay)==null?void 0:s.call(i,r))??ip(r)},this.startOfISOWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfISOWeek)==null?void 0:s.call(i,r))??rp(r)},this.startOfMonth=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfMonth)==null?void 0:s.call(i,r))??Hme(r)},this.startOfWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfWeek)==null?void 0:s.call(i,r))??cd(r,this.options)},this.startOfYear=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfYear)==null?void 0:s.call(i,r))??C6(r)},this.options={locale:bv,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const ya=new ga;function FNe(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[s])=>(n[s]?i.push(n[s]):e[tn[s]]?i.push(e[tn[s]]):e[vs[s]]&&i.push(e[vs[s]]),i),[e[at.Day]])}function BNe(t){return ne.createElement("button",{...t})}function zNe(t){return ne.createElement("span",{...t})}function $Ne(t){const{size:e=24,orientation:n="left",className:r}=t;return ne.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&ne.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ne.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ne.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ne.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function VNe(t){const{day:e,modifiers:n,...r}=t;return ne.createElement("td",{...r})}function WNe(t){const{day:e,modifiers:n,...r}=t,i=ne.useRef(null);return ne.useEffect(()=>{var s;n.focused&&((s=i.current)==null||s.focus())},[n.focused]),ne.createElement("button",{ref:i,...r})}function HNe(t){const{options:e,className:n,components:r,classNames:i,...s}=t,o=[i[at.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:l})=>l===s.value);return ne.createElement("span",{"data-disabled":s.disabled,className:i[at.DropdownRoot]},ne.createElement(r.Select,{className:o,...s},e==null?void 0:e.map(({value:l,label:c,disabled:u})=>ne.createElement(r.Option,{key:l,value:l,disabled:u},c))),ne.createElement("span",{className:i[at.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,ne.createElement(r.Chevron,{orientation:"down",size:18,className:i[at.Chevron]})))}function UNe(t){return ne.createElement("div",{...t})}function qNe(t){return ne.createElement("div",{...t})}function YNe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ne.createElement("div",{...r},t.children)}function GNe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return ne.createElement("div",{...r})}function KNe(t){return ne.createElement("table",{...t})}function XNe(t){return ne.createElement("div",{...t})}const bH=S.createContext(void 0);function Tm(){const t=S.useContext(bH);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function ZNe(t){const{components:e}=Tm();return ne.createElement(e.Dropdown,{...t})}function QNe(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...s}=t,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=Tm();return ne.createElement("nav",{...s},ne.createElement(o.PreviousMonthButton,{type:"button",className:a[at.PreviousMonthButton],tabIndex:r?void 0:-1,disabled:r?void 0:!0,"aria-label":l(r),onClick:t.onPreviousClick},ne.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[at.Chevron],orientation:"left"})),ne.createElement(o.NextMonthButton,{type:"button",className:a[at.NextMonthButton],tabIndex:i?void 0:-1,disabled:i?void 0:!0,"aria-label":c(i),onClick:t.onNextClick},ne.createElement(o.Chevron,{disabled:i?void 0:!0,orientation:"right",className:a[at.Chevron]})))}function JNe(t){const{components:e}=Tm();return ne.createElement(e.Button,{...t})}function eTe(t){return ne.createElement("option",{...t})}function tTe(t){const{components:e}=Tm();return ne.createElement(e.Button,{...t})}function nTe(t){return ne.createElement("div",{...t})}function rTe(t){return ne.createElement("select",{...t})}function iTe(t){const{week:e,...n}=t;return ne.createElement("tr",{...n})}function sTe(t){return ne.createElement("th",{...t})}function oTe(t){return ne.createElement("thead",{"aria-hidden":!0},ne.createElement("tr",{...t}))}function aTe(t){const{week:e,...n}=t;return ne.createElement("th",{...n})}function lTe(t){return ne.createElement("th",{...t})}function cTe(t){return ne.createElement("tbody",{...t})}function uTe(t){const{components:e}=Tm();return ne.createElement(e.Dropdown,{...t})}const dTe=Object.freeze(Object.defineProperty({__proto__:null,Button:BNe,CaptionLabel:zNe,Chevron:$Ne,Day:VNe,DayButton:WNe,Dropdown:HNe,DropdownNav:UNe,Footer:qNe,Month:YNe,MonthCaption:GNe,MonthGrid:KNe,Months:XNe,MonthsDropdown:ZNe,Nav:QNe,NextMonthButton:JNe,Option:eTe,PreviousMonthButton:tTe,Root:nTe,Select:rTe,Week:iTe,WeekNumber:aTe,WeekNumberHeader:lTe,Weekday:sTe,Weekdays:oTe,Weeks:cTe,YearsDropdown:uTe},Symbol.toStringTag,{value:"Module"}));function fTe(t){return{...dTe,...t}}function hTe(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function pTe(){const t={};for(const e in at)t[at[e]]=`rdp-${at[e]}`;for(const e in tn)t[tn[e]]=`rdp-${tn[e]}`;for(const e in vs)t[vs[e]]=`rdp-${vs[e]}`;return t}function kH(t,e,n){return(n??new ga(e)).format(t,"LLLL y")}const mTe=kH;function gTe(t,e,n){return(n??new ga(e)).format(t,"d")}function yTe(t,e=ya){return e.format(t,"LLLL")}function xTe(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function vTe(){return""}function wTe(t,e,n){return(n??new ga(e)).format(t,"cccccc")}function SH(t,e=ya){return e.format(t,"yyyy")}const bTe=SH,kTe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:kH,formatDay:gTe,formatMonthCaption:mTe,formatMonthDropdown:yTe,formatWeekNumber:xTe,formatWeekNumberHeader:vTe,formatWeekdayName:wTe,formatYearCaption:bTe,formatYearDropdown:SH},Symbol.toStringTag,{value:"Module"}));function STe(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...kTe,...t}}function CTe(t,e,n,r,i){const{startOfMonth:s,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=i;return l({start:o(t),end:a(t)}).map(h=>{const m=r.formatMonthDropdown(h,i),y=c(h),v=e&&h<s(e)||n&&h>s(n)||!1;return{value:y,label:m,disabled:v}})}function ETe(t,e={},n={}){let r={...e==null?void 0:e[at.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function NTe(t,e,n){const r=t.today(),i=e?t.startOfISOWeek(r):t.startOfWeek(r),s=[];for(let o=0;o<7;o++){const a=t.addDays(i,o);s.push(a)}return s}function TTe(t,e,n,r){if(!t||!e)return;const{startOfYear:i,endOfYear:s,addYears:o,getYear:a,isBefore:l,isSameYear:c}=r,u=i(t),d=s(e),h=[];let m=u;for(;l(m,d)||c(m,d);)h.push(m),m=o(m,1);return h.map(y=>{const v=n.formatYearDropdown(y,r);return{value:a(y),label:v,disabled:!1}})}function CH(t,e,n){return(n??new ga(e)).format(t,"LLLL y")}const ATe=CH;function _Te(t,e,n,r){let i=(r??new ga(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function EH(t,e,n,r){let i=(r??new ga(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const MTe=EH;function PTe(){return""}function RTe(t){return"Choose the Month"}function OTe(t){return"Go to the Next Month"}function DTe(t){return"Go to the Previous Month"}function jTe(t,e,n){return(n??new ga(e)).format(t,"cccc")}function ITe(t,e){return`Week ${t}`}function LTe(t){return"Week Number"}function FTe(t){return"Choose the Year"}const BTe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:ATe,labelDay:MTe,labelDayButton:EH,labelGrid:CH,labelGridcell:_Te,labelMonthDropdown:RTe,labelNav:PTe,labelNext:OTe,labelPrevious:DTe,labelWeekNumber:ITe,labelWeekNumberHeader:LTe,labelWeekday:jTe,labelYearDropdown:FTe},Symbol.toStringTag,{value:"Module"}));function zTe(t,e,n,r){const i=t[0],s=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:m,endOfMonth:y,endOfWeek:v,isAfter:w,startOfBroadcastWeek:b,startOfISOWeek:k,startOfWeek:C}=r,N=l?b(i,r):o?k(i):C(i),_=l?h(s,r):o?m(y(s)):v(y(s)),A=u(_,N),M=d(s,i)+1,R=[];for(let B=0;B<=A;B++){const F=c(N,B);if(e&&w(F,e))break;R.push(F)}const O=(l?35:42)*M;if(a&&R.length<O){const B=O-R.length;for(let F=0;F<B;F++){const W=c(R[R.length-1],1);R.push(W)}}return R}function $Te(t){const e=[];return t.reduce((n,r)=>{const i=[],s=r.weeks.reduce((o,a)=>[...o,...a.days],i);return[...n,...s]},e)}function VTe(t,e,n,r){const{numberOfMonths:i=1}=n,s=[];for(let o=0;o<i;o++){const a=r.addMonths(t,o);if(e&&a>e)break;s.push(a)}return s}function fL(t,e){const{month:n,defaultMonth:r,today:i=e.today(),numberOfMonths:s=1,endMonth:o,startMonth:a}=t;let l=n||r||i;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=e;if(o&&c(o,l)<0){const h=-1*(s-1);l=u(o,h)}return a&&c(l,a)<0&&(l=a),d(l)}class NH{constructor(e,n,r=ya){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class WTe{constructor(e,n){this.date=e,this.weeks=n}}class HTe{constructor(e,n){this.days=n,this.weekNumber=e}}function UTe(t,e,n,r){const{addDays:i,endOfBroadcastWeek:s,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:m}=r,y=t.reduce((v,w)=>{const b=n.broadcastCalendar?d(w,r):n.ISOWeek?h(w):m(w),k=n.broadcastCalendar?s(w,r):n.ISOWeek?o(a(w)):l(a(w)),C=e.filter(M=>M>=b&&M<=k),N=n.broadcastCalendar?35:42;if(n.fixedWeeks&&C.length<N){const M=e.filter(R=>{const D=N-C.length;return R>k&&R<=i(k,D)});C.push(...M)}const _=C.reduce((M,R)=>{const D=n.ISOWeek?c(R):u(R),O=M.find(F=>F.weekNumber===D),B=new NH(R,w,r);return O?O.days.push(B):M.push(new HTe(D,[B])),M},[]),A=new WTe(w,_);return v.push(A),v},[]);return n.reverseMonths?y.reverse():y}function qTe(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:s,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:u,today:d}=e,{fromYear:h,toYear:m,fromMonth:y,toMonth:v}=t;!n&&y&&(n=y),!n&&h&&(n=e.newDate(h,0,1)),!r&&v&&(r=v),!r&&m&&(r=u(m,11,31));const w=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):h?n=u(h,0,1):!n&&w&&(n=i(l(t.today??d(),-100))),r?r=a(r):m?r=u(m,11,31):!r&&w&&(r=c(t.today??d())),[n&&s(n),r&&s(r)]}function YTe(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,c=i?s:1,u=o(t);if(!e)return a(u,c);if(!(l(e,t)<s))return a(u,c)}function GTe(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,c=i?s??1:1,u=o(t);if(!e)return a(u,-c);if(!(l(u,e)<=0))return a(u,-c)}function KTe(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Uv(t,e){const[n,r]=S.useState(t);return[e===void 0?n:e,r]}function XTe(t,e){const[n,r]=qTe(t,e),{startOfMonth:i,endOfMonth:s}=e,o=fL(t,e),[a,l]=Uv(o,t.month?o:void 0);S.useEffect(()=>{const A=fL(t,e);l(A)},[t.timeZone]);const c=VTe(a,r,t,e),u=zTe(c,t.endMonth?s(t.endMonth):void 0,t,e),d=UTe(c,u,t,e),h=KTe(d),m=$Te(d),y=GTe(a,n,t,e),v=YTe(a,r,t,e),{disableNavigation:w,onMonthChange:b}=t,k=A=>h.some(M=>M.days.some(R=>R.isEqualTo(A))),C=A=>{if(w)return;let M=i(A);n&&M<i(n)&&(M=i(n)),r&&M>i(r)&&(M=i(r)),l(M),b==null||b(M)};return{months:d,weeks:h,days:m,navStart:n,navEnd:r,previousMonth:y,nextMonth:v,goToMonth:C,goToDay:A=>{k(A)||C(A.date)}}}function ZTe(t,e,n,r){let i,s=0,o=!1;for(;s<t.length&&!o;){const a=t[s],l=e(a);!l[tn.disabled]&&!l[tn.hidden]&&!l[tn.outside]&&(l[tn.focused]||r!=null&&r.isEqualTo(a)||n(a.date)||l[tn.today])&&(i=a,o=!0),s++}return i||(i=t.find(a=>{const l=e(a);return!l[tn.disabled]&&!l[tn.hidden]&&!l[tn.outside]})),i}function Go(t,e,n=!1,r=ya){let{from:i,to:s}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return i&&s?(o(s,i)<0&&([i,s]=[s,i]),o(e,i)>=(n?1:0)&&o(s,e)>=(n?1:0)):!n&&s?a(s,e):!n&&i?a(i,e):!1}function TH(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function O2(t){return!!(t&&typeof t=="object"&&"from"in t)}function AH(t){return!!(t&&typeof t=="object"&&"after"in t)}function _H(t){return!!(t&&typeof t=="object"&&"before"in t)}function MH(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function PH(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Ko(t,e,n=ya){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:s,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return i(t,a);if(PH(a,n))return a.includes(t);if(O2(a))return Go(a,t,!1,n);if(MH(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(TH(a)){const l=s(a.before,t),c=s(a.after,t),u=l>0,d=c<0;return o(a.before,a.after)?d&&u:u||d}return AH(a)?s(t,a.after)>0:_H(a)?s(a.before,t)>0:typeof a=="function"?a(t):!1})}function QTe(t,e,n,r,i,s,o){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:m,endOfISOWeek:y,endOfWeek:v,max:w,min:b,startOfBroadcastWeek:k,startOfISOWeek:C,startOfWeek:N}=o;let A={day:c,week:d,month:u,year:h,startOfWeek:M=>l?k(M,o):a?C(M):N(M),endOfWeek:M=>l?m(M,o):a?y(M):v(M)}[t](n,e==="after"?1:-1);return e==="before"&&r?A=w([r,A]):e==="after"&&i&&(A=b([i,A])),A}function RH(t,e,n,r,i,s,o,a=0){if(a>365)return;const l=QTe(t,e,n.date,r,i,s,o),c=!!(s.disabled&&Ko(l,s.disabled,o)),u=!!(s.hidden&&Ko(l,s.hidden,o)),d=l,h=new NH(l,d,o);return!c&&!u?h:RH(t,e,h,r,i,s,o,a+1)}function JTe(t,e,n,r,i){const{autoFocus:s}=t,[o,a]=S.useState(),l=ZTe(e.days,n,r||(()=>!1),o),[c,u]=S.useState(s?l:void 0);return{isFocusTarget:v=>!!(l!=null&&l.isEqualTo(v)),setFocused:u,focused:c,blur:()=>{a(c),u(void 0)},moveFocus:(v,w)=>{if(!c)return;const b=RH(v,w,c,e.navStart,e.navEnd,t,i);b&&(e.goToDay(b),u(b))}}}function eAe(t,e,n){const{disabled:r,hidden:i,modifiers:s,showOutsideDays:o,broadcastCalendar:a,today:l}=e,{isSameDay:c,isSameMonth:u,startOfMonth:d,isBefore:h,endOfMonth:m,isAfter:y}=n,v=e.startMonth&&d(e.startMonth),w=e.endMonth&&m(e.endMonth),b={[tn.focused]:[],[tn.outside]:[],[tn.disabled]:[],[tn.hidden]:[],[tn.today]:[]},k={};for(const C of t){const{date:N,displayMonth:_}=C,A=!!(_&&!u(N,_)),M=!!(v&&h(N,v)),R=!!(w&&y(N,w)),D=!!(r&&Ko(N,r,n)),O=!!(i&&Ko(N,i,n))||M||R||!a&&!o&&A||a&&o===!1&&A,B=c(N,l??n.today());A&&b.outside.push(C),D&&b.disabled.push(C),O&&b.hidden.push(C),B&&b.today.push(C),s&&Object.keys(s).forEach(F=>{const W=s==null?void 0:s[F];W&&Ko(N,W,n)&&(k[F]?k[F].push(C):k[F]=[C])})}return C=>{const N={[tn.focused]:!1,[tn.disabled]:!1,[tn.hidden]:!1,[tn.outside]:!1,[tn.today]:!1},_={};for(const A in b){const M=b[A];N[A]=M.some(R=>R===C)}for(const A in k)_[A]=k[A].some(M=>M===C);return{...N,..._}}}function tAe(t,e){const{selected:n,required:r,onSelect:i}=t,[s,o]=Uv(n,i?n:void 0),a=i?n:s,{isSameDay:l}=e,c=m=>(a==null?void 0:a.some(y=>l(y,m)))??!1,{min:u,max:d}=t;return{selected:a,select:(m,y,v)=>{let w=[...a??[]];if(c(m)){if((a==null?void 0:a.length)===u||r&&(a==null?void 0:a.length)===1)return;w=a==null?void 0:a.filter(b=>!l(b,m))}else(a==null?void 0:a.length)===d?w=[m]:w=[...w,m];return i||o(w),i==null||i(w,m,y,v),w},isSelected:c}}function nAe(t,e,n=0,r=0,i=!1,s=ya){const{from:o,to:a}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=s;let d;if(!o&&!a)d={from:t,to:n>0?void 0:t};else if(o&&!a)l(o,t)?i?d={from:o,to:void 0}:d=void 0:u(t,o)?d={from:t,to:o}:d={from:o,to:t};else if(o&&a)if(l(o,t)&&l(a,t))i?d={from:o,to:a}:d=void 0;else if(l(o,t))d={from:o,to:n>0?void 0:t};else if(l(a,t))d={from:t,to:n>0?void 0:t};else if(u(t,o))d={from:t,to:a};else if(c(t,o))d={from:o,to:t};else if(c(t,a))d={from:o,to:t};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=s.differenceInCalendarDays(d.to,d.from);r>0&&h>r?d={from:t,to:void 0}:n>1&&h<n&&(d={from:t,to:void 0})}return d}function rAe(t,e,n=ya){const r=Array.isArray(e)?e:[e];let i=t.from;const s=n.differenceInCalendarDays(t.to,t.from),o=Math.min(s,6);for(let a=0;a<=o;a++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function hL(t,e,n=ya){return Go(t,e.from,!1,n)||Go(t,e.to,!1,n)||Go(e,t.from,!1,n)||Go(e,t.to,!1,n)}function iAe(t,e,n=ya){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Go(t,a,!1,n):PH(a,n)?a.some(l=>Go(t,l,!1,n)):O2(a)?a.from&&a.to?hL(t,{from:a.from,to:a.to},n):!1:MH(a)?rAe(t,a.dayOfWeek,n):TH(a)?n.isAfter(a.before,a.after)?hL(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):Ko(t.from,a,n)||Ko(t.to,a,n):AH(a)||_H(a)?Ko(t.from,a,n)||Ko(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(o.some(u=>u(a)))return!0;a=n.addDays(a,1)}}return!1}function sAe(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:s,onSelect:o}=t,[a,l]=Uv(i,o?i:void 0),c=o?i:a;return{selected:c,select:(h,m,y)=>{const{min:v,max:w}=t,b=h?nAe(h,c,v,w,s,e):void 0;return r&&n&&(b!=null&&b.from)&&b.to&&iAe({from:b.from,to:b.to},n,e)&&(b.from=h,b.to=void 0),o||l(b),o==null||o(b,h,m,y),b},isSelected:h=>c&&Go(c,h,!1,e)}}function oAe(t,e){const{selected:n,required:r,onSelect:i}=t,[s,o]=Uv(n,i?n:void 0),a=i?n:s,{isSameDay:l}=e;return{selected:a,select:(d,h,m)=>{let y=d;return!r&&a&&a&&l(d,a)&&(y=void 0),i||o(y),i==null||i(y,d,h,m),y},isSelected:d=>a?l(a,d):!1}}function aAe(t,e){const n=oAe(t,e),r=tAe(t,e),i=sAe(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function lAe(t){const{components:e,formatters:n,labels:r,dateLib:i,locale:s,classNames:o}=S.useMemo(()=>{const st={...bv,...t.locale};return{dateLib:new ga({locale:st,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:fTe(t.components),formatters:STe(t.formatters),labels:{...BTe,...t.labels},locale:st,classNames:{...pTe(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:a,mode:l,onDayBlur:c,onDayClick:u,onDayFocus:d,onDayKeyDown:h,onDayMouseEnter:m,onDayMouseLeave:y,onNextClick:v,onPrevClick:w,showWeekNumber:b,styles:k}=t,{formatCaption:C,formatDay:N,formatMonthDropdown:_,formatWeekNumber:A,formatWeekNumberHeader:M,formatWeekdayName:R,formatYearDropdown:D}=n,O=XTe(t,i),{days:B,months:F,navStart:W,navEnd:I,previousMonth:Y,nextMonth:V,goToMonth:G}=O,H=eAe(B,t,i),{isSelected:$,select:L,selected:q}=aAe(t,i)??{},{blur:U,focused:j,isFocusTarget:K,moveFocus:X,setFocused:J}=JTe(t,O,H,$??(()=>!1),i),{labelDayButton:Z,labelGridcell:oe,labelGrid:fe,labelMonthDropdown:me,labelNav:Te,labelWeekday:xe,labelWeekNumber:be,labelWeekNumberHeader:Pe,labelYearDropdown:Ze}=r,Qe=S.useMemo(()=>NTe(i,t.ISOWeek),[i,t.ISOWeek]),Dt=l!==void 0||u!==void 0,ee=S.useCallback(()=>{Y&&(G(Y),w==null||w(Y))},[Y,G,w]),se=S.useCallback(()=>{V&&(G(V),v==null||v(V))},[G,V,v]),ce=S.useCallback((st,mt)=>ht=>{ht.preventDefault(),ht.stopPropagation(),J(st),L==null||L(st.date,mt,ht),u==null||u(st.date,mt,ht)},[L,u,J]),ke=S.useCallback((st,mt)=>ht=>{J(st),d==null||d(st.date,mt,ht)},[d,J]),Ce=S.useCallback((st,mt)=>ht=>{U(),c==null||c(st.date,mt,ht)},[U,c]),ye=S.useCallback((st,mt)=>ht=>{const hn={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[ht.shiftKey?"year":"month","before"],PageDown:[ht.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(hn[ht.key]){ht.preventDefault(),ht.stopPropagation();const[Ct,Hn]=hn[ht.key];X(Ct,Hn)}h==null||h(st.date,mt,ht)},[X,h,t.dir]),ze=S.useCallback((st,mt)=>ht=>{m==null||m(st.date,mt,ht)},[m]),$e=S.useCallback((st,mt)=>ht=>{y==null||y(st.date,mt,ht)},[y]),ae=S.useCallback(st=>mt=>{const ht=Number(mt.target.value),hn=i.setMonth(i.startOfMonth(st),ht);G(hn)},[i,G]),he=S.useCallback(st=>mt=>{const ht=Number(mt.target.value),hn=i.setYear(i.startOfMonth(st),ht);G(hn)},[i,G]),{className:We,style:et}=S.useMemo(()=>({className:[o[at.Root],t.className].filter(Boolean).join(" "),style:{...k==null?void 0:k[at.Root],...t.style}}),[o,t.className,t.style,k]),ft=hTe(t),qt={dayPickerProps:t,selected:q,select:L,isSelected:$,months:F,nextMonth:V,previousMonth:Y,goToMonth:G,getModifiers:H,components:e,classNames:o,styles:k,labels:r,formatters:n};return ne.createElement(bH.Provider,{value:qt},ne.createElement(e.Root,{className:We,style:et,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...ft},ne.createElement(e.Months,{className:o[at.Months],style:k==null?void 0:k[at.Months]},!t.hideNavigation&&ne.createElement(e.Nav,{className:o[at.Nav],style:k==null?void 0:k[at.Nav],"aria-label":Te(),onPreviousClick:ee,onNextClick:se,previousMonth:Y,nextMonth:V}),F.map((st,mt)=>{const ht=CTe(st.date,W,I,n,i),hn=TTe(W,I,n,i);return ne.createElement(e.Month,{className:o[at.Month],style:k==null?void 0:k[at.Month],key:mt,displayIndex:mt,calendarMonth:st},ne.createElement(e.MonthCaption,{className:o[at.MonthCaption],style:k==null?void 0:k[at.MonthCaption],calendarMonth:st,displayIndex:mt},a!=null&&a.startsWith("dropdown")?ne.createElement(e.DropdownNav,{className:o[at.Dropdowns],style:k==null?void 0:k[at.Dropdowns]},a==="dropdown"||a==="dropdown-months"?ne.createElement(e.MonthsDropdown,{className:o[at.MonthsDropdown],"aria-label":me(),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:ae(st.date),options:ht,style:k==null?void 0:k[at.Dropdown],value:i.getMonth(st.date)}):ne.createElement("span",{role:"status","aria-live":"polite"},_(st.date,i)),a==="dropdown"||a==="dropdown-years"?ne.createElement(e.YearsDropdown,{className:o[at.YearsDropdown],"aria-label":Ze(i.options),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:he(st.date),options:hn,style:k==null?void 0:k[at.Dropdown],value:i.getYear(st.date)}):ne.createElement("span",{role:"status","aria-live":"polite"},D(st.date,i))):ne.createElement(e.CaptionLabel,{className:o[at.CaptionLabel],role:"status","aria-live":"polite"},C(st.date,i.options,i))),ne.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":l==="multiple"||l==="range","aria-label":fe(st.date,i.options,i)||void 0,className:o[at.MonthGrid],style:k==null?void 0:k[at.MonthGrid]},!t.hideWeekdays&&ne.createElement(e.Weekdays,{className:o[at.Weekdays],style:k==null?void 0:k[at.Weekdays]},b&&ne.createElement(e.WeekNumberHeader,{"aria-label":Pe(i.options),className:o[at.WeekNumberHeader],style:k==null?void 0:k[at.WeekNumberHeader],scope:"col"},M()),Qe.map((Ct,Hn)=>ne.createElement(e.Weekday,{"aria-label":xe(Ct,i.options,i),className:o[at.Weekday],key:Hn,style:k==null?void 0:k[at.Weekday],scope:"col"},R(Ct,i.options,i)))),ne.createElement(e.Weeks,{className:o[at.Weeks],style:k==null?void 0:k[at.Weeks]},st.weeks.map((Ct,Hn)=>ne.createElement(e.Week,{className:o[at.Week],key:Ct.weekNumber,style:k==null?void 0:k[at.Week],week:Ct},b&&ne.createElement(e.WeekNumber,{week:Ct,style:k==null?void 0:k[at.WeekNumber],"aria-label":be(Ct.weekNumber,{locale:s}),className:o[at.WeekNumber],scope:"row",role:"rowheader"},A(Ct.weekNumber)),Ct.days.map(_t=>{const{date:Un}=_t,St=H(_t);if(St[tn.focused]=!St.hidden&&!!(j!=null&&j.isEqualTo(_t)),St[vs.selected]=!St.disabled&&(($==null?void 0:$(Un))||St.selected),O2(q)){const{from:ss,to:tt}=q;St[vs.range_start]=!!(ss&&tt&&i.isSameDay(Un,ss)),St[vs.range_end]=!!(ss&&tt&&i.isSameDay(Un,tt)),St[vs.range_middle]=Go(q,Un,!0,i)}const Di=ETe(St,k,t.modifiersStyles),qr=FNe(St,o,t.modifiersClassNames),jr=!Dt&&!St.hidden?oe(Un,St,i.options,i):void 0;return ne.createElement(e.Day,{key:`${i.format(Un,"yyyy-MM-dd")}_${i.format(_t.displayMonth,"yyyy-MM")}`,day:_t,modifiers:St,className:qr.join(" "),style:Di,role:"gridcell","aria-selected":St.selected||void 0,"aria-label":jr,"data-day":i.format(Un,"yyyy-MM-dd"),"data-month":_t.outside?i.format(Un,"yyyy-MM"):void 0,"data-selected":St.selected||void 0,"data-disabled":St.disabled||void 0,"data-hidden":St.hidden||void 0,"data-outside":_t.outside||void 0,"data-focused":St.focused||void 0,"data-today":St.today||void 0},!St.hidden&&Dt?ne.createElement(e.DayButton,{className:o[at.DayButton],style:k==null?void 0:k[at.DayButton],type:"button",day:_t,modifiers:St,disabled:St.disabled||void 0,tabIndex:K(_t)?0:-1,"aria-label":Z(Un,St,i.options,i),onClick:ce(_t,St),onBlur:Ce(_t,St),onFocus:ke(_t,St),onKeyDown:ye(_t,St),onMouseEnter:ze(_t,St),onMouseLeave:$e(_t,St)},N(Un,i.options,i)):!St.hidden&&N(_t.date,i.options,i))}))))))})),t.footer&&ne.createElement(e.Footer,{className:o[at.Footer],style:k==null?void 0:k[at.Footer],role:"status","aria-live":"polite"},t.footer)))}function OH({className:t,classNames:e,showOutsideDays:n=!0,...r}){return g.jsx(lAe,{showOutsideDays:n,className:ve("p-3",t),classNames:{months:"flex flex-col space-y-4 sm:space-y-0",month:"space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm text-text font-medium",nav:"space-x-1 flex items-center",button_previous:ve(zu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","absolute left-1 top-[12px] z-10"),button_next:ve(zu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","absolute right-1 top-[12px] z-10"),month_grid:"w-full border-collapse space-y-1",weekdays:"flex",weekday:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:ve(zu({variant:"ghost"}),"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md","h-8 w-8 p-0 hover:bg-lightGray-7/50 font-normal aria-selected:opacity-100"),range_start:"day-range-start",range_end:"day-range-end",selected:"!bg-primary !text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",today:"bg-lightGray-7/50 text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...e},components:{Chevron:({orientation:i})=>g.jsx(jF,{className:ve("h-4 w-4",{"rotate-180":i==="up","rotate-90":i==="left","-rotate-90":i==="right"})})},...r})}OH.displayName="Calendar";const cAe=({value:t,setValue:e,children:n,className:r,placeholder:i,...s})=>{const[o,a]=S.useState(!1);return g.jsxs(yH,{open:o,onOpenChange:a,children:[g.jsx(xH,{asChild:!0,children:n||g.jsx(DH,{value:t,placeholder:i,className:r,"data-testid":"datepicker-button"})}),g.jsx(R2,{className:"backdrop-blur-4xl w-auto p-0",align:"start","data-testid":"datepicker-calendar",children:g.jsx(uAe,{value:t,setValue:l=>e(l?new Date(`${l}z`):null),clearable:s.clearable,setOpenPopover:a,...s})})]})},uAe=({value:t,setValue:e,setOpenPopover:n,clearable:r,placeholder:i,className:s,...o})=>{const[a,l]=S.useState(t?Uu(t,"PP"):""),[c,u]=S.useState(t?new Date(t):void 0),d=PNe(v=>{b6(v)&&(u(v),e==null||e(v),n==null||n(!1))},2e3),h=v=>{l(v.currentTarget.value);const w=new Date(v.target.value);d(w)},m=v=>{u(v),e==null||e(v),n==null||n(!1),l(v?Uu(v,"PP"):"")},y=v=>{u(v),l(v?Uu(v,"PP"):"")};return g.jsxs("div",{"aria-label":"Choose date",className:"relative mt-2 flex flex-col gap-2",onKeyDown:v=>{v.stopPropagation(),v.key==="Escape"&&(n==null||n(!1))},children:[g.jsx("div",{className:"w-full px-3",children:g.jsx(vc,{type:"date",value:a,onChange:h,placeholder:i,className:s})}),g.jsx(OH,{mode:"single",month:c,selected:c,onMonthChange:y,onSelect:m,...o}),g.jsx("div",{className:"px-3 pb-2",children:r&&g.jsx(pt,{variant:"outline",tabIndex:0,className:"w-full !opacity-50 duration-200 hover:!opacity-100",onClick:()=>{e(null),u(void 0),l(""),n==null||n(!1)},children:"Clear"})})]})},DH=S.forwardRef(({value:t,placeholder:e,className:n,...r},i)=>g.jsxs(pt,{ref:i,variant:"outline",className:ve("bg-neutral-825 border-neutral-775 w-full justify-start whitespace-nowrap rounded-md border px-2 py-0 text-left flex items-center gap-1",n),...r,children:[g.jsx(jF,{className:"h-4 w-4"}),t?g.jsx("span",{className:"text-white",children:Uu(t,"PPP")}):g.jsx("span",{className:"text-gray",children:e??"Pick a date"})]}));DH.displayName="DefaultButton";function dAe({name:t,control:e,handleFieldChange:n}){return g.jsx(Qd,{name:t,control:e,render:({field:r})=>g.jsx(cAe,{value:r.value,setValue:i=>{r.onChange(i),n==null||n({key:t,value:i})}})})}var fAe=[" ","Enter","ArrowUp","ArrowDown"],hAe=[" ","Enter"],Am="Select",[qv,Yv,pAe]=lA(Am),[Jd,mLe]=Oi(Am,[pAe,Tl]),Gv=Tl(),[mAe,Rl]=Jd(Am),[gAe,yAe]=Jd(Am),jH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m,form:y}=t,v=Gv(e),[w,b]=S.useState(null),[k,C]=S.useState(null),[N,_]=S.useState(!1),A=Xp(c),[M=!1,R]=mo({prop:r,defaultProp:i,onChange:s}),[D,O]=mo({prop:o,defaultProp:a,onChange:l}),B=S.useRef(null),F=w?y||!!w.closest("form"):!0,[W,I]=S.useState(new Set),Y=Array.from(W).map(V=>V.props.value).join(";");return g.jsx(um,{...v,children:g.jsxs(mAe,{required:m,scope:e,trigger:w,onTriggerChange:b,valueNode:k,onValueNodeChange:C,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:zn(),value:D,onValueChange:O,open:M,onOpenChange:R,dir:A,triggerPointerDownPosRef:B,disabled:h,children:[g.jsx(qv.Provider,{scope:e,children:g.jsx(gAe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(V=>{I(G=>new Set(G).add(V))},[]),onNativeOptionRemove:S.useCallback(V=>{I(G=>{const H=new Set(G);return H.delete(V),H})},[]),children:n})}),F?g.jsxs(nU,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:D,onChange:V=>O(V.target.value),disabled:h,form:y,children:[D===void 0?g.jsx("option",{value:""}):null,Array.from(W)]},Y):null]})})};jH.displayName=Am;var IH="SelectTrigger",LH=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Gv(n),o=Rl(IH,n),a=o.disabled||r,l=kt(e,o.onTriggerChange),c=Yv(n),u=S.useRef("touch"),[d,h,m]=rU(v=>{const w=c().filter(C=>!C.disabled),b=w.find(C=>C.value===o.value),k=iU(w,v,b);k!==void 0&&o.onValueChange(k.value)}),y=v=>{a||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return g.jsx(dm,{asChild:!0,...s,children:g.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tU(o.value)?"":void 0,...i,ref:l,onClick:Re(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&y(v)}),onPointerDown:Re(i.onPointerDown,v=>{u.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:Re(i.onKeyDown,v=>{const w=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&fAe.includes(v.key)&&(y(),v.preventDefault())})})})});LH.displayName=IH;var FH="SelectValue",BH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Rl(FH,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=kt(e,l.onValueNodeChange);return Ar(()=>{c(u)},[c,u]),g.jsx(Xe.span,{...a,ref:d,style:{pointerEvents:"none"},children:tU(l.value)?g.jsx(g.Fragment,{children:o}):s})});BH.displayName=FH;var xAe="SelectIcon",zH=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});zH.displayName=xAe;var vAe="SelectPortal",$H=t=>g.jsx(am,{asChild:!0,...t});$H.displayName=vAe;var Mc="SelectContent",VH=S.forwardRef((t,e)=>{const n=Rl(Mc,t.__scopeSelect),[r,i]=S.useState();if(Ar(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ld.createPortal(g.jsx(WH,{scope:t.__scopeSelect,children:g.jsx(qv.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(HH,{...t,ref:e})});VH.displayName=Mc;var ps=10,[WH,Ol]=Jd(Mc),wAe="SelectContentImpl",HH=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:v,avoidCollisions:w,...b}=t,k=Rl(Mc,n),[C,N]=S.useState(null),[_,A]=S.useState(null),M=kt(e,Z=>N(Z)),[R,D]=S.useState(null),[O,B]=S.useState(null),F=Yv(n),[W,I]=S.useState(!1),Y=S.useRef(!1);S.useEffect(()=>{if(C)return pv(C)},[C]),fv();const V=S.useCallback(Z=>{const[oe,...fe]=F().map(xe=>xe.ref.current),[me]=fe.slice(-1),Te=document.activeElement;for(const xe of Z)if(xe===Te||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===oe&&_&&(_.scrollTop=0),xe===me&&_&&(_.scrollTop=_.scrollHeight),xe==null||xe.focus(),document.activeElement!==Te))return},[F,_]),G=S.useCallback(()=>V([R,C]),[V,R,C]);S.useEffect(()=>{W&&G()},[W,G]);const{onOpenChange:H,triggerPointerDownPosRef:$}=k;S.useEffect(()=>{if(C){let Z={x:0,y:0};const oe=me=>{var Te,xe;Z={x:Math.abs(Math.round(me.pageX)-(((Te=$.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(me.pageY)-(((xe=$.current)==null?void 0:xe.y)??0))}},fe=me=>{Z.x<=10&&Z.y<=10?me.preventDefault():C.contains(me.target)||H(!1),document.removeEventListener("pointermove",oe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",fe,{capture:!0})}}},[C,H,$]),S.useEffect(()=>{const Z=()=>H(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[H]);const[L,q]=rU(Z=>{const oe=F().filter(Te=>!Te.disabled),fe=oe.find(Te=>Te.ref.current===document.activeElement),me=iU(oe,Z,fe);me&&setTimeout(()=>me.ref.current.focus())}),U=S.useCallback((Z,oe,fe)=>{const me=!Y.current&&!fe;(k.value!==void 0&&k.value===oe||me)&&(D(Z),me&&(Y.current=!0))},[k.value]),j=S.useCallback(()=>C==null?void 0:C.focus(),[C]),K=S.useCallback((Z,oe,fe)=>{const me=!Y.current&&!fe;(k.value!==void 0&&k.value===oe||me)&&B(Z)},[k.value]),X=r==="popper"?yN:UH,J=X===yN?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:v,avoidCollisions:w}:{};return g.jsx(WH,{scope:n,content:C,viewport:_,onViewportChange:A,itemRefCallback:U,selectedItem:R,onItemLeave:j,itemTextRefCallback:K,focusSelectedItem:G,selectedItemText:O,position:r,isPositioned:W,searchRef:L,children:g.jsx(lm,{as:uo,allowPinchZoom:!0,children:g.jsx(om,{asChild:!0,trapped:k.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Re(i,Z=>{var oe;(oe=k.trigger)==null||oe.focus({preventScroll:!0}),Z.preventDefault()}),children:g.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:g.jsx(X,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Z=>Z.preventDefault(),...b,...J,onPlaced:()=>I(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Re(b.onKeyDown,Z=>{const oe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!oe&&Z.key.length===1&&q(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let me=F().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Te=Z.target,xe=me.indexOf(Te);me=me.slice(xe+1)}setTimeout(()=>V(me)),Z.preventDefault()}})})})})})})});HH.displayName=wAe;var bAe="SelectItemAlignedPosition",UH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Rl(Mc,n),o=Ol(Mc,n),[a,l]=S.useState(null),[c,u]=S.useState(null),d=kt(e,M=>u(M)),h=Yv(n),m=S.useRef(!1),y=S.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:k}=o,C=S.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&w&&b){const M=s.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(s.dir!=="rtl"){const Te=O.left-R.left,xe=D.left-Te,be=M.left-xe,Pe=M.width+be,Ze=Math.max(Pe,R.width),Qe=window.innerWidth-ps,Dt=gC(xe,[ps,Math.max(ps,Qe-Ze)]);a.style.minWidth=Pe+"px",a.style.left=Dt+"px"}else{const Te=R.right-O.right,xe=window.innerWidth-D.right-Te,be=window.innerWidth-M.right-xe,Pe=M.width+be,Ze=Math.max(Pe,R.width),Qe=window.innerWidth-ps,Dt=gC(xe,[ps,Math.max(ps,Qe-Ze)]);a.style.minWidth=Pe+"px",a.style.right=Dt+"px"}const B=h(),F=window.innerHeight-ps*2,W=v.scrollHeight,I=window.getComputedStyle(c),Y=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),G=parseInt(I.borderBottomWidth,10),H=parseInt(I.paddingBottom,10),$=Y+V+W+H+G,L=Math.min(w.offsetHeight*5,$),q=window.getComputedStyle(v),U=parseInt(q.paddingTop,10),j=parseInt(q.paddingBottom,10),K=M.top+M.height/2-ps,X=F-K,J=w.offsetHeight/2,Z=w.offsetTop+J,oe=Y+V+Z,fe=$-oe;if(oe<=K){const Te=B.length>0&&w===B[B.length-1].ref.current;a.style.bottom="0px";const xe=c.clientHeight-v.offsetTop-v.offsetHeight,be=Math.max(X,J+(Te?j:0)+xe+G),Pe=oe+be;a.style.height=Pe+"px"}else{const Te=B.length>0&&w===B[0].ref.current;a.style.top="0px";const be=Math.max(K,Y+v.offsetTop+(Te?U:0)+J)+fe;a.style.height=be+"px",v.scrollTop=oe-K+v.offsetTop}a.style.margin=`${ps}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,v,w,b,s.dir,r]);Ar(()=>C(),[C]);const[N,_]=S.useState();Ar(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const A=S.useCallback(M=>{M&&y.current===!0&&(C(),k==null||k(),y.current=!1)},[C,k]);return g.jsx(SAe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:g.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:g.jsx(Xe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UH.displayName=bAe;var kAe="SelectPopperPosition",yN=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ps,...s}=t,o=Gv(n);return g.jsx(xv,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yN.displayName=kAe;var[SAe,D2]=Jd(Mc,{}),xN="SelectViewport",qH=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ol(xN,n),o=D2(xN,n),a=kt(e,s.onViewportChange),l=S.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(qv.Slot,{scope:n,children:g.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Re(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const y=window.innerHeight-ps*2,v=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),b=Math.max(v,w);if(b<y){const k=b+m,C=Math.min(y,k),N=k-C;d.style.height=C+"px",d.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});qH.displayName=xN;var YH="SelectGroup",[CAe,EAe]=Jd(YH),NAe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zn();return g.jsx(CAe,{scope:n,id:i,children:g.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});NAe.displayName=YH;var GH="SelectLabel",TAe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=EAe(GH,n);return g.jsx(Xe.div,{id:i.id,...r,ref:e})});TAe.displayName=GH;var _x="SelectItem",[AAe,KH]=Jd(_x),XH=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Rl(_x,n),l=Ol(_x,n),c=a.value===r,[u,d]=S.useState(s??""),[h,m]=S.useState(!1),y=kt(e,k=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,k,r,i)}),v=zn(),w=S.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(AAe,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:S.useCallback(k=>{d(C=>C||((k==null?void 0:k.textContent)??"").trim())},[]),children:g.jsx(qv.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:g.jsx(Xe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Re(o.onFocus,()=>m(!0)),onBlur:Re(o.onBlur,()=>m(!1)),onClick:Re(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:Re(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:Re(o.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:Re(o.onPointerMove,k=>{var C;w.current=k.pointerType,i?(C=l.onItemLeave)==null||C.call(l):w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,k=>{var C;k.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:Re(o.onKeyDown,k=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&k.key===" "||(hAe.includes(k.key)&&b(),k.key===" "&&k.preventDefault())})})})})});XH.displayName=_x;var yh="SelectItemText",ZH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Rl(yh,n),a=Ol(yh,n),l=KH(yh,n),c=yAe(yh,n),[u,d]=S.useState(null),h=kt(e,b=>d(b),l.onItemTextChange,b=>{var k;return(k=a.itemTextRefCallback)==null?void 0:k.call(a,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,y=S.useMemo(()=>g.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=c;return Ar(()=>(v(y),()=>w(y)),[v,w,y]),g.jsxs(g.Fragment,{children:[g.jsx(Xe.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ld.createPortal(s.children,o.valueNode):null]})});ZH.displayName=yh;var QH="SelectItemIndicator",JH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KH(QH,n).isSelected?g.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});JH.displayName=QH;var vN="SelectScrollUpButton",_Ae=S.forwardRef((t,e)=>{const n=Ol(vN,t.__scopeSelect),r=D2(vN,t.__scopeSelect),[i,s]=S.useState(!1),o=kt(e,r.onScrollButtonChange);return Ar(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(eU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});_Ae.displayName=vN;var wN="SelectScrollDownButton",MAe=S.forwardRef((t,e)=>{const n=Ol(wN,t.__scopeSelect),r=D2(wN,t.__scopeSelect),[i,s]=S.useState(!1),o=kt(e,r.onScrollButtonChange);return Ar(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(eU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});MAe.displayName=wN;var eU=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ol("SelectScrollButton",n),o=S.useRef(null),a=Yv(n),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Ar(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),g.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Re(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Re(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Re(i.onPointerLeave,()=>{l()})})}),PAe="SelectSeparator",RAe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});RAe.displayName=PAe;var bN="SelectArrow",OAe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gv(n),s=Rl(bN,n),o=Ol(bN,n);return s.open&&o.position==="popper"?g.jsx(vv,{...i,...r,ref:e}):null});OAe.displayName=bN;function tU(t){return t===""||t===void 0}var nU=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),s=kt(e,i),o=$7(n);return S.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),g.jsx(IA,{asChild:!0,children:g.jsx("select",{...r,ref:s,defaultValue:n})})});nU.displayName="BubbleSelect";function rU(t){const e=In(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function iU(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=DAe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function DAe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jAe=jH,sU=LH,IAe=BH,LAe=zH,FAe=$H,oU=VH,BAe=qH,aU=XH,zAe=ZH,$Ae=JH;const VAe=jAe,WAe=IAe,lU=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(sU,{ref:r,className:ve("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,g.jsx(LAe,{asChild:!0,children:g.jsx(Wh,{className:"h-4 w-4 opacity-50"})})]}));lU.displayName=sU.displayName;const cU=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(FAe,{children:g.jsx(oU,{ref:i,className:ve("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:g.jsx(BAe,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));cU.displayName=oU.displayName;const uU=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(aU,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-mastra-el-5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx($Ae,{children:g.jsx(KN,{className:"h-4 w-4"})})}),g.jsx(zAe,{children:e})]}));uU.displayName=aU.displayName;function nS({name:t,control:e,options:n,handleFieldChange:r}){return g.jsx(Qd,{name:t,control:e,render:({field:i})=>g.jsxs(VAe,{value:i.value,onValueChange:s=>{i.onChange(s),r==null||r({key:t,value:s})},children:[g.jsx(lU,{children:g.jsx(WAe,{placeholder:"Select an option"})}),g.jsx(cU,{children:n.map(s=>g.jsx(uU,{value:s.value,children:s.label},s.value))})]})})}function HAe({name:t,control:e,handleFieldChange:n,isMultiline:r,placeholder:i}){const s=r?yA:vc;return g.jsx(Qd,{name:t,control:e,render:({field:o})=>g.jsx(s,{...o,className:"w-full",placeholder:i,onChange:a=>{o.onChange(a),n==null||n({key:t,value:a.target.value})}})})}const Mx=(t,e=" ")=>t.split(e).map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" ");var UAe="Label",dU=S.forwardRef((t,e)=>g.jsx(Xe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dU.displayName=UAe;var fU=dU;const qAe=Bd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kv=S.forwardRef(({className:t,...e},n)=>g.jsx(fU,{ref:n,className:ve(qAe(),t),...e}));Kv.displayName=fU.displayName;const YAe=(t,e)=>(typeof e=="string"&&(e=e==null?void 0:e.split(".")),e==null?void 0:e.reduce((n,r)=>n&&n[r]!==void 0?n[r]:void 0,t)),GAe=(t,e=[],n)=>{let r={};function i(s,o){for(const[a,l]of Object.entries(s)){let c=[...o,a];l&&l.constructor===Object?(e!=null&&e.length?e.every(d=>Object.keys(l).includes(d)):!1)?r={...r,[c.join(".")]:l}:i(l,c):r={...r,[c.join(".")]:l}}}return i(t,[]),r};var ei=(t=>(t.STRING="STRING",t.NUMBER="NUMBER",t.DATE="DATE",t.ENUM="ENUM",t.ARRAY="ARRAY",t.BOOLEAN="BOOLEAN",t.RECORD="RECORD",t.OBJECT="OBJECT",t.UNION="UNION",t.CREATABLE="CREATABLE",t.SELECT="SELECT",t.MULTI_SELECT="MULTI_SELECT",t))(ei||{});function Nd({schema:t,isOptional:e=!1}){return t instanceof Gt.ZodObject?{type:"OBJECT",isOptional:e}:t instanceof Gt.ZodString?t instanceof Gt.ZodString&&t._def.checks.some(n=>n.kind==="datetime")?{type:"DATE",isOptional:e}:{type:"STRING",isOptional:e}:t instanceof ca?{type:"NUMBER",isOptional:e}:t instanceof bd?{type:"BOOLEAN",isOptional:e}:t instanceof bl?{type:"DATE",isOptional:e}:t instanceof Sd?{type:"ENUM",isOptional:e,options:[{label:t.value,value:t.value}]}:t instanceof wo?{type:"ENUM",isOptional:e,options:t.options.map(n=>({label:n,value:n}))}:t instanceof Mi?{type:"ARRAY",isOptional:e,options:t.element instanceof wo?t.element.options.map(n=>({label:n,value:n})):[]}:t instanceof Gt.ZodOptional||t instanceof Gt.ZodDefault?Nd({schema:t._def.innerType,isOptional:!0}):t instanceof Gt.ZodEffects?Nd({schema:t._def.schema,isOptional:e}):t instanceof Gt.ZodRecord?{type:"RECORD",isOptional:e,innerSchema:t._def.valueType}:{type:"STRING",isOptional:e}}function KAe({schema:t,errors:e,renderFieldMap:n,schemaField:r,renderLabel:i,control:s,variables:o,onFieldChange:a,schemaOptions:l,values:c,isOptional:u=!1,isNullable:d=!1}){var w,b;const h=Nd({schema:t,isOptional:u}),m=l!=null&&l.parentField?YAe(c,l==null?void 0:l.parentField):"";if(l!=null&&l.parentField&&!m)return null;if(!n)return;const y=GAe(e,["message","type"]),v=l!=null&&l.parentField?(w=l==null?void 0:l.options)==null?void 0:w[m]:(l==null?void 0:l.options)||h.options;return g.jsxs("div",{className:"flex flex-col gap-1 mt-3 w-full",children:[i?i({isOptional:!!h.isOptional,schemaField:r}):g.jsxs(Kv,{className:"flex gap-0.5 capitalize",htmlFor:r,"aria-required":!h.isOptional,children:[!(h!=null&&h.isOptional)&&g.jsx("span",{className:"text-red-500",children:"*"}),g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3",size:"xs",children:Mx(r.split(".").pop()||"")})]}),n[h.type]({name:r,options:v,control:s,variables:o,innerSchema:h.innerSchema,handleFieldChange:a,isNullable:d}),y!=null&&y[r]?g.jsx(Fn,{size:"xs",className:"text-red-500",children:(b=y[r])==null?void 0:b.message}):null]},r)}function hU({renderDynamicForm:t,schema:e,handleFieldChange:n,control:r,formValues:i,errors:s,parentField:o,action:a,isOptional:l=!1,isNullable:c=!1,depth:u}){const d=Nd({schema:e,isOptional:l});if(e instanceof Nc){const h=e.options;return g.jsxs("div",{children:[g.jsxs(Kv,{className:"flex gap-0.5 capitalize mb-2",htmlFor:o,"aria-required":!d.isOptional,children:[!(d!=null&&d.isOptional)&&g.jsx("span",{className:"text-red-500",children:"*"}),g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3",size:"xs",children:Mx(o)})]}),g.jsx("div",{className:"flex flex-col gap-4",children:h.map((m,y)=>g.jsxs(S.Fragment,{children:[y>=1&&g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 text-center",size:"xs",children:"or"}),g.jsx("div",{className:"ring-1 ring-white/10 p-2 rounded-md relative",children:t({schema:m,handleFieldChange:n,control:r,formValues:i,errors:s,parentField:o,action:a,isOptional:l,isNullable:c,depth:u})})]},y))})]})}return null}function pU({renderDynamicForm:t,schema:e,handleFieldChange:n,control:r,formValues:i,errors:s,parentField:o,action:a,isArray:l=!1,isOptional:c=!1,depth:u}){const d=Nd({schema:e,isOptional:c}),{fields:h,append:m,remove:y}=D7({control:r,name:o});function v(){m({})}return g.jsxs("div",{children:[g.jsxs(Kv,{className:"flex gap-0.5 capitalize mb-2",htmlFor:o,"aria-required":!d.isOptional,children:[!(d!=null&&d.isOptional)&&g.jsx("span",{className:"text-red-500",children:"*"}),g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3",size:"xs",children:Mx(o)})]}),l?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex flex-col gap-4",children:h.map((w,b)=>g.jsxs("div",{className:"ring-1 ring-white/10 p-2 rounded-md relative",children:[g.jsx(pt,{type:"button",variant:"ghost",size:"icon",onClick:()=>y(b),className:"absolute top-0 right-0",children:g.jsx(Cl,{className:"text-icon h-3.5 w-3.5"})}),t({schema:e instanceof Mi?e.element:e,handleFieldChange:n,control:r,formValues:i,errors:s,parentField:`${o}.${b}`,action:a,isOptional:c,depth:u})]},w.id))}),g.jsx("div",{className:"flex flex-col gap-4",children:g.jsxs(pt,{type:"button",variant:"outline",className:"w-full text-xs h-9",onClick:v,children:["Add ",Mx(o.split(".").pop()||"")]})})]}):g.jsx("div",{className:"ring-1 ring-white/10 p-2 rounded-md relative",children:t({schema:e,handleFieldChange:n,control:r,formValues:i,errors:s,parentField:o,action:a,isOptional:c,depth:u})})]})}function XAe({name:t,control:e,handleFieldChange:n}){return g.jsx(Qd,{name:t,control:e,render:({field:r})=>g.jsx(vc,{...r,type:"number",onChange:i=>{const s=i.target.value===""?void 0:Number(i.target.value);r.onChange(s),n==null||n({key:t,value:s})}})})}function ZAe({name:t,control:e,handleFieldChange:n}){const r=_7({control:e,name:t})||{},[i,s]=S.useState(()=>Object.entries(r).map(([d,h])=>({id:d||crypto.randomUUID(),key:d,value:h})));S.useEffect(()=>{i.length===0&&s([{id:crypto.randomUUID(),key:"",value:""}])},[i]);const o=S.useCallback(d=>{if(!n)return;const h=d.reduce((m,y)=>(y.key&&(m[y.key]=y.value),m),{});n({key:t,value:h})},[n,t]),a=(d,h,m)=>{s(y=>y.map(v=>v.id===d?{...v,[h]:m}:v))},l=()=>{o(i)},c=()=>{const d=[...i,{id:crypto.randomUUID(),key:"",value:""}];s(d),o(d)},u=d=>{const h=i.filter(m=>m.id!==d);h.length===0&&h.push({id:crypto.randomUUID(),key:"",value:""}),s(h),o(h)};return g.jsxs("div",{className:"space-y-3",children:[i.map(d=>g.jsxs("div",{className:"relative space-y-2 rounded-lg border p-4",children:[g.jsx(pt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:()=>u(d.id),children:g.jsx(Cl,{className:"h-4 w-4"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vc,{placeholder:"Key",value:d.key,onChange:h=>a(d.id,"key",h.target.value),onBlur:l}),g.jsx(vc,{placeholder:"Value",value:d.value,onChange:h=>a(d.id,"value",h.target.value),onBlur:l})]})]},d.id)),g.jsxs(pt,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:c,children:[g.jsx(Hh,{className:"mr-2 h-4 w-4"}),"Add Key-Value Pair"]})]})}function kN(){return{[ei.STRING]:t=>{const{options:e,...n}=t;return e!=null&&e.length?g.jsx(nS,{...n,options:e}):g.jsx(HAe,{...n})},[ei.NUMBER]:t=>g.jsx(XAe,{...t}),[ei.BOOLEAN]:t=>g.jsx(HEe,{...t}),[ei.DATE]:t=>g.jsx(dAe,{...t}),[ei.ENUM]:t=>{const{options:e=[]}=t;return g.jsx(nS,{...t,options:e})},[ei.ARRAY]:t=>{const e=({fieldName:n,index:r})=>kN()[ei.STRING]({...t,name:n});return g.jsx(z7,{...t,renderField:e})},[ei.RECORD]:t=>g.jsx(ZAe,{...t}),[ei.OBJECT]:t=>{const{innerSchema:e,name:n,control:r,handleFieldChange:i}=t;return e?g.jsx(pU,{schema:e,control:r,parentField:n,handleFieldChange:(s,o)=>i({key:s,value:o}),formValues:{},errors:{},renderDynamicForm:s=>Px({...s,handleFieldChange:i})}):null},[ei.UNION]:t=>{const{innerSchema:e,name:n,control:r,handleFieldChange:i}=t;return!e||!(e instanceof Nc)?null:g.jsx(hU,{schema:e,control:r,parentField:n,handleFieldChange:(s,o)=>i({key:s,value:o}),renderDynamicForm:s=>{const o=Nd({schema:s.schema});return kN()[o.type]({...t,...s,control:r,handleFieldChange:i})},formValues:{},errors:{}})},[ei.CREATABLE]:t=>g.jsx(lL,{...t}),[ei.SELECT]:t=>{const{options:e=[]}=t;return g.jsx(nS,{...t,options:e})},[ei.MULTI_SELECT]:t=>g.jsx(lL,{...t})}}function QAe(t){return(e,n)=>t({key:e,value:n})}function Px({schema:t,parentField:e,control:n,formValues:r,errors:i,handleFieldChange:s,isOptional:o=!1,isNullable:a=!1,depth:l=0}){return l>10?(console.warn("Maximum schema resolution depth reached. Possible circular reference."),null):t instanceof Gt.ZodObject?Object.entries(t.shape).map(([c,u])=>{const d=e?`${e}.${c}`:c;return Lh({schema:u,parentField:d,control:n,formValues:r,errors:i,handleFieldChange:s,isOptional:o,isNullable:a})}):Lh({schema:t,parentField:e,control:n,formValues:r,errors:i,handleFieldChange:s,isOptional:o,isNullable:a})}function Lh({schema:t,parentField:e,control:n,formValues:r,errors:i,handleFieldChange:s,isOptional:o=!1,isNullable:a=!1}){if(t instanceof Gt.ZodDefault)return null;if(t instanceof Gt.ZodOptional)return Lh({schema:t._def.innerType,parentField:e,control:n,formValues:r,errors:i,handleFieldChange:s,isOptional:!0,isNullable:a});if(t instanceof Gt.ZodObject)return g.jsx("div",{className:"flex flex-col gap-8 py-8 w-full",children:g.jsx(pU,{schema:t,control:n,parentField:e,handleFieldChange:(l,c)=>s({key:l,value:c}),formValues:r,errors:i,isOptional:o,renderDynamicForm:l=>Px({...l,handleFieldChange:s})})},e);if(t instanceof Gt.ZodUnion){if(t.options.some(l=>l instanceof Gt.ZodNull)){const l=t.options.find(c=>!(c instanceof Gt.ZodNull));return Lh({schema:Gt.optional(l),parentField:e,control:n,formValues:r,errors:i,handleFieldChange:s,isNullable:!0})}return g.jsx(hU,{schema:t,control:n,parentField:e,handleFieldChange:QAe(s),formValues:r,errors:i,isOptional:o,isNullable:a,renderDynamicForm:l=>Px({...l,handleFieldChange:c=>s(c)})})}return t instanceof Gt.ZodArray?g.jsx("div",{className:"flex w-full flex-col gap-8 py-8",children:g.jsx(z7,{control:n,name:e,renderField:l=>{const c=t.element,u=`${e}[${l.index}]`;return Lh({schema:c,parentField:u,control:n,formValues:r,errors:i,handleFieldChange:s})}})},e):g.jsx("div",{className:"w-full",children:KAe({schema:t,schemaField:e,control:n,values:r,errors:i,renderFieldMap:kN(),onFieldChange:s})},e)}function SN({schema:t,onSubmit:e,isSubmitLoading:n,submitButtonLabel:r="Submit"}){var b,k,C;const i=(b=t==null?void 0:t._def)==null?void 0:b.typeName,s=(k=t==null?void 0:t._def)==null?void 0:k.options,o=(C=t==null?void 0:t._def)==null?void 0:C.discriminator,a=i!=="ZodObject"?Gt.object({items:t}):t,l=OEe({resolver:i==="ZodDiscriminatedUnion"?FEe(a,o):LEe(a)}),{control:c,handleSubmit:u,watch:d}=l,h=l.watch(),m=o?d(o):void 0,y=i==="ZodDiscriminatedUnion"?(s==null?void 0:s.find(N=>{var _,A,M;return((M=(A=(_=N==null?void 0:N.shape)==null?void 0:_[o])==null?void 0:A._def)==null?void 0:M.value)===m}))||Gt.object({[o]:Gt.string()}):a;function v({key:N,value:_}){l.setValue(N,_)}const w=N=>e(i!=="ZodObject"?N.items:N);return g.jsx(Bn,{className:"h-full w-full",children:g.jsxs("form",{onSubmit:u(w),className:"flex flex-col gap-4 p-4 w-full",children:[Px({schema:y,parentField:"",control:c,formValues:h,errors:l.formState.errors,handleFieldChange:v}),g.jsx(pt,{disabled:n,type:"submit",children:n?g.jsx(uC,{className:"h-4 w-4 animate-spin"}):r})]})})}var JAe=Object.create,Xv=Object.defineProperty,e2e=Object.defineProperties,t2e=Object.getOwnPropertyDescriptor,n2e=Object.getOwnPropertyDescriptors,mU=Object.getOwnPropertyNames,Rx=Object.getOwnPropertySymbols,r2e=Object.getPrototypeOf,j2=Object.prototype.hasOwnProperty,gU=Object.prototype.propertyIsEnumerable,pL=(t,e,n)=>e in t?Xv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lo=(t,e)=>{for(var n in e||(e={}))j2.call(e,n)&&pL(t,n,e[n]);if(Rx)for(var n of Rx(e))gU.call(e,n)&&pL(t,n,e[n]);return t},Zv=(t,e)=>e2e(t,n2e(e)),yU=(t,e)=>{var n={};for(var r in t)j2.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Rx)for(var r of Rx(t))e.indexOf(r)<0&&gU.call(t,r)&&(n[r]=t[r]);return n},i2e=(t,e)=>function(){return e||(0,t[mU(t)[0]])((e={exports:{}}).exports,e),e.exports},s2e=(t,e)=>{for(var n in e)Xv(t,n,{get:e[n],enumerable:!0})},o2e=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mU(e))!j2.call(t,i)&&i!==n&&Xv(t,i,{get:()=>e[i],enumerable:!(r=t2e(e,i))||r.enumerable});return t},a2e=(t,e,n)=>(n=t!=null?JAe(r2e(t)):{},o2e(!t||!t.__esModule?Xv(n,"default",{value:t,enumerable:!0}):n,t)),l2e=i2e({"../../node_modules/.pnpm/prismjs@1.29.0_patch_hash=vrxx3pzkik6jpmgpayxfjunetu/node_modules/prismjs/prism.js"(t,e){var n=function(){var r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},o={util:{encode:function y(v){return v instanceof a?new a(v.type,y(v.content),v.alias):Array.isArray(v)?v.map(y):v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(v,w){w=w||{};var b,k;switch(o.util.type(v)){case"Object":if(k=o.util.objId(v),w[k])return w[k];b={},w[k]=b;for(var C in v)v.hasOwnProperty(C)&&(b[C]=y(v[C],w));return b;case"Array":return k=o.util.objId(v),w[k]?w[k]:(b=[],w[k]=b,v.forEach(function(N,_){b[_]=y(N,w)}),b);default:return v}},getLanguage:function(y){for(;y;){var v=r.exec(y.className);if(v)return v[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,v){y.className=y.className.replace(RegExp(r,"gi"),""),y.classList.add("language-"+v)},isActive:function(y,v,w){for(var b="no-"+v;y;){var k=y.classList;if(k.contains(v))return!0;if(k.contains(b))return!1;y=y.parentElement}return!!w}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,v){var w=o.util.clone(o.languages[y]);for(var b in v)w[b]=v[b];return w},insertBefore:function(y,v,w,b){b=b||o.languages;var k=b[y],C={};for(var N in k)if(k.hasOwnProperty(N)){if(N==v)for(var _ in w)w.hasOwnProperty(_)&&(C[_]=w[_]);w.hasOwnProperty(N)||(C[N]=k[N])}var A=b[y];return b[y]=C,o.languages.DFS(o.languages,function(M,R){R===A&&M!=y&&(this[M]=C)}),C},DFS:function y(v,w,b,k){k=k||{};var C=o.util.objId;for(var N in v)if(v.hasOwnProperty(N)){w.call(v,N,v[N],b||N);var _=v[N],A=o.util.type(_);A==="Object"&&!k[C(_)]?(k[C(_)]=!0,y(_,w,null,k)):A==="Array"&&!k[C(_)]&&(k[C(_)]=!0,y(_,w,N,k))}}},plugins:{},highlight:function(y,v,w){var b={code:y,grammar:v,language:w};if(o.hooks.run("before-tokenize",b),!b.grammar)throw new Error('The language "'+b.language+'" has no grammar.');return b.tokens=o.tokenize(b.code,b.grammar),o.hooks.run("after-tokenize",b),a.stringify(o.util.encode(b.tokens),b.language)},tokenize:function(y,v){var w=v.rest;if(w){for(var b in w)v[b]=w[b];delete v.rest}var k=new u;return d(k,k.head,y),c(y,k,v,k.head,0),m(k)},hooks:{all:{},add:function(y,v){var w=o.hooks.all;w[y]=w[y]||[],w[y].push(v)},run:function(y,v){var w=o.hooks.all[y];if(!(!w||!w.length))for(var b=0,k;k=w[b++];)k(v)}},Token:a};function a(y,v,w,b){this.type=y,this.content=v,this.alias=w,this.length=(b||"").length|0}a.stringify=function y(v,w){if(typeof v=="string")return v;if(Array.isArray(v)){var b="";return v.forEach(function(A){b+=y(A,w)}),b}var k={type:v.type,content:y(v.content,w),tag:"span",classes:["token",v.type],attributes:{},language:w},C=v.alias;C&&(Array.isArray(C)?Array.prototype.push.apply(k.classes,C):k.classes.push(C)),o.hooks.run("wrap",k);var N="";for(var _ in k.attributes)N+=" "+_+'="'+(k.attributes[_]||"").replace(/"/g,"&quot;")+'"';return"<"+k.tag+' class="'+k.classes.join(" ")+'"'+N+">"+k.content+"</"+k.tag+">"};function l(y,v,w,b){y.lastIndex=v;var k=y.exec(w);if(k&&b&&k[1]){var C=k[1].length;k.index+=C,k[0]=k[0].slice(C)}return k}function c(y,v,w,b,k,C){for(var N in w)if(!(!w.hasOwnProperty(N)||!w[N])){var _=w[N];_=Array.isArray(_)?_:[_];for(var A=0;A<_.length;++A){if(C&&C.cause==N+","+A)return;var M=_[A],R=M.inside,D=!!M.lookbehind,O=!!M.greedy,B=M.alias;if(O&&!M.pattern.global){var F=M.pattern.toString().match(/[imsuy]*$/)[0];M.pattern=RegExp(M.pattern.source,F+"g")}for(var W=M.pattern||M,I=b.next,Y=k;I!==v.tail&&!(C&&Y>=C.reach);Y+=I.value.length,I=I.next){var V=I.value;if(v.length>y.length)return;if(!(V instanceof a)){var G=1,H;if(O){if(H=l(W,Y,y,D),!H||H.index>=y.length)break;var U=H.index,$=H.index+H[0].length,L=Y;for(L+=I.value.length;U>=L;)I=I.next,L+=I.value.length;if(L-=I.value.length,Y=L,I.value instanceof a)continue;for(var q=I;q!==v.tail&&(L<$||typeof q.value=="string");q=q.next)G++,L+=q.value.length;G--,V=y.slice(Y,L),H.index-=Y}else if(H=l(W,0,V,D),!H)continue;var U=H.index,j=H[0],K=V.slice(0,U),X=V.slice(U+j.length),J=Y+V.length;C&&J>C.reach&&(C.reach=J);var Z=I.prev;K&&(Z=d(v,Z,K),Y+=K.length),h(v,Z,G);var oe=new a(N,R?o.tokenize(j,R):j,B,j);if(I=d(v,Z,oe),X&&d(v,I,X),G>1){var fe={cause:N+","+A,reach:J};c(y,v,w,I.prev,Y,fe),C&&fe.reach>C.reach&&(C.reach=fe.reach)}}}}}}function u(){var y={value:null,prev:null,next:null},v={value:null,prev:y,next:null};y.next=v,this.head=y,this.tail=v,this.length=0}function d(y,v,w){var b=v.next,k={value:w,prev:v,next:b};return v.next=k,b.prev=k,y.length++,k}function h(y,v,w){for(var b=v.next,k=0;k<w&&b!==y.tail;k++)b=b.next;v.next=b,b.prev=v,y.length-=k}function m(y){for(var v=[],w=y.head.next;w!==y.tail;)v.push(w.value),w=w.next;return v}return o}();e.exports=n,n.default=n}}),pe=a2e(l2e());pe.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},pe.languages.markup.tag.inside["attr-value"].inside.entity=pe.languages.markup.entity,pe.languages.markup.doctype.inside["internal-subset"].inside=pe.languages.markup,pe.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(pe.languages.markup.tag,"addInlined",{value:function(t,r){var n={},n=(n["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:pe.languages[r]},n.cdata=/^<!\[CDATA\[|\]\]>$/i,{"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}}),r=(n["language-"+r]={pattern:/[\s\S]+/,inside:pe.languages[r]},{});r[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:n},pe.languages.insertBefore("markup","cdata",r)}}),Object.defineProperty(pe.languages.markup.tag,"addAttribute",{value:function(t,e){pe.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:pe.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),pe.languages.html=pe.languages.markup,pe.languages.mathml=pe.languages.markup,pe.languages.svg=pe.languages.markup,pe.languages.xml=pe.languages.extend("markup",{}),pe.languages.ssml=pe.languages.xml,pe.languages.atom=pe.languages.xml,pe.languages.rss=pe.languages.xml,function(t){var e={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,r="(?:[^\\\\-]|"+n.source+")",r=RegExp(r+"-"+r),i={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:r,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":e,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":e,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":i}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":i}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(pe),pe.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},pe.languages.javascript=pe.languages.extend("clike",{"class-name":[pe.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),pe.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,pe.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:pe.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:pe.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:pe.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:pe.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:pe.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),pe.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:pe.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),pe.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),pe.languages.markup&&(pe.languages.markup.tag.addInlined("script","javascript"),pe.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),pe.languages.js=pe.languages.javascript,pe.languages.actionscript=pe.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),pe.languages.actionscript["class-name"].alias="function",delete pe.languages.actionscript.parameter,delete pe.languages.actionscript["literal-property"],pe.languages.markup&&pe.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:pe.languages.markup}}),function(t){var e=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:e,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:e,interpolation:n}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript}(pe),function(t){var e=t.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(e,"addSupport",{value:function(n,r){(n=typeof n=="string"?[n]:n).forEach(function(i){var s=function(d){d.inside||(d.inside={}),d.inside.rest=r},o="doc-comment";if(a=t.languages[i]){var a,l=a[o];if((l=l||(a=t.languages.insertBefore(i,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[o])instanceof RegExp&&(l=a[o]={pattern:l}),Array.isArray(l))for(var c=0,u=l.length;c<u;c++)l[c]instanceof RegExp&&(l[c]={pattern:l[c]}),s(l[c]);else s(l)}})}}),e.addSupport(["java","javascript","php"],e)}(pe),function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,e=(t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css,t.languages.markup);e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))}(pe),function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,e=(t.languages.css.selector={pattern:t.languages.css.selector.pattern,lookbehind:!0,inside:e={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+e.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[e,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css.atrule.inside["selector-function-argument"].inside=e,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}}),{pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0}),n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:e,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:e,number:n})}(pe),function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ 	]+"+e.source+")?|"+e.source+"(?:[ 	]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),s=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function o(a,l){l=(l||"").replace(/m/g,"")+"m";var c=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<value>>/g,function(){return a});return RegExp(c,l)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return r})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+s+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:o(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:o(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:o(s),lookbehind:!0,greedy:!0},number:{pattern:o(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml}(pe),function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(c){return c=c.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+c+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source,o=(t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+s+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+s+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(c){["url","bold","italic","strike","code-snippet"].forEach(function(u){c!==u&&(t.languages.markdown[c].inside.content.inside[u]=t.languages.markdown[u])})}),t.hooks.add("after-tokenize",function(c){c.language!=="markdown"&&c.language!=="md"||function u(d){if(d&&typeof d!="string")for(var h=0,m=d.length;h<m;h++){var y,v=d[h];v.type!=="code"?u(v.content):(y=v.content[1],v=v.content[3],y&&v&&y.type==="code-language"&&v.type==="code-block"&&typeof y.content=="string"&&(y=y.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),y="language-"+(y=(/[a-z][\w-]*/i.exec(y)||[""])[0].toLowerCase()),v.alias?typeof v.alias=="string"?v.alias=[v.alias,y]:v.alias.push(y):v.alias=[y]))}}(c.tokens)}),t.hooks.add("wrap",function(c){if(c.type==="code-block"){for(var u="",d=0,h=c.classes.length;d<h;d++){var m=c.classes[d],m=/language-(.+)/.exec(m);if(m){u=m[1];break}}var y,v=t.languages[u];v?c.content=t.highlight(function(w){return w=w.replace(o,""),w=w.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(b,k){var C;return(k=k.toLowerCase())[0]==="#"?(C=k[1]==="x"?parseInt(k.slice(2),16):Number(k.slice(1)),l(C)):a[k]||b})}(c.content),v,u):u&&u!=="none"&&t.plugins.autoloader&&(y="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random()),c.attributes.id=y,t.plugins.autoloader.loadLanguages(u,function(){var w=document.getElementById(y);w&&(w.innerHTML=t.highlight(w.textContent,t.languages[u],u))}))}}),RegExp(t.languages.markup.tag.pattern.source,"gi")),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;t.languages.md=t.languages.markdown}(pe),pe.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:pe.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},pe.hooks.add("after-tokenize",function(t){if(t.language==="graphql")for(var e=t.tokens.filter(function(y){return typeof y!="string"&&y.type!=="comment"&&y.type!=="scalar"}),n=0;n<e.length;){var r=e[n++];if(r.type==="keyword"&&r.content==="mutation"){var i=[];if(d(["definition-mutation","punctuation"])&&u(1).content==="("){n+=2;var s=h(/^\($/,/^\)$/);if(s===-1)continue;for(;n<s;n++){var o=u(0);o.type==="variable"&&(m(o,"variable-input"),i.push(o.content))}n=s+1}if(d(["punctuation","property-query"])&&u(0).content==="{"&&(n++,m(u(0),"property-mutation"),0<i.length)){var a=h(/^\{$/,/^\}$/);if(a!==-1)for(var l=n;l<a;l++){var c=e[l];c.type==="variable"&&0<=i.indexOf(c.content)&&m(c,"variable-input")}}}}function u(y){return e[n+y]}function d(y,v){v=v||0;for(var w=0;w<y.length;w++){var b=u(w+v);if(!b||b.type!==y[w])return}return 1}function h(y,v){for(var w=1,b=n;b<e.length;b++){var k=e[b],C=k.content;if(k.type==="punctuation"&&typeof C=="string"){if(y.test(C))w++;else if(v.test(C)&&--w===0)return b}}return-1}function m(y,v){var w=y.alias;w?Array.isArray(w)||(y.alias=w=[w]):y.alias=w=[],w.push(v)}}),pe.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(t){var e=t.languages.javascript["template-string"],n=e.pattern.source,r=e.inside.interpolation,i=r.inside["interpolation-punctuation"],s=r.pattern.source;function o(d,h){if(t.languages[d])return{pattern:RegExp("((?:"+h+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:d}}}}function a(d,h,m){return d={code:d,grammar:h,language:m},t.hooks.run("before-tokenize",d),d.tokens=t.tokenize(d.code,d.grammar),t.hooks.run("after-tokenize",d),d.tokens}function l(d,h,m){var w=t.tokenize(d,{interpolation:{pattern:RegExp(s),lookbehind:!0}}),y=0,v={},w=a(w.map(function(k){if(typeof k=="string")return k;for(var C,N,k=k.content;d.indexOf((N=y++,C="___"+m.toUpperCase()+"_"+N+"___"))!==-1;);return v[C]=k,C}).join(""),h,m),b=Object.keys(v);return y=0,function k(C){for(var N=0;N<C.length;N++){if(y>=b.length)return;var _,A,M,R,D,O,B,F=C[N];typeof F=="string"||typeof F.content=="string"?(_=b[y],(B=(O=typeof F=="string"?F:F.content).indexOf(_))!==-1&&(++y,A=O.substring(0,B),D=v[_],M=void 0,(R={})["interpolation-punctuation"]=i,(R=t.tokenize(D,R)).length===3&&((M=[1,1]).push.apply(M,a(R[1],t.languages.javascript,"javascript")),R.splice.apply(R,M)),M=new t.Token("interpolation",R,r.alias,D),R=O.substring(B+_.length),D=[],A&&D.push(A),D.push(M),R&&(k(O=[R]),D.push.apply(D,O)),typeof F=="string"?(C.splice.apply(C,[N,1].concat(D)),N+=D.length-1):F.content=D)):(B=F.content,Array.isArray(B)?k(B):k([B]))}}(w),new t.Token(m,w,"language-"+m,d)}t.languages.javascript["template-string"]=[o("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),o("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),o("svg",/\bsvg/.source),o("markdown",/\b(?:markdown|md)/.source),o("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),o("sql",/\bsql/.source),e].filter(Boolean);var c={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function u(d){return typeof d=="string"?d:Array.isArray(d)?d.map(u).join(""):u(d.content)}t.hooks.add("after-tokenize",function(d){d.language in c&&function h(m){for(var y=0,v=m.length;y<v;y++){var w,b,k,C=m[y];typeof C!="string"&&(w=C.content,Array.isArray(w)?C.type==="template-string"?(C=w[1],w.length===3&&typeof C!="string"&&C.type==="embedded-code"&&(b=u(C),C=C.alias,C=Array.isArray(C)?C[0]:C,k=t.languages[C])&&(w[1]=l(b,k,C))):h(w):typeof w!="string"&&h([w]))}}(d.tokens)})}(pe),function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(pe),function(t){var e=t.languages.javascript,n=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,r="(@(?:arg|argument|param|property)\\s+(?:"+n+"\\s+)?)";t.languages.jsdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp(r+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),t.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(r+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:e,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return n})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{string:e.string,number:e.number,boolean:e.boolean,keyword:t.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:e,alias:"language-javascript"}}}}),t.languages.javadoclike.addSupport("javascript",t.languages.jsdoc)}(pe),function(t){t.languages.flow=t.languages.extend("javascript",{}),t.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),t.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete t.languages.flow.parameter,t.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(t.languages.flow.keyword)||(t.languages.flow.keyword=[t.languages.flow.keyword]),t.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})}(pe),pe.languages.n4js=pe.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),pe.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),pe.languages.n4jsd=pe.languages.n4js,function(t){function e(o,a){return RegExp(o.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),a)}t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),t.languages.insertBefore("javascript","keyword",{imports:{pattern:e(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:e(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:e(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var s=n[r],i=t.languages.javascript[s],s=(i=t.util.type(i)==="RegExp"?t.languages.javascript[s]={pattern:i}:i).inside||{};(i.inside=s)["maybe-class-name"]=/^[A-Z][\s\S]*/}}(pe),function(t){var e=t.util.clone(t.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(l,c){return l=l.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return i}),RegExp(l,c)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",e),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=e.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);function o(l){for(var c=[],u=0;u<l.length;u++){var d=l[u],h=!1;typeof d!="string"&&(d.type==="tag"&&d.content[0]&&d.content[0].type==="tag"?d.content[0].content[0].content==="</"?0<c.length&&c[c.length-1].tagName===a(d.content[0].content[1])&&c.pop():d.content[d.content.length-1].content!=="/>"&&c.push({tagName:a(d.content[0].content[1]),openedBraces:0}):0<c.length&&d.type==="punctuation"&&d.content==="{"?c[c.length-1].openedBraces++:0<c.length&&0<c[c.length-1].openedBraces&&d.type==="punctuation"&&d.content==="}"?c[c.length-1].openedBraces--:h=!0),(h||typeof d=="string")&&0<c.length&&c[c.length-1].openedBraces===0&&(h=a(d),u<l.length-1&&(typeof l[u+1]=="string"||l[u+1].type==="plain-text")&&(h+=a(l[u+1]),l.splice(u+1,1)),0<u&&(typeof l[u-1]=="string"||l[u-1].type==="plain-text")&&(h=a(l[u-1])+h,l.splice(u-1,1),u--),l[u]=new t.Token("plain-text",h,null,h)),d.content&&typeof d.content!="string"&&o(d.content)}}var a=function(l){return l?typeof l=="string"?l:typeof l.content=="string"?l.content:l.content.map(a).join(""):""};t.hooks.add("after-tokenize",function(l){l.language!=="jsx"&&l.language!=="tsx"||o(l.tokens)})}(pe),function(t){var e=t.util.clone(t.languages.typescript),e=(t.languages.tsx=t.languages.extend("jsx",e),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"],t.languages.tsx.tag);e.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+e.pattern.source+")",e.pattern.flags),e.lookbehind=!0}(pe),pe.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},pe.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=pe.languages.swift}),function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var e={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:e},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:e},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin}(pe),pe.languages.c=pe.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),pe.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),pe.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},pe.languages.c.string],char:pe.languages.c.char,comment:pe.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:pe.languages.c}}}}),pe.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete pe.languages.c.boolean,pe.languages.objectivec=pe.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete pe.languages.objectivec["class-name"],pe.languages.objc=pe.languages.objectivec,pe.languages.reason=pe.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),pe.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete pe.languages.reason.function,function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string}(pe),pe.languages.go=pe.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),pe.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete pe.languages.go["class-name"],function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])}(pe),pe.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},pe.languages.python["string-interpolation"].inside.interpolation.inside.rest=pe.languages.python,pe.languages.py=pe.languages.python,pe.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},pe.languages.webmanifest=pe.languages.json;var xU={};s2e(xU,{dracula:()=>u2e,duotoneDark:()=>f2e,duotoneLight:()=>p2e,github:()=>g2e,gruvboxMaterialDark:()=>U2e,gruvboxMaterialLight:()=>Y2e,jettwaveDark:()=>L2e,jettwaveLight:()=>B2e,nightOwl:()=>x2e,nightOwlLight:()=>w2e,oceanicNext:()=>k2e,okaidia:()=>C2e,oneDark:()=>$2e,oneLight:()=>W2e,palenight:()=>N2e,shadesOfPurple:()=>A2e,synthwave84:()=>M2e,ultramin:()=>R2e,vsDark:()=>vU,vsLight:()=>j2e});var c2e={plain:{color:"#F8F8F2",backgroundColor:"#282A36"},styles:[{types:["prolog","constant","builtin"],style:{color:"rgb(189, 147, 249)"}},{types:["inserted","function"],style:{color:"rgb(80, 250, 123)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["changed"],style:{color:"rgb(255, 184, 108)"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["string","char","tag","selector"],style:{color:"rgb(255, 121, 198)"}},{types:["keyword","variable"],style:{color:"rgb(189, 147, 249)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)"}},{types:["attr-name"],style:{color:"rgb(241, 250, 140)"}}]},u2e=c2e,d2e={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},f2e=d2e,h2e={plain:{backgroundColor:"#faf8f5",color:"#728fcb"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#b6ad9a"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#063289"}},{types:["property","function"],style:{color:"#b29762"}},{types:["tag-id","selector","atrule-id"],style:{color:"#2d2006"}},{types:["attr-name"],style:{color:"#896724"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule"],style:{color:"#728fcb"}},{types:["placeholder","variable"],style:{color:"#93abdc"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#896724"}}]},p2e=h2e,m2e={plain:{color:"#393A34",backgroundColor:"#f6f8fa"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#999988",fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}},{types:["string","attr-value"],style:{color:"#e3116c"}},{types:["punctuation","operator"],style:{color:"#393A34"}},{types:["entity","url","symbol","number","boolean","variable","constant","property","regex","inserted"],style:{color:"#36acaa"}},{types:["atrule","keyword","attr-name","selector"],style:{color:"#00a4db"}},{types:["function","deleted","tag"],style:{color:"#d73a49"}},{types:["function-variable"],style:{color:"#6f42c1"}},{types:["tag","selector","keyword"],style:{color:"#00009f"}}]},g2e=m2e,y2e={plain:{color:"#d6deeb",backgroundColor:"#011627"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(99, 119, 119)",fontStyle:"italic"}},{types:["string","url"],style:{color:"rgb(173, 219, 103)"}},{types:["variable"],style:{color:"rgb(214, 222, 235)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation"],style:{color:"rgb(199, 146, 234)"}},{types:["selector","doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(255, 203, 139)"}},{types:["tag","operator","keyword"],style:{color:"rgb(127, 219, 202)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["property"],style:{color:"rgb(128, 203, 196)"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}}]},x2e=y2e,v2e={plain:{color:"#403f53",backgroundColor:"#FBFBFB"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(72, 118, 214)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(152, 159, 177)",fontStyle:"italic"}},{types:["string","builtin","char","constant","url"],style:{color:"rgb(72, 118, 214)"}},{types:["variable"],style:{color:"rgb(201, 103, 101)"}},{types:["number"],style:{color:"rgb(170, 9, 130)"}},{types:["punctuation"],style:{color:"rgb(153, 76, 195)"}},{types:["function","selector","doctype"],style:{color:"rgb(153, 76, 195)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(17, 17, 17)"}},{types:["tag"],style:{color:"rgb(153, 76, 195)"}},{types:["operator","property","keyword","namespace"],style:{color:"rgb(12, 150, 155)"}},{types:["boolean"],style:{color:"rgb(188, 84, 84)"}}]},w2e=v2e,vi={char:"#D8DEE9",comment:"#999999",keyword:"#c5a5c5",primitive:"#5a9bcf",string:"#8dc891",variable:"#d7deea",boolean:"#ff8b50",tag:"#fc929e",function:"#79b6f2",className:"#FAC863"},b2e={plain:{backgroundColor:"#282c34",color:"#ffffff"},styles:[{types:["attr-name"],style:{color:vi.keyword}},{types:["attr-value"],style:{color:vi.string}},{types:["comment","block-comment","prolog","doctype","cdata","shebang"],style:{color:vi.comment}},{types:["property","number","function-name","constant","symbol","deleted"],style:{color:vi.primitive}},{types:["boolean"],style:{color:vi.boolean}},{types:["tag"],style:{color:vi.tag}},{types:["string"],style:{color:vi.string}},{types:["punctuation"],style:{color:vi.string}},{types:["selector","char","builtin","inserted"],style:{color:vi.char}},{types:["function"],style:{color:vi.function}},{types:["operator","entity","url","variable"],style:{color:vi.variable}},{types:["keyword"],style:{color:vi.keyword}},{types:["atrule","class-name"],style:{color:vi.className}},{types:["important"],style:{fontWeight:"400"}},{types:["bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}}]},k2e=b2e,S2e={plain:{color:"#f8f8f2",backgroundColor:"#272822"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"#f92672",fontStyle:"italic"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"#8292a2",fontStyle:"italic"}},{types:["string","url"],style:{color:"#a6e22e"}},{types:["variable"],style:{color:"#f8f8f2"}},{types:["number"],style:{color:"#ae81ff"}},{types:["builtin","char","constant","function","class-name"],style:{color:"#e6db74"}},{types:["punctuation"],style:{color:"#f8f8f2"}},{types:["selector","doctype"],style:{color:"#a6e22e",fontStyle:"italic"}},{types:["tag","operator","keyword"],style:{color:"#66d9ef"}},{types:["boolean"],style:{color:"#ae81ff"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)",opacity:.7}},{types:["tag","property"],style:{color:"#f92672"}},{types:["attr-name"],style:{color:"#a6e22e !important"}},{types:["doctype"],style:{color:"#8292a2"}},{types:["rule"],style:{color:"#e6db74"}}]},C2e=S2e,E2e={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},N2e=E2e,T2e={plain:{color:"#9EFEFF",backgroundColor:"#2D2A55"},styles:[{types:["changed"],style:{color:"rgb(255, 238, 128)"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)"}},{types:["comment"],style:{color:"rgb(179, 98, 255)",fontStyle:"italic"}},{types:["punctuation"],style:{color:"rgb(255, 255, 255)"}},{types:["constant"],style:{color:"rgb(255, 98, 140)"}},{types:["string","url"],style:{color:"rgb(165, 255, 144)"}},{types:["variable"],style:{color:"rgb(255, 238, 128)"}},{types:["number","boolean"],style:{color:"rgb(255, 98, 140)"}},{types:["attr-name"],style:{color:"rgb(255, 180, 84)"}},{types:["keyword","operator","property","namespace","tag","selector","doctype"],style:{color:"rgb(255, 157, 0)"}},{types:["builtin","char","constant","function","class-name"],style:{color:"rgb(250, 208, 0)"}}]},A2e=T2e,_2e={plain:{backgroundColor:"linear-gradient(to bottom, #2a2139 75%, #34294f)",backgroundImage:"#34294f",color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"},styles:[{types:["comment","block-comment","prolog","doctype","cdata"],style:{color:"#495495",fontStyle:"italic"}},{types:["punctuation"],style:{color:"#ccc"}},{types:["tag","attr-name","namespace","number","unit","hexcode","deleted"],style:{color:"#e2777a"}},{types:["property","selector"],style:{color:"#72f1b8",textShadow:"0 0 2px #100c0f, 0 0 10px #257c5575, 0 0 35px #21272475"}},{types:["function-name"],style:{color:"#6196cc"}},{types:["boolean","selector-id","function"],style:{color:"#fdfdfd",textShadow:"0 0 2px #001716, 0 0 3px #03edf975, 0 0 5px #03edf975, 0 0 8px #03edf975"}},{types:["class-name","maybe-class-name","builtin"],style:{color:"#fff5f6",textShadow:"0 0 2px #000, 0 0 10px #fc1f2c75, 0 0 5px #fc1f2c75, 0 0 25px #fc1f2c75"}},{types:["constant","symbol"],style:{color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"}},{types:["important","atrule","keyword","selector-class"],style:{color:"#f4eee4",textShadow:"0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575"}},{types:["string","char","attr-value","regex","variable"],style:{color:"#f87c32"}},{types:["parameter"],style:{fontStyle:"italic"}},{types:["entity","url"],style:{color:"#67cdcc"}},{types:["operator"],style:{color:"ffffffee"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["entity"],style:{cursor:"help"}},{types:["inserted"],style:{color:"green"}}]},M2e=_2e,P2e={plain:{color:"#282a2e",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(197, 200, 198)"}},{types:["string","number","builtin","variable"],style:{color:"rgb(150, 152, 150)"}},{types:["class-name","function","tag","attr-name"],style:{color:"rgb(40, 42, 46)"}}]},R2e=P2e,O2e={plain:{color:"#9CDCFE",backgroundColor:"#1E1E1E"},styles:[{types:["prolog"],style:{color:"rgb(0, 0, 128)"}},{types:["comment"],style:{color:"rgb(106, 153, 85)"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"rgb(86, 156, 214)"}},{types:["number","inserted"],style:{color:"rgb(181, 206, 168)"}},{types:["constant"],style:{color:"rgb(100, 102, 149)"}},{types:["attr-name","variable"],style:{color:"rgb(156, 220, 254)"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"rgb(206, 145, 120)"}},{types:["selector"],style:{color:"rgb(215, 186, 125)"}},{types:["tag"],style:{color:"rgb(78, 201, 176)"}},{types:["tag"],languages:["markup"],style:{color:"rgb(86, 156, 214)"}},{types:["punctuation","operator"],style:{color:"rgb(212, 212, 212)"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"rgb(220, 220, 170)"}},{types:["class-name"],style:{color:"rgb(78, 201, 176)"}},{types:["char"],style:{color:"rgb(209, 105, 105)"}}]},vU=O2e,D2e={plain:{color:"#000000",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(0, 128, 0)"}},{types:["builtin"],style:{color:"rgb(0, 112, 193)"}},{types:["number","variable","inserted"],style:{color:"rgb(9, 134, 88)"}},{types:["operator"],style:{color:"rgb(0, 0, 0)"}},{types:["constant","char"],style:{color:"rgb(129, 31, 63)"}},{types:["tag"],style:{color:"rgb(128, 0, 0)"}},{types:["attr-name"],style:{color:"rgb(255, 0, 0)"}},{types:["deleted","string"],style:{color:"rgb(163, 21, 21)"}},{types:["changed","punctuation"],style:{color:"rgb(4, 81, 165)"}},{types:["function","keyword"],style:{color:"rgb(0, 0, 255)"}},{types:["class-name"],style:{color:"rgb(38, 127, 153)"}}]},j2e=D2e,I2e={plain:{color:"#f8fafc",backgroundColor:"#011627"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#569CD6"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#f8fafc"}},{types:["attr-name","variable"],style:{color:"#9CDCFE"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#cbd5e1"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#D4D4D4"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#7dd3fc"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},L2e=I2e,F2e={plain:{color:"#0f172a",backgroundColor:"#f1f5f9"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#0c4a6e"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#0f172a"}},{types:["attr-name","variable"],style:{color:"#0c4a6e"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#64748b"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#475569"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#0e7490"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},B2e=F2e,z2e={plain:{backgroundColor:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(220, 10%, 40%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(220, 14%, 71%)"}},{types:["attr-name","class-name","maybe-class-name","boolean","constant","number","atrule"],style:{color:"hsl(29, 54%, 61%)"}},{types:["keyword"],style:{color:"hsl(286, 60%, 67%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(355, 65%, 65%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value"],style:{color:"hsl(95, 38%, 62%)"}},{types:["variable","operator","function"],style:{color:"hsl(207, 82%, 66%)"}},{types:["url"],style:{color:"hsl(187, 47%, 55%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(220, 14%, 71%)"}}]},$2e=z2e,V2e={plain:{backgroundColor:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(230, 4%, 64%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(230, 8%, 24%)"}},{types:["attr-name","class-name","boolean","constant","number","atrule"],style:{color:"hsl(35, 99%, 36%)"}},{types:["keyword"],style:{color:"hsl(301, 63%, 40%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(5, 74%, 59%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value","punctuation"],style:{color:"hsl(119, 34%, 47%)"}},{types:["variable","operator","function"],style:{color:"hsl(221, 87%, 60%)"}},{types:["url"],style:{color:"hsl(198, 99%, 37%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(230, 8%, 24%)"}}]},W2e=V2e,H2e={plain:{color:"#ebdbb2",backgroundColor:"#292828"},styles:[{types:["imports","class-name","maybe-class-name","constant","doctype","builtin","function"],style:{color:"#d8a657"}},{types:["property-access"],style:{color:"#7daea3"}},{types:["tag"],style:{color:"#e78a4e"}},{types:["attr-name","char","url","regex"],style:{color:"#a9b665"}},{types:["attr-value","string"],style:{color:"#89b482"}},{types:["comment","prolog","cdata","operator","inserted"],style:{color:"#a89984"}},{types:["delimiter","boolean","keyword","selector","important","atrule","property","variable","deleted"],style:{color:"#ea6962"}},{types:["entity","number","symbol"],style:{color:"#d3869b"}}]},U2e=H2e,q2e={plain:{color:"#654735",backgroundColor:"#f9f5d7"},styles:[{types:["delimiter","boolean","keyword","selector","important","atrule","property","variable","deleted"],style:{color:"#af2528"}},{types:["imports","class-name","maybe-class-name","constant","doctype","builtin"],style:{color:"#b4730e"}},{types:["string","attr-value"],style:{color:"#477a5b"}},{types:["property-access"],style:{color:"#266b79"}},{types:["function","attr-name","char","url"],style:{color:"#72761e"}},{types:["tag"],style:{color:"#b94c07"}},{types:["comment","prolog","cdata","operator","inserted"],style:{color:"#a89984"}},{types:["entity","number","symbol"],style:{color:"#924f79"}}]},Y2e=q2e,G2e=t=>S.useCallback(e=>{var n=e,{className:r,style:i,line:s}=n,o=yU(n,["className","style","line"]);const a=Zv(lo({},o),{className:qx("token-line",r)});return typeof t=="object"&&"plain"in t&&(a.style=t.plain),typeof i=="object"&&(a.style=lo(lo({},a.style||{}),i)),a},[t]),K2e=t=>{const e=S.useCallback(({types:n,empty:r})=>{if(t!=null){{if(n.length===1&&n[0]==="plain")return r!=null?{display:"inline-block"}:void 0;if(n.length===1&&r!=null)return t[n[0]]}return Object.assign(r!=null?{display:"inline-block"}:{},...n.map(i=>t[i]))}},[t]);return S.useCallback(n=>{var r=n,{token:i,className:s,style:o}=r,a=yU(r,["token","className","style"]);const l=Zv(lo({},a),{className:qx("token",...i.types,s),children:i.content,style:e(i)});return o!=null&&(l.style=lo(lo({},l.style||{}),o)),l},[e])},X2e=/\r\n|\r|\n/,mL=t=>{t.length===0?t.push({types:["plain"],content:`
`,empty:!0}):t.length===1&&t[0].content===""&&(t[0].content=`
`,t[0].empty=!0)},gL=(t,e)=>{const n=t.length;return n>0&&t[n-1]===e?t:t.concat(e)},Z2e=t=>{const e=[[]],n=[t],r=[0],i=[t.length];let s=0,o=0,a=[];const l=[a];for(;o>-1;){for(;(s=r[o]++)<i[o];){let c,u=e[o];const h=n[o][s];if(typeof h=="string"?(u=o>0?u:["plain"],c=h):(u=gL(u,h.type),h.alias&&(u=gL(u,h.alias)),c=h.content),typeof c!="string"){o++,e.push(u),n.push(c),r.push(0),i.push(c.length);continue}const m=c.split(X2e),y=m.length;a.push({types:u,content:m[0]});for(let v=1;v<y;v++)mL(a),l.push(a=[]),a.push({types:u,content:m[v]})}o--,e.pop(),n.pop(),r.pop(),i.pop()}return mL(a),l},yL=Z2e,Q2e=({prism:t,code:e,grammar:n,language:r})=>S.useMemo(()=>{if(n==null)return yL([e]);const i={code:e,grammar:n,language:r,tokens:[]};return t.hooks.run("before-tokenize",i),i.tokens=t.tokenize(e,n),t.hooks.run("after-tokenize",i),yL(i.tokens)},[e,n,r,t]),J2e=(t,e)=>{const{plain:n}=t,r=t.styles.reduce((i,s)=>{const{languages:o,style:a}=s;return o&&!o.includes(e)||s.types.forEach(l=>{const c=lo(lo({},i[l]),a);i[l]=c}),i},{});return r.root=n,r.plain=Zv(lo({},n),{backgroundColor:void 0}),r},e_e=J2e,t_e=({children:t,language:e,code:n,theme:r,prism:i})=>{const s=e.toLowerCase(),o=e_e(r,s),a=G2e(o),l=K2e(o),c=i.languages[s],u=Q2e({prism:i,language:s,code:n,grammar:c});return t({tokens:u,className:`prism-code language-${s}`,style:o!=null?o.root:{},getLineProps:a,getTokenProps:l})},n_e=t=>S.createElement(t_e,Zv(lo({},t),{prism:t.prism||pe,theme:t.theme||vU,code:t.code,language:t.language}));/*! Bundled license information:

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)
*/const r_e=(t,e)=>e.some(n=>{if(typeof n=="number")return t===n;const[r,i]=n.split(":").map(s=>parseInt(s));return r<=t&&t<=i}),i_e=(t,e,n)=>n.some(([r,[i,s]])=>r===t&&i<=e&&e<=s),s_e=(t,e)=>t.split(new RegExp(`(${e.map(([n])=>n).join("|")})`)).filter(Boolean),o_e=t=>t.map(e=>{e=e.startsWith("/")?e:"/"+e;const[,n,r="0:Infinity"]=e.split("/"),[i,s=i]=r.split(":").map(o=>Number(o));return[n,[i,s]]}),wU=(t,e)=>()=>{const n=S.useContext(t);if(n===void 0)throw new Error(e);return n},Qv=t=>Object.assign(S.forwardRef(t),{displayName:t.displayName??t.name}),bU=S.createContext(void 0),kU=S.createContext(void 0),SU=wU(bU,'Could not find nearest <CodeBlock /> component. Please wrap this component with a <CodeBlock /> component imported from "react-code-block".'),I2=wU(kU,'Could not find nearest <CodeBlock.Code /> component. Please wrap this component with <CodeBlock.Code /> component imported from "react-code-block".'),Yo=({code:t,words:e=[],lines:n=[],children:r,...i})=>{const s=S.useMemo(()=>o_e(e),[e]);return g.jsx(bU.Provider,{value:{code:t.trim(),words:s,lines:n,...i},children:r})},a_e=({as:t,children:e,...n},r)=>{const{lines:i,words:s,...o}=SU(),a=t??"pre";return g.jsx(n_e,{...o,children:l=>g.jsx(a,{...n,ref:r,children:l.tokens.map((c,u)=>{const d=u+1,h=r_e(d,i);return g.jsx(kU.Provider,{value:{highlight:l,line:c,lineNumber:d},children:typeof e=="function"?e({isLineHighlighted:h,lineNumber:d},u):e},u)})})})},l_e=({as:t,children:e,className:n,...r},i)=>{const{highlight:s,line:o}=I2(),{getLineProps:a}=s,l=t??"div";return g.jsx(l,{...a({line:o,className:n}),...r,ref:i,children:e})},c_e=({as:t,children:e=({children:s})=>g.jsx("span",{children:s}),className:n,...r},i)=>{const{words:s}=SU(),{line:o,highlight:a,lineNumber:l}=I2(),{getTokenProps:c}=a,u=t??"span";return g.jsx(ne.Fragment,{children:o.map((d,h)=>{const{children:m,...y}=c({token:d,className:n}),v=s.length?s_e(m,s):[m];return g.jsx(ne.Fragment,{children:v.map((w,b)=>g.jsx(u,{...y,...r,ref:i,children:e({children:w,isTokenHighlighted:i_e(w,l,s)})},b))},h)})})},u_e=({as:t,...e},n)=>{const{lineNumber:r}=I2(),i=t??"span";return g.jsx(i,{...e,ref:n,children:r})};Yo.Code=Qv(a_e);Yo.LineContent=Qv(l_e);Yo.Token=Qv(c_e);Yo.LineNumber=Qv(u_e);function CN({code:t="",language:e="ts",filename:n,className:r}){return g.jsxs(Yo,{code:t,language:e,theme:xU.oneDark,children:[n?g.jsx("div",{className:"absolute w-full px-6 py-2 pl-4 text-sm rounded bg-mastra-bg-2 text-mastra-el-6/50",children:n}):null,g.jsx(Yo.Code,{className:ve("bg-transparent h-full p-6 rounded-xl whitespace-pre-wrap",n?"pt-10":"",r),children:g.jsx("div",{className:"table-row",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(Yo.LineNumber,{className:"table-cell pr-4 text-sm text-right select-none text-gray-500/50"}),g.jsx(Yo.LineContent,{className:"flex",children:g.jsx(Yo.Token,{className:"font-mono text-sm mastra-token"})})]})})})]})}const CU=({isExecutingTool:t,zodInputSchema:e,handleExecuteTool:n,executionResult:r})=>g.jsxs("div",{className:"w-full h-full grid grid-cols-[300px_1fr] p-2 gap-2",children:[g.jsxs("div",{className:"flex flex-col gap-4 border-[0.5px] border-mastra-border-1 rounded-[0.25rem] bg-mastra-bg-2 p-4 py-6",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 px-4",size:"xs",children:"Input"}),g.jsx("div",{className:"w-full h-[calc(100vh-126px)] ",children:g.jsx(SN,{isSubmitLoading:t,schema:e,onSubmit:i=>{n(i)}})})]}),g.jsxs("div",{className:"flex relative group flex-col gap-4 border-[0.5px] border-mastra-border-1 rounded-[0.25rem] bg-mastra-bg-2 p-4 py-6",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3  px-4",size:"xs",children:"Output"}),g.jsx("div",{className:"flex flex-col  gap-2",children:g.jsx(A0,{classname:"absolute z-40 top-4 right-4 w-8 h-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-150 ease-in-out",content:JSON.stringify(r??{},null,2)})}),g.jsx(Bn,{className:"h-[calc(100vh-120px)] w-full",children:g.jsx(CN,{code:JSON.stringify(r??{},null,2),language:"json"})})]})]}),d_e=()=>{const{toolId:t,agentId:e}=fa(),{executeTool:n,isExecutingTool:r}=gEe(),[i,s]=S.useState(null),{agent:o,isLoading:a}=Dc(e),l=Object.values((o==null?void 0:o.tools)??{}).find(h=>h.id===t),c=async h=>{if(!o||!l)return;const m=await n({agentId:e,toolId:l.id,input:h});s(m)};if(a)return g.jsxs("div",{className:"flex flex-col h-full w-full bg-mastra-bg-1",children:[g.jsx(Ei,{title:"Loading..."}),g.jsxs("div",{className:"w-full h-full grid grid-cols-[300px_1fr] p-2 gap-2",children:[g.jsxs("div",{className:"flex flex-col gap-4 border-[0.5px] border-mastra-border-1 rounded-[0.25rem] bg-mastra-bg-2 p-4 py-6",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 px-4",size:"xs",children:"Input"}),g.jsx(Ue,{className:"h-[200px] w-full"})]}),g.jsxs("div",{className:"flex flex-col gap-4 border-[0.5px] border-mastra-border-1 rounded-[0.25rem] bg-mastra-bg-2 p-4 py-6",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 px-4",size:"xs",children:"Output"}),g.jsx(Ue,{className:"h-[200px] w-full"})]})]})]});if(!o||!l)return null;const u=l!=null&&l.inputSchema?k2(v2(w2(l==null?void 0:l.inputSchema))):Gt.object({}),d=[{label:"Agents",href:"/agents"},{label:e,href:`/agents/${e}/chat`},{label:t,href:`/agents/${e}/tools/${t}`,isCurrent:!0}];return g.jsxs("div",{className:"flex flex-col h-full w-full bg-mastra-bg-1",children:[g.jsx(Ei,{title:g.jsx(Gx,{items:d})}),g.jsx(CU,{executionResult:i,isExecutingTool:r,zodInputSchema:u,handleExecuteTool:c})]})},f_e=()=>{const[t,e]=S.useState(!1);return{executeTool:async({toolId:r,input:i})=>{try{e(!0);const s=await fetch(`/api/tools/${r}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:i})});if(!s.ok){const o=await s.json();throw gn.error((o==null?void 0:o.error)||"Error executing dev tool"),new Error(`Error executing dev tool: ${(o==null?void 0:o.error)||s.statusText}`)}return await s.json()}catch(s){throw console.error("Error executing dev tool:",s),s}finally{e(!1)}},isExecuting:t}},h_e=()=>{const{toolId:t}=fa(),{executeTool:e,isExecuting:n}=f_e(),[r,i]=S.useState(null),{tool:s,isLoading:o}=TQ(t),a=async u=>{if(!s)return;const d=await e({toolId:s.id,input:u});i(d)};if(o)return g.jsxs("div",{className:"flex flex-col h-full w-full bg-mastra-bg-1",children:[g.jsx(Ei,{title:"Loading..."}),g.jsxs("div",{className:"w-full h-full grid grid-cols-[300px_1fr] p-2 gap-2",children:[g.jsxs("div",{className:"flex flex-col gap-4 border-[0.5px] border-mastra-border-1 rounded-[0.25rem] bg-mastra-bg-2 p-4 py-6",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 px-4",size:"xs",children:"Input"}),g.jsx(Ue,{className:"h-[200px] w-full"})]}),g.jsxs("div",{className:"flex flex-col gap-4 border-[0.5px] border-mastra-border-1 rounded-[0.25rem] bg-mastra-bg-2 p-4 py-6",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 px-4",size:"xs",children:"Output"}),g.jsx(Ue,{className:"h-[200px] w-full"})]})]})]});if(!s)return null;const l=s!=null&&s.inputSchema?k2(v2(w2(s==null?void 0:s.inputSchema))):Gt.object({}),c=[{label:"Tools",href:"/tools"},{label:t,href:`/tools/all/${s.id}`,isCurrent:!0}];return g.jsxs("div",{className:"flex flex-col h-full w-full bg-mastra-bg-1",children:[g.jsx(Ei,{title:g.jsx(Gx,{items:c})}),g.jsx(CU,{executionResult:r,isExecutingTool:n,zodInputSchema:l,handleExecuteTool:a})]})};function p_e(){const{workflows:t,isLoading:e}=wQ(),n=ko();return g.jsxs("div",{className:"flex flex-col h-full relative overflow-hidden",children:[g.jsx(Ei,{title:"Workflows"}),g.jsx("main",{className:"flex-1 relative overflow-hidden",children:g.jsx(Bn,{className:"rounded-lg h-full",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"w-[50px]"}),g.jsx(yt,{className:"text-mastra-el-3 w-1/2",children:"Name"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Action"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:e?g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-8"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})})]}):Object.entries(t).map(([r,i])=>g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{children:g.jsx("div",{className:"h-8 w-full flex items-center justify-center",children:g.jsx(fC,{className:"h-4 w-4 text-mastra-el-5"})})}),g.jsx(ot,{className:"font-medium truncate max-w-[500px] text-mastra-el-5",children:i.name}),g.jsx(ot,{className:"text-mastra-el-5 text-sm",children:g.jsx("span",{onClick:()=>{n(`/workflows/${r}/graph`)},className:"hover:no-underline",children:g.jsxs(pt,{size:"sm",variant:"outline",children:[g.jsx(fC,{className:"h-4 w-4 text-inherit"}),"View Workflow"]})})})]},r))})]})})})]})}function Wn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Wn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var m_e={value:()=>{}};function Jv(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new m0(n)}function m0(t){this._=t}function g_e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}m0.prototype=Jv.prototype={constructor:m0,on:function(t,e){var n=this._,r=g_e(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=y_e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=xL(n[i],t.name,e);else if(e==null)for(i in n)n[i]=xL(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new m0(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function y_e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function xL(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=m_e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var EN="http://www.w3.org/1999/xhtml";const vL={svg:"http://www.w3.org/2000/svg",xhtml:EN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ew(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),vL.hasOwnProperty(e)?{space:vL[e],local:t}:t}function x_e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===EN&&e.documentElement.namespaceURI===EN?e.createElement(t):e.createElementNS(n,t)}}function v_e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function EU(t){var e=ew(t);return(e.local?v_e:x_e)(e)}function w_e(){}function L2(t){return t==null?w_e:function(){return this.querySelector(t)}}function b_e(t){typeof t!="function"&&(t=L2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ri(r,this._parents)}function k_e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function S_e(){return[]}function NU(t){return t==null?S_e:function(){return this.querySelectorAll(t)}}function C_e(t){return function(){return k_e(t.apply(this,arguments))}}function E_e(t){typeof t=="function"?t=C_e(t):t=NU(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Ri(r,i)}function TU(t){return function(){return this.matches(t)}}function AU(t){return function(e){return e.matches(t)}}var N_e=Array.prototype.find;function T_e(t){return function(){return N_e.call(this.children,t)}}function A_e(){return this.firstElementChild}function __e(t){return this.select(t==null?A_e:T_e(typeof t=="function"?t:AU(t)))}var M_e=Array.prototype.filter;function P_e(){return Array.from(this.children)}function R_e(t){return function(){return M_e.call(this.children,t)}}function O_e(t){return this.selectAll(t==null?P_e:R_e(typeof t=="function"?t:AU(t)))}function D_e(t){typeof t!="function"&&(t=TU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Ri(r,this._parents)}function _U(t){return new Array(t.length)}function j_e(){return new Ri(this._enter||this._groups.map(_U),this._parents)}function Ox(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ox.prototype={constructor:Ox,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function I_e(t){return function(){return t}}function L_e(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Ox(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function F_e(t,e,n,r,i,s,o){var a,l,c=new Map,u=e.length,d=s.length,h=new Array(u),m;for(a=0;a<u;++a)(l=e[a])&&(h[a]=m=o.call(l,l.__data__,a,e)+"",c.has(m)?i[a]=l:c.set(m,l));for(a=0;a<d;++a)m=o.call(t,s[a],a,s)+"",(l=c.get(m))?(r[a]=l,l.__data__=s[a],c.delete(m)):n[a]=new Ox(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function B_e(t){return t.__data__}function z_e(t,e){if(!arguments.length)return Array.from(this,B_e);var n=e?F_e:L_e,r=this._parents,i=this._groups;typeof t!="function"&&(t=I_e(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],h=d.length,m=$_e(t.call(u,u&&u.__data__,c,r)),y=m.length,v=a[c]=new Array(y),w=o[c]=new Array(y),b=l[c]=new Array(h);n(u,d,v,w,b,m,e);for(var k=0,C=0,N,_;k<y;++k)if(N=v[k]){for(k>=C&&(C=k+1);!(_=w[C])&&++C<y;);N._next=_||null}}return o=new Ri(o,r),o._enter=a,o._exit=l,o}function $_e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V_e(){return new Ri(this._exit||this._groups.map(_U),this._parents)}function W_e(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function H_e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,h=a[l]=new Array(d),m,y=0;y<d;++y)(m=c[y]||u[y])&&(h[y]=m);for(;l<i;++l)a[l]=n[l];return new Ri(a,this._parents)}function U_e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function q_e(t){t||(t=Y_e);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Ri(i,this._parents).order()}function Y_e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function G_e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function K_e(){return Array.from(this)}function X_e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Z_e(){let t=0;for(const e of this)++t;return t}function Q_e(){return!this.node()}function J_e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function eMe(t){return function(){this.removeAttribute(t)}}function tMe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nMe(t,e){return function(){this.setAttribute(t,e)}}function rMe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function iMe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function sMe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function oMe(t,e){var n=ew(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?tMe:eMe:typeof e=="function"?n.local?sMe:iMe:n.local?rMe:nMe)(n,e))}function MU(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function aMe(t){return function(){this.style.removeProperty(t)}}function lMe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cMe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function uMe(t,e,n){return arguments.length>1?this.each((e==null?aMe:typeof e=="function"?cMe:lMe)(t,e,n??"")):Td(this.node(),t)}function Td(t,e){return t.style.getPropertyValue(e)||MU(t).getComputedStyle(t,null).getPropertyValue(e)}function dMe(t){return function(){delete this[t]}}function fMe(t,e){return function(){this[t]=e}}function hMe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function pMe(t,e){return arguments.length>1?this.each((e==null?dMe:typeof e=="function"?hMe:fMe)(t,e)):this.node()[t]}function PU(t){return t.trim().split(/^|\s+/)}function F2(t){return t.classList||new RU(t)}function RU(t){this._node=t,this._names=PU(t.getAttribute("class")||"")}RU.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function OU(t,e){for(var n=F2(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function DU(t,e){for(var n=F2(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mMe(t){return function(){OU(this,t)}}function gMe(t){return function(){DU(this,t)}}function yMe(t,e){return function(){(e.apply(this,arguments)?OU:DU)(this,t)}}function xMe(t,e){var n=PU(t+"");if(arguments.length<2){for(var r=F2(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?yMe:e?mMe:gMe)(n,e))}function vMe(){this.textContent=""}function wMe(t){return function(){this.textContent=t}}function bMe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kMe(t){return arguments.length?this.each(t==null?vMe:(typeof t=="function"?bMe:wMe)(t)):this.node().textContent}function SMe(){this.innerHTML=""}function CMe(t){return function(){this.innerHTML=t}}function EMe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function NMe(t){return arguments.length?this.each(t==null?SMe:(typeof t=="function"?EMe:CMe)(t)):this.node().innerHTML}function TMe(){this.nextSibling&&this.parentNode.appendChild(this)}function AMe(){return this.each(TMe)}function _Me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function MMe(){return this.each(_Me)}function PMe(t){var e=typeof t=="function"?t:EU(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function RMe(){return null}function OMe(t,e){var n=typeof t=="function"?t:EU(t),r=e==null?RMe:typeof e=="function"?e:L2(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function DMe(){var t=this.parentNode;t&&t.removeChild(this)}function jMe(){return this.each(DMe)}function IMe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function LMe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FMe(t){return this.select(t?LMe:IMe)}function BMe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zMe(t){return function(e){t.call(this,e,this.__data__)}}function $Me(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function VMe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function WMe(t,e,n){return function(){var r=this.__on,i,s=zMe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function HMe(t,e,n){var r=$Me(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?WMe:VMe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function jU(t,e,n){var r=MU(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function UMe(t,e){return function(){return jU(this,t,e)}}function qMe(t,e){return function(){return jU(this,t,e.apply(this,arguments))}}function YMe(t,e){return this.each((typeof e=="function"?qMe:UMe)(t,e))}function*GMe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var IU=[null];function Ri(t,e){this._groups=t,this._parents=e}function _m(){return new Ri([[document.documentElement]],IU)}function KMe(){return this}Ri.prototype=_m.prototype={constructor:Ri,select:b_e,selectAll:E_e,selectChild:__e,selectChildren:O_e,filter:D_e,data:z_e,enter:j_e,exit:V_e,join:W_e,merge:H_e,selection:KMe,order:U_e,sort:q_e,call:G_e,nodes:K_e,node:X_e,size:Z_e,empty:Q_e,each:J_e,attr:oMe,style:uMe,property:pMe,classed:xMe,text:kMe,html:NMe,raise:AMe,lower:MMe,append:PMe,insert:OMe,remove:jMe,clone:FMe,datum:BMe,on:HMe,dispatch:YMe,[Symbol.iterator]:GMe};function Si(t){return typeof t=="string"?new Ri([[document.querySelector(t)]],[document.documentElement]):new Ri([[t]],IU)}function XMe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ms(t,e){if(t=XMe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const ZMe={passive:!1},Ip={capture:!0,passive:!1};function rS(t){t.stopImmediatePropagation()}function ed(t){t.preventDefault(),t.stopImmediatePropagation()}function LU(t){var e=t.document.documentElement,n=Si(t).on("dragstart.drag",ed,Ip);"onselectstart"in e?n.on("selectstart.drag",ed,Ip):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function FU(t,e){var n=t.document.documentElement,r=Si(t).on("dragstart.drag",null);e&&(r.on("click.drag",ed,Ip),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const jy=t=>()=>t;function NN(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}NN.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function QMe(t){return!t.ctrlKey&&!t.button}function JMe(){return this.parentNode}function ePe(t,e){return e??{x:t.x,y:t.y}}function tPe(){return navigator.maxTouchPoints||"ontouchstart"in this}function BU(){var t=QMe,e=JMe,n=ePe,r=tPe,i={},s=Jv("start","drag","end"),o=0,a,l,c,u,d=0;function h(N){N.on("mousedown.drag",m).filter(r).on("touchstart.drag",w).on("touchmove.drag",b,ZMe).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(N,_){if(!(u||!t.call(this,N,_))){var A=C(this,e.call(this,N,_),N,_,"mouse");A&&(Si(N.view).on("mousemove.drag",y,Ip).on("mouseup.drag",v,Ip),LU(N.view),rS(N),c=!1,a=N.clientX,l=N.clientY,A("start",N))}}function y(N){if(ed(N),!c){var _=N.clientX-a,A=N.clientY-l;c=_*_+A*A>d}i.mouse("drag",N)}function v(N){Si(N.view).on("mousemove.drag mouseup.drag",null),FU(N.view,c),ed(N),i.mouse("end",N)}function w(N,_){if(t.call(this,N,_)){var A=N.changedTouches,M=e.call(this,N,_),R=A.length,D,O;for(D=0;D<R;++D)(O=C(this,M,N,_,A[D].identifier,A[D]))&&(rS(N),O("start",N,A[D]))}}function b(N){var _=N.changedTouches,A=_.length,M,R;for(M=0;M<A;++M)(R=i[_[M].identifier])&&(ed(N),R("drag",N,_[M]))}function k(N){var _=N.changedTouches,A=_.length,M,R;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),M=0;M<A;++M)(R=i[_[M].identifier])&&(rS(N),R("end",N,_[M]))}function C(N,_,A,M,R,D){var O=s.copy(),B=ms(D||A,_),F,W,I;if((I=n.call(N,new NN("beforestart",{sourceEvent:A,target:h,identifier:R,active:o,x:B[0],y:B[1],dx:0,dy:0,dispatch:O}),M))!=null)return F=I.x-B[0]||0,W=I.y-B[1]||0,function Y(V,G,H){var $=B,L;switch(V){case"start":i[R]=Y,L=o++;break;case"end":delete i[R],--o;case"drag":B=ms(H||G,_),L=o;break}O.call(V,N,new NN(V,{sourceEvent:G,subject:I,target:h,identifier:R,active:L,x:B[0]+F,y:B[1]+W,dx:B[0]-$[0],dy:B[1]-$[1],dispatch:O}),M)}}return h.filter=function(N){return arguments.length?(t=typeof N=="function"?N:jy(!!N),h):t},h.container=function(N){return arguments.length?(e=typeof N=="function"?N:jy(N),h):e},h.subject=function(N){return arguments.length?(n=typeof N=="function"?N:jy(N),h):n},h.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:jy(!!N),h):r},h.on=function(){var N=s.on.apply(s,arguments);return N===s?h:N},h.clickDistance=function(N){return arguments.length?(d=(N=+N)*N,h):Math.sqrt(d)},h}function B2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mm(){}var Lp=.7,Dx=1/Lp,td="\\s*([+-]?\\d+)\\s*",Fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nPe=/^#([0-9a-f]{3,8})$/,rPe=new RegExp(`^rgb\\(${td},${td},${td}\\)$`),iPe=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),sPe=new RegExp(`^rgba\\(${td},${td},${td},${Fp}\\)$`),oPe=new RegExp(`^rgba\\(${co},${co},${co},${Fp}\\)$`),aPe=new RegExp(`^hsl\\(${Fp},${co},${co}\\)$`),lPe=new RegExp(`^hsla\\(${Fp},${co},${co},${Fp}\\)$`),wL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B2(Mm,Bp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bL,formatHex:bL,formatHex8:cPe,formatHsl:uPe,formatRgb:kL,toString:kL});function bL(){return this.rgb().formatHex()}function cPe(){return this.rgb().formatHex8()}function uPe(){return $U(this).formatHsl()}function kL(){return this.rgb().formatRgb()}function Bp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nPe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?SL(e):n===3?new li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Iy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Iy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rPe.exec(t))?new li(e[1],e[2],e[3],1):(e=iPe.exec(t))?new li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sPe.exec(t))?Iy(e[1],e[2],e[3],e[4]):(e=oPe.exec(t))?Iy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aPe.exec(t))?NL(e[1],e[2]/100,e[3]/100,1):(e=lPe.exec(t))?NL(e[1],e[2]/100,e[3]/100,e[4]):wL.hasOwnProperty(t)?SL(wL[t]):t==="transparent"?new li(NaN,NaN,NaN,0):null}function SL(t){return new li(t>>16&255,t>>8&255,t&255,1)}function Iy(t,e,n,r){return r<=0&&(t=e=n=NaN),new li(t,e,n,r)}function dPe(t){return t instanceof Mm||(t=Bp(t)),t?(t=t.rgb(),new li(t.r,t.g,t.b,t.opacity)):new li}function TN(t,e,n,r){return arguments.length===1?dPe(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B2(li,TN,zU(Mm,{brighter(t){return t=t==null?Dx:Math.pow(Dx,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lp:Math.pow(Lp,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new li(pc(this.r),pc(this.g),pc(this.b),jx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CL,formatHex:CL,formatHex8:fPe,formatRgb:EL,toString:EL}));function CL(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function fPe(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function EL(){const t=jx(this.opacity);return`${t===1?"rgb(":"rgba("}${pc(this.r)}, ${pc(this.g)}, ${pc(this.b)}${t===1?")":`, ${t})`}`}function jx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=pc(t),(t<16?"0":"")+t.toString(16)}function NL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gs(t,e,n,r)}function $U(t){if(t instanceof gs)return new gs(t.h,t.s,t.l,t.opacity);if(t instanceof Mm||(t=Bp(t)),!t)return new gs;if(t instanceof gs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new gs(o,a,l,t.opacity)}function hPe(t,e,n,r){return arguments.length===1?$U(t):new gs(t,e,n,r??1)}function gs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B2(gs,hPe,zU(Mm,{brighter(t){return t=t==null?Dx:Math.pow(Dx,t),new gs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lp:Math.pow(Lp,t),new gs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new li(iS(t>=240?t-240:t+120,i,r),iS(t,i,r),iS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gs(TL(this.h),Ly(this.s),Ly(this.l),jx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jx(this.opacity);return`${t===1?"hsl(":"hsla("}${TL(this.h)}, ${Ly(this.s)*100}%, ${Ly(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TL(t){return t=(t||0)%360,t<0?t+360:t}function Ly(t){return Math.max(0,Math.min(1,t||0))}function iS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VU=t=>()=>t;function pPe(t,e){return function(n){return t+n*e}}function mPe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gPe(t){return(t=+t)==1?WU:function(e,n){return n-e?mPe(e,n,t):VU(isNaN(e)?n:e)}}function WU(t,e){var n=e-t;return n?pPe(t,n):VU(isNaN(t)?e:t)}const AL=function t(e){var n=gPe(e);function r(i,s){var o=n((i=TN(i)).r,(s=TN(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=WU(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Za(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var AN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sS=new RegExp(AN.source,"g");function yPe(t){return function(){return t}}function xPe(t){return function(e){return t(e)+""}}function vPe(t,e){var n=AN.lastIndex=sS.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=AN.exec(t))&&(i=sS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Za(r,i)})),n=sS.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?xPe(l[0].x):yPe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var _L=180/Math.PI,_N={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function HU(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*_L,skewX:Math.atan(l)*_L,scaleX:o,scaleY:a}}var Fy;function wPe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_N:HU(e.a,e.b,e.c,e.d,e.e,e.f)}function bPe(t){return t==null||(Fy||(Fy=document.createElementNS("http://www.w3.org/2000/svg","g")),Fy.setAttribute("transform",t),!(t=Fy.transform.baseVal.consolidate()))?_N:(t=t.matrix,HU(t.a,t.b,t.c,t.d,t.e,t.f))}function UU(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,h,m,y){if(c!==d||u!==h){var v=m.push("translate(",null,e,null,n);y.push({i:v-4,x:Za(c,d)},{i:v-2,x:Za(u,h)})}else(d||h)&&m.push("translate("+d+e+h+n)}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Za(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Za(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,m,y){if(c!==d||u!==h){var v=m.push(i(m)+"scale(",null,",",null,")");y.push({i:v-4,x:Za(c,d)},{i:v-2,x:Za(u,h)})}else(d!==1||h!==1)&&m.push(i(m)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(m){for(var y=-1,v=h.length,w;++y<v;)d[(w=h[y]).i]=w.x(m);return d.join("")}}}var kPe=UU(wPe,"px, ","px)","deg)"),SPe=UU(bPe,", ",")",")"),CPe=1e-12;function ML(t){return((t=Math.exp(t))+1/t)/2}function EPe(t){return((t=Math.exp(t))-1/t)/2}function NPe(t){return((t=Math.exp(2*t))-1)/(t+1)}const TPe=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],h=o[2],m=u-a,y=d-l,v=m*m+y*y,w,b;if(v<CPe)b=Math.log(h/c)/e,w=function(M){return[a+M*m,l+M*y,c*Math.exp(e*M*b)]};else{var k=Math.sqrt(v),C=(h*h-c*c+r*v)/(2*c*n*k),N=(h*h-c*c-r*v)/(2*h*n*k),_=Math.log(Math.sqrt(C*C+1)-C),A=Math.log(Math.sqrt(N*N+1)-N);b=(A-_)/e,w=function(M){var R=M*b,D=ML(_),O=c/(n*k)*(D*NPe(e*R+_)-EPe(_));return[a+O*m,l+O*y,c*D/ML(e*R+_)]}}return w.duration=b*1e3*e/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var Ad=0,xh=0,th=0,qU=1e3,Ix,vh,Lx=0,Pc=0,tw=0,zp=typeof performance=="object"&&performance.now?performance:Date,YU=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function z2(){return Pc||(YU(APe),Pc=zp.now()+tw)}function APe(){Pc=0}function Fx(){this._call=this._time=this._next=null}Fx.prototype=GU.prototype={constructor:Fx,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?z2():+n)+(e==null?0:+e),!this._next&&vh!==this&&(vh?vh._next=this:Ix=this,vh=this),this._call=t,this._time=n,MN()},stop:function(){this._call&&(this._call=null,this._time=1/0,MN())}};function GU(t,e,n){var r=new Fx;return r.restart(t,e,n),r}function _Pe(){z2(),++Ad;for(var t=Ix,e;t;)(e=Pc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ad}function PL(){Pc=(Lx=zp.now())+tw,Ad=xh=0;try{_Pe()}finally{Ad=0,PPe(),Pc=0}}function MPe(){var t=zp.now(),e=t-Lx;e>qU&&(tw-=e,Lx=t)}function PPe(){for(var t,e=Ix,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ix=n);vh=t,MN(r)}function MN(t){if(!Ad){xh&&(xh=clearTimeout(xh));var e=t-Pc;e>24?(t<1/0&&(xh=setTimeout(PL,t-zp.now()-tw)),th&&(th=clearInterval(th))):(th||(Lx=zp.now(),th=setInterval(MPe,qU)),Ad=1,YU(PL))}}function RL(t,e,n){var r=new Fx;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var RPe=Jv("start","end","cancel","interrupt"),OPe=[],KU=0,OL=1,PN=2,g0=3,DL=4,RN=5,y0=6;function nw(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;DPe(t,n,{name:e,index:r,group:i,on:RPe,tween:OPe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:KU})}function $2(t,e){var n=Os(t,e);if(n.state>KU)throw new Error("too late; already scheduled");return n}function _o(t,e){var n=Os(t,e);if(n.state>g0)throw new Error("too late; already running");return n}function Os(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function DPe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=GU(s,0,n.time);function s(c){n.state=OL,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,h,m;if(n.state!==OL)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===g0)return RL(o);m.state===DL?(m.state=y0,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[u]):+u<e&&(m.state=y0,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[u])}if(RL(function(){n.state===g0&&(n.state=DL,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=PN,n.on.call("start",t,t.__data__,n.index,n.group),n.state===PN){for(n.state=g0,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(m=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=RN,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===RN&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=y0,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function x0(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>PN&&r.state<RN,r.state=y0,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function jPe(t){return this.each(function(){x0(this,t)})}function IPe(t,e){var n,r;return function(){var i=_o(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function LPe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_o(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function FPe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Os(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?IPe:LPe)(n,t,e))}function V2(t,e,n){var r=t._id;return t.each(function(){var i=_o(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Os(i,r).value[e]}}function XU(t,e){var n;return(typeof e=="number"?Za:e instanceof Bp?AL:(n=Bp(e))?(e=n,AL):vPe)(t,e)}function BPe(t){return function(){this.removeAttribute(t)}}function zPe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $Pe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function VPe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function WPe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function HPe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function UPe(t,e){var n=ew(t),r=n==="transform"?SPe:XU;return this.attrTween(t,typeof e=="function"?(n.local?HPe:WPe)(n,r,V2(this,"attr."+t,e)):e==null?(n.local?zPe:BPe)(n):(n.local?VPe:$Pe)(n,r,e))}function qPe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function YPe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function GPe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&YPe(t,s)),n}return i._value=e,i}function KPe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&qPe(t,s)),n}return i._value=e,i}function XPe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ew(t);return this.tween(n,(r.local?GPe:KPe)(r,e))}function ZPe(t,e){return function(){$2(this,t).delay=+e.apply(this,arguments)}}function QPe(t,e){return e=+e,function(){$2(this,t).delay=e}}function JPe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ZPe:QPe)(e,t)):Os(this.node(),e).delay}function eRe(t,e){return function(){_o(this,t).duration=+e.apply(this,arguments)}}function tRe(t,e){return e=+e,function(){_o(this,t).duration=e}}function nRe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eRe:tRe)(e,t)):Os(this.node(),e).duration}function rRe(t,e){if(typeof e!="function")throw new Error;return function(){_o(this,t).ease=e}}function iRe(t){var e=this._id;return arguments.length?this.each(rRe(e,t)):Os(this.node(),e).ease}function sRe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_o(this,t).ease=n}}function oRe(t){if(typeof t!="function")throw new Error;return this.each(sRe(this._id,t))}function aRe(t){typeof t!="function"&&(t=TU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new da(r,this._parents,this._name,this._id)}function lRe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,d=o[a]=new Array(u),h,m=0;m<u;++m)(h=l[m]||c[m])&&(d[m]=h);for(;a<r;++a)o[a]=e[a];return new da(o,this._parents,this._name,this._id)}function cRe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uRe(t,e,n){var r,i,s=cRe(e)?$2:_o;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function dRe(t,e){var n=this._id;return arguments.length<2?Os(this.node(),n).on.on(t):this.each(uRe(n,t,e))}function fRe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hRe(){return this.on("end.remove",fRe(this._id))}function pRe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=L2(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=t.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,nw(c[h],e,n,h,c,Os(u,n)));return new da(s,this._parents,e,n)}function mRe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=NU(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),m,y=Os(u,n),v=0,w=h.length;v<w;++v)(m=h[v])&&nw(m,e,n,v,h,y);s.push(h),o.push(u)}return new da(s,o,e,n)}var gRe=_m.prototype.constructor;function yRe(){return new gRe(this._groups,this._parents)}function xRe(t,e){var n,r,i;return function(){var s=Td(this,t),o=(this.style.removeProperty(t),Td(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function ZU(t){return function(){this.style.removeProperty(t)}}function vRe(t,e,n){var r,i=n+"",s;return function(){var o=Td(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function wRe(t,e,n){var r,i,s;return function(){var o=Td(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Td(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function bRe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=_o(this,t),c=l.on,u=l.value[s]==null?a||(a=ZU(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function kRe(t,e,n){var r=(t+="")=="transform"?kPe:XU;return e==null?this.styleTween(t,xRe(t,r)).on("end.style."+t,ZU(t)):typeof e=="function"?this.styleTween(t,wRe(t,r,V2(this,"style."+t,e))).each(bRe(this._id,t)):this.styleTween(t,vRe(t,r,e),n).on("end.style."+t,null)}function SRe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function CRe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&SRe(t,o,n)),r}return s._value=e,s}function ERe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,CRe(t,e,n??""))}function NRe(t){return function(){this.textContent=t}}function TRe(t){return function(){var e=t(this);this.textContent=e??""}}function ARe(t){return this.tween("text",typeof t=="function"?TRe(V2(this,"text",t)):NRe(t==null?"":t+""))}function _Re(t){return function(e){this.textContent=t.call(this,e)}}function MRe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&_Re(i)),e}return r._value=t,r}function PRe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,MRe(t))}function RRe(){for(var t=this._name,e=this._id,n=QU(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Os(l,e);nw(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new da(r,this._parents,t,n)}function ORe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=_o(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var DRe=0;function da(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function QU(){return++DRe}var $o=_m.prototype;da.prototype={constructor:da,select:pRe,selectAll:mRe,selectChild:$o.selectChild,selectChildren:$o.selectChildren,filter:aRe,merge:lRe,selection:yRe,transition:RRe,call:$o.call,nodes:$o.nodes,node:$o.node,size:$o.size,empty:$o.empty,each:$o.each,on:dRe,attr:UPe,attrTween:XPe,style:kRe,styleTween:ERe,text:ARe,textTween:PRe,remove:hRe,tween:FPe,delay:JPe,duration:nRe,ease:iRe,easeVarying:oRe,end:ORe,[Symbol.iterator]:$o[Symbol.iterator]};function jRe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var IRe={time:null,delay:0,duration:250,ease:jRe};function LRe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function FRe(t){var e,n;t instanceof da?(e=t._id,t=t._name):(e=QU(),(n=IRe).time=z2(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&nw(l,t,e,c,o,n||LRe(l,e));return new da(r,this._parents,t,e)}_m.prototype.interrupt=jPe;_m.prototype.transition=FRe;const By=t=>()=>t;function BRe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Xo(t,e,n){this.k=t,this.x=e,this.y=n}Xo.prototype={constructor:Xo,scale:function(t){return t===1?this:new Xo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rw=new Xo(1,0,0);JU.prototype=Xo.prototype;function JU(t){for(;!t.__zoom;)if(!(t=t.parentNode))return rw;return t.__zoom}function oS(t){t.stopImmediatePropagation()}function nh(t){t.preventDefault(),t.stopImmediatePropagation()}function zRe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function $Re(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jL(){return this.__zoom||rw}function VRe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function WRe(){return navigator.maxTouchPoints||"ontouchstart"in this}function HRe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function eq(){var t=zRe,e=$Re,n=HRe,r=VRe,i=WRe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=TPe,c=Jv("start","zoom","end"),u,d,h,m=500,y=150,v=0,w=10;function b(I){I.property("__zoom",jL).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",B).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(I,Y,V,G){var H=I.selection?I.selection():I;H.property("__zoom",jL),I!==H?_(I,Y,V,G):H.interrupt().each(function(){A(this,arguments).event(G).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},b.scaleBy=function(I,Y,V,G){b.scaleTo(I,function(){var H=this.__zoom.k,$=typeof Y=="function"?Y.apply(this,arguments):Y;return H*$},V,G)},b.scaleTo=function(I,Y,V,G){b.transform(I,function(){var H=e.apply(this,arguments),$=this.__zoom,L=V==null?N(H):typeof V=="function"?V.apply(this,arguments):V,q=$.invert(L),U=typeof Y=="function"?Y.apply(this,arguments):Y;return n(C(k($,U),L,q),H,o)},V,G)},b.translateBy=function(I,Y,V,G){b.transform(I,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof V=="function"?V.apply(this,arguments):V),e.apply(this,arguments),o)},null,G)},b.translateTo=function(I,Y,V,G,H){b.transform(I,function(){var $=e.apply(this,arguments),L=this.__zoom,q=G==null?N($):typeof G=="function"?G.apply(this,arguments):G;return n(rw.translate(q[0],q[1]).scale(L.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof V=="function"?-V.apply(this,arguments):-V),$,o)},G,H)};function k(I,Y){return Y=Math.max(s[0],Math.min(s[1],Y)),Y===I.k?I:new Xo(Y,I.x,I.y)}function C(I,Y,V){var G=Y[0]-V[0]*I.k,H=Y[1]-V[1]*I.k;return G===I.x&&H===I.y?I:new Xo(I.k,G,H)}function N(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function _(I,Y,V,G){I.on("start.zoom",function(){A(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(G).end()}).tween("zoom",function(){var H=this,$=arguments,L=A(H,$).event(G),q=e.apply(H,$),U=V==null?N(q):typeof V=="function"?V.apply(H,$):V,j=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),K=H.__zoom,X=typeof Y=="function"?Y.apply(H,$):Y,J=l(K.invert(U).concat(j/K.k),X.invert(U).concat(j/X.k));return function(Z){if(Z===1)Z=X;else{var oe=J(Z),fe=j/oe[2];Z=new Xo(fe,U[0]-oe[0]*fe,U[1]-oe[1]*fe)}L.zoom(null,Z)}})}function A(I,Y,V){return!V&&I.__zooming||new M(I,Y)}function M(I,Y){this.that=I,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=e.apply(I,Y),this.taps=0}M.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,Y){return this.mouse&&I!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var Y=Si(this.that).datum();c.call(I,this.that,new BRe(I,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),Y)}};function R(I,...Y){if(!t.apply(this,arguments))return;var V=A(this,Y).event(I),G=this.__zoom,H=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,r.apply(this,arguments)))),$=ms(I);if(V.wheel)(V.mouse[0][0]!==$[0]||V.mouse[0][1]!==$[1])&&(V.mouse[1]=G.invert(V.mouse[0]=$)),clearTimeout(V.wheel);else{if(G.k===H)return;V.mouse=[$,G.invert($)],x0(this),V.start()}nh(I),V.wheel=setTimeout(L,y),V.zoom("mouse",n(C(k(G,H),V.mouse[0],V.mouse[1]),V.extent,o));function L(){V.wheel=null,V.end()}}function D(I,...Y){if(h||!t.apply(this,arguments))return;var V=I.currentTarget,G=A(this,Y,!0).event(I),H=Si(I.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",j,!0),$=ms(I,V),L=I.clientX,q=I.clientY;LU(I.view),oS(I),G.mouse=[$,this.__zoom.invert($)],x0(this),G.start();function U(K){if(nh(K),!G.moved){var X=K.clientX-L,J=K.clientY-q;G.moved=X*X+J*J>v}G.event(K).zoom("mouse",n(C(G.that.__zoom,G.mouse[0]=ms(K,V),G.mouse[1]),G.extent,o))}function j(K){H.on("mousemove.zoom mouseup.zoom",null),FU(K.view,G.moved),nh(K),G.event(K).end()}}function O(I,...Y){if(t.apply(this,arguments)){var V=this.__zoom,G=ms(I.changedTouches?I.changedTouches[0]:I,this),H=V.invert(G),$=V.k*(I.shiftKey?.5:2),L=n(C(k(V,$),G,H),e.apply(this,Y),o);nh(I),a>0?Si(this).transition().duration(a).call(_,L,G,I):Si(this).call(b.transform,L,G,I)}}function B(I,...Y){if(t.apply(this,arguments)){var V=I.touches,G=V.length,H=A(this,Y,I.changedTouches.length===G).event(I),$,L,q,U;for(oS(I),L=0;L<G;++L)q=V[L],U=ms(q,this),U=[U,this.__zoom.invert(U),q.identifier],H.touch0?!H.touch1&&H.touch0[2]!==U[2]&&(H.touch1=U,H.taps=0):(H.touch0=U,$=!0,H.taps=1+!!u);u&&(u=clearTimeout(u)),$&&(H.taps<2&&(d=U[0],u=setTimeout(function(){u=null},m)),x0(this),H.start())}}function F(I,...Y){if(this.__zooming){var V=A(this,Y).event(I),G=I.changedTouches,H=G.length,$,L,q,U;for(nh(I),$=0;$<H;++$)L=G[$],q=ms(L,this),V.touch0&&V.touch0[2]===L.identifier?V.touch0[0]=q:V.touch1&&V.touch1[2]===L.identifier&&(V.touch1[0]=q);if(L=V.that.__zoom,V.touch1){var j=V.touch0[0],K=V.touch0[1],X=V.touch1[0],J=V.touch1[1],Z=(Z=X[0]-j[0])*Z+(Z=X[1]-j[1])*Z,oe=(oe=J[0]-K[0])*oe+(oe=J[1]-K[1])*oe;L=k(L,Math.sqrt(Z/oe)),q=[(j[0]+X[0])/2,(j[1]+X[1])/2],U=[(K[0]+J[0])/2,(K[1]+J[1])/2]}else if(V.touch0)q=V.touch0[0],U=V.touch0[1];else return;V.zoom("touch",n(C(L,q,U),V.extent,o))}}function W(I,...Y){if(this.__zooming){var V=A(this,Y).event(I),G=I.changedTouches,H=G.length,$,L;for(oS(I),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),$=0;$<H;++$)L=G[$],V.touch0&&V.touch0[2]===L.identifier?delete V.touch0:V.touch1&&V.touch1[2]===L.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(L=ms(L,this),Math.hypot(d[0]-L[0],d[1]-L[1])<w)){var q=Si(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return b.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:By(+I),b):r},b.filter=function(I){return arguments.length?(t=typeof I=="function"?I:By(!!I),b):t},b.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:By(!!I),b):i},b.extent=function(I){return arguments.length?(e=typeof I=="function"?I:By([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),b):e},b.scaleExtent=function(I){return arguments.length?(s[0]=+I[0],s[1]=+I[1],b):[s[0],s[1]]},b.translateExtent=function(I){return arguments.length?(o[0][0]=+I[0][0],o[1][0]=+I[1][0],o[0][1]=+I[0][1],o[1][1]=+I[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(I){return arguments.length?(n=I,b):n},b.duration=function(I){return arguments.length?(a=+I,b):a},b.interpolate=function(I){return arguments.length?(l=I,b):l},b.on=function(){var I=c.on.apply(c,arguments);return I===c?b:I},b.clickDistance=function(I){return arguments.length?(v=(I=+I)*I,b):Math.sqrt(v)},b.tapDistance=function(I){return arguments.length?(w=+I,b):w},b}const xa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},$p=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tq=["Enter"," ","Escape"];var _d;(function(t){t.Strict="strict",t.Loose="loose"})(_d||(_d={}));var mc;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(mc||(mc={}));var Vp;(function(t){t.Partial="partial",t.Full="full"})(Vp||(Vp={}));const nq={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var el;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(el||(el={}));var Wp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Wp||(Wp={}));var Ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ke||(Ke={}));const IL={[Ke.Left]:Ke.Right,[Ke.Right]:Ke.Left,[Ke.Top]:Ke.Bottom,[Ke.Bottom]:Ke.Top};function rq(t){return t===null?null:t?"valid":"invalid"}const iq=t=>"id"in t&&"source"in t&&"target"in t,URe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),W2=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Pm=(t,e=[0,0])=>{const{width:n,height:r}=va(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},qRe=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):W2(i)?i:e.nodeLookup.get(i.id));const a=o?Bx(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return iw(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return sw(n)},Rm=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Bx(r);n=iw(n,i)}}),sw(n)},sq=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Om(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:u,selectable:d=!0,hidden:h=!1}=c;if(o&&!d||h)continue;const m=u.width??c.width??c.initialWidth??null,y=u.height??c.height??c.initialHeight??null,v=Hp(a,Pd(c)),w=(m??0)*(y??0),b=s&&v>0;(!c.internals.handleBounds||b||v>=w||c.dragging)&&l.push(c)}return l},YRe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function ON(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function DN({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const a=Rm(t),l=H2(a,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(l,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function oq({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",xa.error005());else{const m=a.measured.width,y=a.measured.height;m&&y&&(d=[[l,c],[l+m,c+y]])}else a&&Rd(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const h=Rd(d)?Rc(e,d,o.measured):e;return{position:{x:h.x-l+o.measured.width*u[0],y:h.y-c+o.measured.height*u[1]},positionAbsolute:h}}async function GRe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const m=s.has(h.id),y=!m&&h.parentId&&o.find(v=>v.id===h.parentId);(m||y)&&o.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),u=YRe(o,l);for(const h of l)a.has(h.id)&&!u.find(y=>y.id===h.id)&&u.push(h);if(!i)return{edges:u,nodes:o};const d=await i({nodes:o,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:o}:{edges:[],nodes:[]}:d}const Md=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Rc=(t={x:0,y:0},e,n)=>({x:Md(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Md(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function aq(t,e,n){const{width:r,height:i}=va(n),{x:s,y:o}=n.internals.positionAbsolute;return Rc(t,[[s,o],[s+r,o+i]],e)}const LL=(t,e,n)=>t<e?Md(Math.abs(t-e),1,e)/e:t>n?-Md(Math.abs(t-n),1,e)/e:0,lq=(t,e,n=15,r=40)=>{const i=LL(t.x,r,e.width-r)*n,s=LL(t.y,r,e.height-r)*n;return[i,s]},iw=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),jN=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),sw=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Pd=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=W2(t)?t.internals.positionAbsolute:Pm(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},Bx=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=W2(t)?t.internals.positionAbsolute:Pm(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},cq=(t,e)=>sw(iw(jN(t),jN(e))),Hp=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},FL=t=>ws(t.width)&&ws(t.height)&&ws(t.x)&&ws(t.y),ws=t=>!isNaN(t)&&isFinite(t),KRe=(t,e)=>{},ow=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Om=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?ow(a,o):a},uq=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),H2=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),a=n/(t.height*(1+s)),l=Math.min(o,a),c=Md(l,r,i),u=t.x+t.width/2,d=t.y+t.height/2,h=e/2-u*c,m=n/2-d*c;return{x:h,y:m,zoom:c}},zx=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Rd(t){return t!==void 0&&t!=="parent"}function va(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function dq(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function fq(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function BL(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Fh(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=ta(t),a=Om({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?ow(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const aw=t=>({width:t.offsetWidth,height:t.offsetHeight}),hq=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},XRe=["INPUT","SELECT","TEXTAREA"];function IN(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:XRe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const pq=t=>"clientX"in t,ta=(t,e)=>{var s,o;const n=pq(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},zL=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...aw(o)}})};function mq({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,u=Math.abs(l-t),d=Math.abs(c-e);return[l,c,u,d]}function zy(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function $L({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Ke.Left:return[e-zy(e-r,s),n];case Ke.Right:return[e+zy(r-e,s),n];case Ke.Top:return[e,n-zy(n-i,s)];case Ke.Bottom:return[e,n+zy(i-n,s)]}}function gq({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:r,targetY:i,targetPosition:s=Ke.Top,curvature:o=.25}){const[a,l]=$L({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,u]=$L({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,h,m,y]=mq({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${a},${l} ${c},${u} ${r},${i}`,d,h,m,y]}function yq({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function ZRe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function QRe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=iw(Bx(t),Bx(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Hp(o,sw(s))>0}const JRe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,eOe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),tOe=(t,e)=>{if(!t.source||!t.target)return e;let n;return iq(t)?n={...t}:n={...t,id:JRe(t)},eOe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function xq({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=yq({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const VL={[Ke.Left]:{x:-1,y:0},[Ke.Right]:{x:1,y:0},[Ke.Top]:{x:0,y:-1},[Ke.Bottom]:{x:0,y:1}},nOe=({source:t,sourcePosition:e=Ke.Bottom,target:n})=>e===Ke.Left||e===Ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},WL=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function rOe({source:t,sourcePosition:e=Ke.Bottom,target:n,targetPosition:r=Ke.Top,center:i,offset:s}){const o=VL[e],a=VL[r],l={x:t.x+o.x*s,y:t.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=nOe({source:l,sourcePosition:e,target:c}),d=u.x!==0?"x":"y",h=u[d];let m=[],y,v;const w={x:0,y:0},b={x:0,y:0},[k,C,N,_]=yq({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){y=i.x??k,v=i.y??C;const M=[{x:y,y:l.y},{x:y,y:c.y}],R=[{x:l.x,y:v},{x:c.x,y:v}];o[d]===h?m=d==="x"?M:R:m=d==="x"?R:M}else{const M=[{x:l.x,y:c.y}],R=[{x:c.x,y:l.y}];if(d==="x"?m=o.x===h?R:M:m=o.y===h?M:R,e===r){const W=Math.abs(t[d]-n[d]);if(W<=s){const I=Math.min(s-1,s-W);o[d]===h?w[d]=(l[d]>t[d]?-1:1)*I:b[d]=(c[d]>n[d]?-1:1)*I}}if(e!==r){const W=d==="x"?"y":"x",I=o[d]===a[W],Y=l[W]>c[W],V=l[W]<c[W];(o[d]===1&&(!I&&Y||I&&V)||o[d]!==1&&(!I&&V||I&&Y))&&(m=d==="x"?M:R)}const D={x:l.x+w.x,y:l.y+w.y},O={x:c.x+b.x,y:c.y+b.y},B=Math.max(Math.abs(D.x-m[0].x),Math.abs(O.x-m[0].x)),F=Math.max(Math.abs(D.y-m[0].y),Math.abs(O.y-m[0].y));B>=F?(y=(D.x+O.x)/2,v=m[0].y):(y=m[0].x,v=(D.y+O.y)/2)}return[[t,{x:l.x+w.x,y:l.y+w.y},...m,{x:c.x+b.x,y:c.y+b.y},n],y,v,N,_]}function iOe(t,e,n,r){const i=Math.min(WL(t,e)/2,WL(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function LN({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:r,targetY:i,targetPosition:s=Ke.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,h,m,y]=rOe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((w,b,k)=>{let C="";return k>0&&k<u.length-1?C=iOe(u[k-1],b,u[k+1],o):C=`${k===0?"M":"L"}${b.x} ${b.y}`,w+=C,w},""),d,h,m,y]}function HL(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function sOe(t){var d;const{sourceNode:e,targetNode:n}=t;if(!HL(e)||!HL(n))return null;const r=e.internals.handleBounds||UL(e.handles),i=n.internals.handleBounds||UL(n.handles),s=qL((r==null?void 0:r.source)??[],t.sourceHandle),o=qL(t.connectionMode===_d.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(d=t.onError)==null||d.call(t,"008",xa.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Ke.Bottom,l=(o==null?void 0:o.position)||Ke.Top,c=Up(e,s,a),u=Up(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function UL(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Up(t,e,n=Ke.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??va(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Ke.Top:return{x:i+o/2,y:s};case Ke.Right:return{x:i+o,y:s+a/2};case Ke.Bottom:return{x:i+o/2,y:s+a};case Ke.Left:return{x:i,y:s+a/2}}}function qL(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function FN(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function oOe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=FN(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const U2={nodeOrigin:[0,0],nodeExtent:$p,elevateNodesOnSelect:!0,defaults:{}},aOe={...U2,checkEquality:!0};function q2(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function lOe(t,e,n){const r=q2(U2,n);for(const i of t.values())if(i.parentId)Y2(i,t,e,r);else{const s=Pm(i,r.nodeOrigin),o=Rd(i.extent)?i.extent:r.nodeExtent,a=Rc(s,o,va(i));i.internals.positionAbsolute=a}}function BN(t,e,n,r){var a,l;const i=q2(aOe,r),s=new Map(e),o=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let u=s.get(c.id);if(i.checkEquality&&c===(u==null?void 0:u.internals.userNode))e.set(c.id,u);else{const d=Pm(c,i.nodeOrigin),h=Rd(c.extent)?c.extent:i.nodeExtent,m=Rc(d,h,va(c));u={...i.defaults,...c,measured:{width:(a=c.measured)==null?void 0:a.width,height:(l=c.measured)==null?void 0:l.height},internals:{positionAbsolute:m,handleBounds:c.measured?u==null?void 0:u.internals.handleBounds:void 0,z:vq(c,o),userNode:c}},e.set(c.id,u)}c.parentId&&Y2(u,e,n,r)}}function cOe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Y2(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=q2(U2,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}cOe(t,n);const c=i?1e3:0,{x:u,y:d,z:h}=uOe(t,l,s,o,c),{positionAbsolute:m}=t.internals,y=u!==m.x||d!==m.y;(y||h!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:y?{x:u,y:d}:m,z:h}})}function vq(t,e){return(ws(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function uOe(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=va(t),l=Pm(t,n),c=Rd(t.extent)?Rc(l,t.extent,a):l;let u=Rc({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(u=aq(u,a,e));const d=vq(t,i),h=e.internals.z??0;return{x:u.x,y:u.y,z:h>d?h:d}}function G2(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??Pd(l),u=cq(c,a.rect);s.set(a.parentId,{expandedRect:u,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var C;const u=l.internals.positionAbsolute,d=va(l),h=l.origin??r,m=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,y=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,v=Math.max(d.width,Math.round(a.width)),w=Math.max(d.height,Math.round(a.height)),b=(v-d.width)*h[0],k=(w-d.height)*h[1];(m>0||y>0||b||k)&&(i.push({id:c,type:"position",position:{x:l.position.x-m+b,y:l.position.y-y+k}}),(C=n.get(c))==null||C.forEach(N=>{t.some(_=>_.id===N.id)||i.push({id:N.id,type:"position",position:{x:N.position.x+m,y:N.position.y+y}})})),(d.width<a.width||d.height<a.height||m||y)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:v+(m?h[0]*m-b:0),height:w+(y?h[1]*y-k:0)}})}),i}function dOe(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of t.values()){const m=e.get(h.id);if(!m)continue;if(m.hidden){e.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),a=!0;continue}const y=aw(h.nodeElement),v=m.measured.width!==y.width||m.measured.height!==y.height;if(!!(y.width&&y.height&&(v||!m.internals.handleBounds||h.force))){const b=h.nodeElement.getBoundingClientRect(),k=Rd(m.extent)?m.extent:s;let{positionAbsolute:C}=m.internals;m.parentId&&m.extent==="parent"?C=aq(C,y,e.get(m.parentId)):k&&(C=Rc(C,k,y));const N={...m,measured:y,internals:{...m.internals,positionAbsolute:C,handleBounds:{source:zL("source",h.nodeElement,b,u,m.id),target:zL("target",h.nodeElement,b,u,m.id)}}};e.set(m.id,N),m.parentId&&Y2(N,e,n,{nodeOrigin:i}),a=!0,v&&(l.push({id:m.id,type:"dimensions",dimensions:y}),m.expandParent&&m.parentId&&d.push({id:m.id,parentId:m.parentId,rect:Pd(N,i)}))}}if(d.length>0){const h=G2(d,e,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function fOe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function YL(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function wq(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,u=`${s}-${a}--${i}-${o}`;YL("source",l,u,t,i,o),YL("target",l,c,t,s,a),e.set(r.id,r)}}function bq(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:bq(n,e):!1}function GL(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function hOe(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!bq(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function aS({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,u]of e){const d=(o=n.get(c))==null?void 0:o.internals.userNode;d&&i.push({...d,position:u.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function pOe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,h=null,m=!1;function y({noDragClassName:w,handleSelector:b,domNode:k,isSelectable:C,nodeId:N,nodeClickDistance:_=0}){h=Si(k);function A({x:O,y:B},F){const{nodeLookup:W,nodeExtent:I,snapGrid:Y,snapToGrid:V,nodeOrigin:G,onNodeDrag:H,onSelectionDrag:$,onError:L,updateNodePositions:q}=e();s={x:O,y:B};let U=!1,j={x:0,y:0,x2:0,y2:0};if(a.size>1&&I){const K=Rm(a);j=jN(K)}for(const[K,X]of a){if(!W.has(K))continue;let J={x:O-X.distance.x,y:B-X.distance.y};V&&(J=ow(J,Y));let Z=[[I[0][0],I[0][1]],[I[1][0],I[1][1]]];if(a.size>1&&I&&!X.extent){const{positionAbsolute:me}=X.internals,Te=me.x-j.x+I[0][0],xe=me.x+X.measured.width-j.x2+I[1][0],be=me.y-j.y+I[0][1],Pe=me.y+X.measured.height-j.y2+I[1][1];Z=[[Te,be],[xe,Pe]]}const{position:oe,positionAbsolute:fe}=oq({nodeId:K,nextPosition:J,nodeLookup:W,nodeExtent:Z,nodeOrigin:G,onError:L});U=U||X.position.x!==oe.x||X.position.y!==oe.y,X.position=oe,X.internals.positionAbsolute=fe}if(U&&(q(a,!0),F&&(r||H||!N&&$))){const[K,X]=aS({nodeId:N,dragItems:a,nodeLookup:W});r==null||r(F,a,K,X),H==null||H(F,K,X),N||$==null||$(F,X)}}async function M(){if(!u)return;const{transform:O,panBy:B,autoPanSpeed:F,autoPanOnNodeDrag:W}=e();if(!W){l=!1,cancelAnimationFrame(o);return}const[I,Y]=lq(c,u,F);(I!==0||Y!==0)&&(s.x=(s.x??0)-I/O[2],s.y=(s.y??0)-Y/O[2],await B({x:I,y:Y})&&A(s,null)),o=requestAnimationFrame(M)}function R(O){var U;const{nodeLookup:B,multiSelectionActive:F,nodesDraggable:W,transform:I,snapGrid:Y,snapToGrid:V,selectNodesOnDrag:G,onNodeDragStart:H,onSelectionDragStart:$,unselectNodesAndEdges:L}=e();d=!0,(!G||!C)&&!F&&N&&((U=B.get(N))!=null&&U.selected||L()),C&&G&&N&&(t==null||t(N));const q=Fh(O.sourceEvent,{transform:I,snapGrid:Y,snapToGrid:V,containerBounds:u});if(s=q,a=hOe(B,W,q,N),a.size>0&&(n||H||!N&&$)){const[j,K]=aS({nodeId:N,dragItems:a,nodeLookup:B});n==null||n(O.sourceEvent,a,j,K),H==null||H(O.sourceEvent,j,K),N||$==null||$(O.sourceEvent,K)}}const D=BU().clickDistance(_).on("start",O=>{const{domNode:B,nodeDragThreshold:F,transform:W,snapGrid:I,snapToGrid:Y}=e();u=(B==null?void 0:B.getBoundingClientRect())||null,m=!1,F===0&&R(O),s=Fh(O.sourceEvent,{transform:W,snapGrid:I,snapToGrid:Y,containerBounds:u}),c=ta(O.sourceEvent,u)}).on("drag",O=>{const{autoPanOnNodeDrag:B,transform:F,snapGrid:W,snapToGrid:I,nodeDragThreshold:Y,nodeLookup:V}=e(),G=Fh(O.sourceEvent,{transform:F,snapGrid:W,snapToGrid:I,containerBounds:u});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||N&&!V.has(N))&&(m=!0),!m){if(!l&&B&&d&&(l=!0,M()),!d){const H=G.xSnapped-(s.x??0),$=G.ySnapped-(s.y??0);Math.sqrt(H*H+$*$)>Y&&R(O)}(s.x!==G.xSnapped||s.y!==G.ySnapped)&&a&&d&&(c=ta(O.sourceEvent,u),A(G,O.sourceEvent))}}).on("end",O=>{if(!(!d||m)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:B,updateNodePositions:F,onNodeDragStop:W,onSelectionDragStop:I}=e();if(F(a,!1),i||W||!N&&I){const[Y,V]=aS({nodeId:N,dragItems:a,nodeLookup:B,dragging:!1});i==null||i(O.sourceEvent,a,Y,V),W==null||W(O.sourceEvent,Y,V),N||I==null||I(O.sourceEvent,V)}}}).filter(O=>{const B=O.target;return!O.button&&(!w||!GL(B,`.${w}`,k))&&(!b||GL(B,b,k))});h.call(D)}function v(){h==null||h.on(".drag",null)}return{update:y,destroy:v}}function mOe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Hp(i,Pd(s))>0&&r.push(s);return r}const gOe=250;function yOe(t,e,n,r){var a,l;let i=[],s=1/0;const o=mOe(t,n,e+gOe);for(const c of o){const u=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:m}=Up(c,d,d.position,!0),y=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(m-t.y,2));y>e||(y<s?(i=[{...d,x:h,y:m}],s=y):y===s&&i.push({...d,x:h,y:m}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function kq(t,e,n,r,i,s=!1){var c,u,d;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((u=o.internals.handleBounds)==null?void 0:u.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...Up(o,l,l.position,!0)}:l}function Sq(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function xOe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Cq=()=>!0;function vOe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:h,cancelConnection:m,onConnectStart:y,onConnect:v,onConnectEnd:w,isValidConnection:b=Cq,onReconnectEnd:k,updateConnection:C,getTransform:N,getFromHandle:_,autoPanSpeed:A}){const M=hq(t.target);let R=0,D;const{x:O,y:B}=ta(t),F=M==null?void 0:M.elementFromPoint(O,B),W=Sq(s,F),I=a==null?void 0:a.getBoundingClientRect();if(!I||!W)return;const Y=kq(i,W,r,l,e);if(!Y)return;let V=ta(t,I),G=!1,H=null,$=!1,L=null;function q(){if(!u||!I)return;const[fe,me]=lq(V,I,A);h({x:fe,y:me}),R=requestAnimationFrame(q)}const U={...Y,nodeId:i,type:W,position:Y.position},j=l.get(i),X={inProgress:!0,isValid:null,from:Up(j,U,Ke.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:j,to:V,toHandle:null,toPosition:IL[U.position],toNode:null};C(X);let J=X;y==null||y(t,{nodeId:i,handleId:r,handleType:W});function Z(fe){if(!_()||!U){oe(fe);return}const me=N();V=ta(fe,I),D=yOe(Om(V,me,!1,[1,1]),n,l,U),G||(q(),G=!0);const Te=Eq(fe,{handle:D,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:b,doc:M,lib:c,flowId:d,nodeLookup:l});L=Te.handleDomNode,H=Te.connection,$=xOe(!!D,Te.isValid);const xe={...J,isValid:$,to:D&&$?uq({x:D.x,y:D.y},me):V,toHandle:Te.toHandle,toPosition:$&&Te.toHandle?Te.toHandle.position:IL[U.position],toNode:Te.toHandle?l.get(Te.toHandle.nodeId):null};$&&D&&J.toHandle&&xe.toHandle&&J.toHandle.type===xe.toHandle.type&&J.toHandle.nodeId===xe.toHandle.nodeId&&J.toHandle.id===xe.toHandle.id&&J.to.x===xe.to.x&&J.to.y===xe.to.y||(C(xe),J=xe)}function oe(fe){(D||L)&&H&&$&&(v==null||v(H));const{inProgress:me,...Te}=J,xe={...Te,toPosition:J.toHandle?J.toPosition:null};w==null||w(fe,xe),s&&(k==null||k(fe,xe)),m(),cancelAnimationFrame(R),G=!1,$=!1,H=null,L=null,M.removeEventListener("mousemove",Z),M.removeEventListener("mouseup",oe),M.removeEventListener("touchmove",Z),M.removeEventListener("touchend",oe)}M.addEventListener("mousemove",Z),M.addEventListener("mouseup",oe),M.addEventListener("touchmove",Z),M.addEventListener("touchend",oe)}function Eq(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=Cq,nodeLookup:u}){const d=s==="target",h=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:m,y}=ta(t),v=o.elementFromPoint(m,y),w=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:h,b={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const k=Sq(void 0,w),C=w.getAttribute("data-nodeid"),N=w.getAttribute("data-handleid"),_=w.classList.contains("connectable"),A=w.classList.contains("connectableend");if(!C||!k)return b;const M={source:d?C:r,sourceHandle:d?N:i,target:d?r:C,targetHandle:d?i:N};b.connection=M;const D=_&&A&&(n===_d.Strict?d&&k==="source"||!d&&k==="target":C!==r||N!==i);b.isValid=D&&c(M),b.toHandle=kq(C,k,N,u,n,!1)}return b}const zN={onPointerDown:vOe,isValid:Eq};function wOe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Si(t);function s({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:d=!0,zoomable:h=!0,inversePan:m=!1}){const y=C=>{const N=n();if(C.sourceEvent.type!=="wheel"||!e)return;const _=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*u,A=N[2]*Math.pow(2,_);e.scaleTo(A)};let v=[0,0];const w=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(v=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},b=C=>{const N=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!e)return;const _=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],A=[_[0]-v[0],_[1]-v[1]];v=_;const M=r()*Math.max(N[2],Math.log(N[2]))*(m?-1:1),R={x:N[0]-A[0]*M,y:N[1]-A[1]*M},D=[[0,0],[l,c]];e.setViewportConstrained({x:R.x,y:R.y,zoom:N[2]},D,a)},k=eq().on("start",w).on("zoom",d?b:null).on("zoom.wheel",h?y:null);i.call(k,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:ms}}const bOe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,lw=t=>({x:t.x,y:t.y,zoom:t.k}),lS=({x:t,y:e,zoom:n})=>rw.translate(t,e).scale(n),Lu=(t,e)=>t.target.closest(`.${e}`),Nq=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),cS=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},Tq=t=>{const e=t.ctrlKey&&zx()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function kOe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(Lu(u,e))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&o){const w=ms(u),b=Tq(u),k=d*Math.pow(2,b);r.scaleTo(n,k,w,u);return}const h=u.deltaMode===1?20:1;let m=i===mc.Vertical?0:u.deltaX*h,y=i===mc.Horizontal?0:u.deltaY*h;!zx()&&u.shiftKey&&i!==mc.Vertical&&(m=u.deltaY*h,y=0),r.translateBy(n,-(m/d)*s,-(y/d)*s,{internal:!0});const v=lw(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(u,v)),t.isPanScrolling&&(l==null||l(u,v),t.panScrollTimeout=setTimeout(()=>{c==null||c(u,v),t.isPanScrolling=!1},150))}}function SOe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||Lu(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function COe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=lw(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function EOe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&Nq(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,lw(s.transform)))}}function NOe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&Nq(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&bOe(t.prevViewport,o.transform))){const l=lw(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function TOe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var y;const d=t||e,h=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(Lu(u,`${c}-flow__node`)||Lu(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||Lu(u,a)&&u.type==="wheel"||Lu(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!t)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((y=u.touches)==null?void 0:y.length)>1)return u.preventDefault(),!1;if(!d&&!i&&!h&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&m}}function AOe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=eq().clickDistance(!ws(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),m=Si(t).call(h);C({x:s.x,y:s.y,zoom:Md(s.zoom,e,n)},[[0,0],[d.width,d.height]],i);const y=m.on("wheel.zoom"),v=m.on("dblclick.zoom");h.wheelDelta(Tq);function w(F,W){return m?new Promise(I=>{h==null||h.transform(cS(m,W==null?void 0:W.duration,()=>I(!0)),F)}):Promise.resolve(!1)}function b({noWheelClassName:F,noPanClassName:W,onPaneContextMenu:I,userSelectionActive:Y,panOnScroll:V,panOnDrag:G,panOnScrollMode:H,panOnScrollSpeed:$,preventScrolling:L,zoomOnPinch:q,zoomOnScroll:U,zoomOnDoubleClick:j,zoomActivationKeyPressed:K,lib:X,onTransformChange:J}){Y&&!u.isZoomingOrPanning&&k();const oe=V&&!K&&!Y?kOe({zoomPanValues:u,noWheelClassName:F,d3Selection:m,d3Zoom:h,panOnScrollMode:H,panOnScrollSpeed:$,zoomOnPinch:q,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):SOe({noWheelClassName:F,preventScrolling:L,d3ZoomHandler:y});if(m.on("wheel.zoom",oe,{passive:!1}),!Y){const me=COe({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});h.on("start",me);const Te=EOe({zoomPanValues:u,panOnDrag:G,onPaneContextMenu:!!I,onPanZoom:o,onTransformChange:J});h.on("zoom",Te);const xe=NOe({zoomPanValues:u,panOnDrag:G,panOnScroll:V,onPaneContextMenu:I,onPanZoomEnd:l,onDraggingChange:c});h.on("end",xe)}const fe=TOe({zoomActivationKeyPressed:K,panOnDrag:G,zoomOnScroll:U,panOnScroll:V,zoomOnDoubleClick:j,zoomOnPinch:q,userSelectionActive:Y,noPanClassName:W,noWheelClassName:F,lib:X});h.filter(fe),j?m.on("dblclick.zoom",v):m.on("dblclick.zoom",null)}function k(){h.on("zoom",null)}async function C(F,W,I){const Y=lS(F),V=h==null?void 0:h.constrain()(Y,W,I);return V&&await w(V),new Promise(G=>G(V))}async function N(F,W){const I=lS(F);return await w(I,W),new Promise(Y=>Y(I))}function _(F){if(m){const W=lS(F),I=m.property("__zoom");(I.k!==F.zoom||I.x!==F.x||I.y!==F.y)&&(h==null||h.transform(m,W,null,{sync:!0}))}}function A(){const F=m?JU(m.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function M(F,W){return m?new Promise(I=>{h==null||h.scaleTo(cS(m,W==null?void 0:W.duration,()=>I(!0)),F)}):Promise.resolve(!1)}function R(F,W){return m?new Promise(I=>{h==null||h.scaleBy(cS(m,W==null?void 0:W.duration,()=>I(!0)),F)}):Promise.resolve(!1)}function D(F){h==null||h.scaleExtent(F)}function O(F){h==null||h.translateExtent(F)}function B(F){const W=!ws(F)||F<0?0:F;h==null||h.clickDistance(W)}return{update:b,destroy:k,setViewport:N,setViewportConstrained:C,getViewport:A,scaleTo:M,scaleBy:R,setScaleExtent:D,setTranslateExtent:O,syncViewport:_,setClickDistance:B}}var Bh;(function(t){t.Line="line",t.Handle="handle"})(Bh||(Bh={}));function _Oe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function MOe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ua(t,e){return Math.max(0,e-t)}function qa(t,e){return Math.max(0,t-e)}function $y(t,e,n){return Math.max(0,e-t,t-n)}function KL(t,e){return t?!e:e}function POe(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:u,isVertical:d}=e,h=u&&d,{xSnapped:m,ySnapped:y}=n,{minWidth:v,maxWidth:w,minHeight:b,maxHeight:k}=r,{x:C,y:N,width:_,height:A,aspectRatio:M}=t;let R=Math.floor(u?m-t.pointerX:0),D=Math.floor(d?y-t.pointerY:0);const O=_+(l?-R:R),B=A+(c?-D:D),F=-s[0]*_,W=-s[1]*A;let I=$y(O,v,w),Y=$y(B,b,k);if(o){let H=0,$=0;l&&R<0?H=Ua(C+R+F,o[0][0]):!l&&R>0&&(H=qa(C+O+F,o[1][0])),c&&D<0?$=Ua(N+D+W,o[0][1]):!c&&D>0&&($=qa(N+B+W,o[1][1])),I=Math.max(I,H),Y=Math.max(Y,$)}if(a){let H=0,$=0;l&&R>0?H=qa(C+R,a[0][0]):!l&&R<0&&(H=Ua(C+O,a[1][0])),c&&D>0?$=qa(N+D,a[0][1]):!c&&D<0&&($=Ua(N+B,a[1][1])),I=Math.max(I,H),Y=Math.max(Y,$)}if(i){if(u){const H=$y(O/M,b,k)*M;if(I=Math.max(I,H),o){let $=0;!l&&!c||l&&!c&&h?$=qa(N+W+O/M,o[1][1])*M:$=Ua(N+W+(l?R:-R)/M,o[0][1])*M,I=Math.max(I,$)}if(a){let $=0;!l&&!c||l&&!c&&h?$=Ua(N+O/M,a[1][1])*M:$=qa(N+(l?R:-R)/M,a[0][1])*M,I=Math.max(I,$)}}if(d){const H=$y(B*M,v,w)/M;if(Y=Math.max(Y,H),o){let $=0;!l&&!c||c&&!l&&h?$=qa(C+B*M+F,o[1][0])/M:$=Ua(C+(c?D:-D)*M+F,o[0][0])/M,Y=Math.max(Y,$)}if(a){let $=0;!l&&!c||c&&!l&&h?$=Ua(C+B*M,a[1][0])/M:$=qa(C+(c?D:-D)*M,a[0][0])/M,Y=Math.max(Y,$)}}}D=D+(D<0?Y:-Y),R=R+(R<0?I:-I),i&&(h?O>B*M?D=(KL(l,c)?-R:R)/M:R=(KL(l,c)?-D:D)*M:u?(D=R/M,c=l):(R=D*M,l=c));const V=l?C+R:C,G=c?N+D:N;return{width:_+(l?-R:R),height:A+(c?-D:D),x:s[0]*R*(l?-1:1)+V,y:s[1]*D*(c?-1:1)+G}}const Aq={width:0,height:0,x:0,y:0},ROe={...Aq,pointerX:0,pointerY:0,aspectRatio:1};function OOe(t){return[[0,0],[t.measured.width,t.measured.height]]}function DOe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function jOe({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Si(t);function o({controlPosition:l,boundaries:c,keepAspectRatio:u,onResizeStart:d,onResize:h,onResizeEnd:m,shouldResize:y}){let v={...Aq},w={...ROe};const b=MOe(l);let k,C=null,N=[],_,A,M;const R=BU().on("start",D=>{const{nodeLookup:O,transform:B,snapGrid:F,snapToGrid:W,nodeOrigin:I,paneDomNode:Y}=n();if(k=O.get(e),!k)return;C=(Y==null?void 0:Y.getBoundingClientRect())??null;const{xSnapped:V,ySnapped:G}=Fh(D.sourceEvent,{transform:B,snapGrid:F,snapToGrid:W,containerBounds:C});v={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},w={...v,pointerX:V,pointerY:G,aspectRatio:v.width/v.height},_=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(_=O.get(k.parentId),A=_&&k.extent==="parent"?OOe(_):void 0),N=[],M=void 0;for(const[H,$]of O)if($.parentId===e&&(N.push({id:H,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const L=DOe($,k,$.origin??I);M?M=[[Math.min(L[0][0],M[0][0]),Math.min(L[0][1],M[0][1])],[Math.max(L[1][0],M[1][0]),Math.max(L[1][1],M[1][1])]]:M=L}d==null||d(D,{...v})}).on("drag",D=>{const{transform:O,snapGrid:B,snapToGrid:F,nodeOrigin:W}=n(),I=Fh(D.sourceEvent,{transform:O,snapGrid:B,snapToGrid:F,containerBounds:C}),Y=[];if(!k)return;const{x:V,y:G,width:H,height:$}=v,L={},q=k.origin??W,{width:U,height:j,x:K,y:X}=POe(w,b,I,c,u,q,A,M),J=U!==H,Z=j!==$,oe=K!==V&&J,fe=X!==G&&Z;if(!oe&&!fe&&!J&&!Z)return;if((oe||fe||q[0]===1||q[1]===1)&&(L.x=oe?K:v.x,L.y=fe?X:v.y,v.x=L.x,v.y=L.y,N.length>0)){const be=K-V,Pe=X-G;for(const Ze of N)Ze.position={x:Ze.position.x-be+q[0]*(U-H),y:Ze.position.y-Pe+q[1]*(j-$)},Y.push(Ze)}if((J||Z)&&(L.width=J?U:v.width,L.height=Z?j:v.height,v.width=L.width,v.height=L.height),_&&k.expandParent){const be=q[0]*(L.width??0);L.x&&L.x<be&&(v.x=be,w.x=w.x-(L.x-be));const Pe=q[1]*(L.height??0);L.y&&L.y<Pe&&(v.y=Pe,w.y=w.y-(L.y-Pe))}const me=_Oe({width:v.width,prevWidth:H,height:v.height,prevHeight:$,affectsX:b.affectsX,affectsY:b.affectsY}),Te={...v,direction:me};(y==null?void 0:y(D,Te))!==!1&&(h==null||h(D,Te),r(L,Y))}).on("end",D=>{m==null||m(D,{...v}),i==null||i()});s.call(R)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}var uS={exports:{}},dS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL;function IOe(){if(XL)return dS;XL=1;var t=Dd(),e=K7();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return dS.useSyncExternalStoreWithSelector=function(c,u,d,h,m){var y=s(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=a(function(){function b(A){if(!k){if(k=!0,C=A,A=h(A),m!==void 0&&v.hasValue){var M=v.value;if(m(M,A))return N=M}return N=A}if(M=N,r(C,A))return M;var R=h(A);return m!==void 0&&m(M,R)?(C=A,M):(C=A,N=R)}var k=!1,C,N,_=d===void 0?null:d;return[function(){return b(u())},_===null?void 0:function(){return b(_())}]},[u,d,h,m]);var w=i(c,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),l(w),w},dS}var ZL;function LOe(){return ZL||(ZL=1,uS.exports=IOe()),uS.exports}var FOe=LOe();const BOe=Od(FOe),zOe={},QL=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(y=>y(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(zOe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},$Oe=t=>t?QL(t):QL,{useDebugValue:VOe}=ne,{useSyncExternalStoreWithSelector:WOe}=BOe,HOe=t=>t;function _q(t,e=HOe,n){const r=WOe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return VOe(r),r}const JL=(t,e)=>{const n=$Oe(t),r=(i,s=e)=>_q(n,i,s);return Object.assign(r,n),r},UOe=(t,e)=>t?JL(t,e):JL;function En(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const cw=S.createContext(null),qOe=cw.Provider,Mq=xa.error001();function Bt(t,e){const n=S.useContext(cw);if(n===null)throw new Error(Mq);return _q(n,t,e)}function yn(){const t=S.useContext(cw);if(t===null)throw new Error(Mq);return S.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const e3={display:"none"},YOe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Pq="react-flow__node-desc",Rq="react-flow__edge-desc",GOe="react-flow__aria-live",KOe=t=>t.ariaLiveMessage;function XOe({rfId:t}){const e=Bt(KOe);return g.jsx("div",{id:`${GOe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:YOe,children:e})}function ZOe({rfId:t,disableKeyboardA11y:e}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{id:`${Pq}-${t}`,style:e3,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),g.jsx("div",{id:`${Rq}-${t}`,style:e3,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&g.jsx(XOe,{rfId:t})]})}const QOe=t=>t.userSelectionActive?"none":"all",uw=S.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Bt(QOe),a=`${t}`.split("-");return g.jsx("div",{className:Wn(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});uw.displayName="Panel";function JOe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:g.jsx(uw,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const eDe=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Vy=t=>t.id;function tDe(t,e){return En(t.selectedNodes.map(Vy),e.selectedNodes.map(Vy))&&En(t.selectedEdges.map(Vy),e.selectedEdges.map(Vy))}function nDe({onSelectionChange:t}){const e=yn(),{selectedNodes:n,selectedEdges:r}=Bt(eDe,tDe);return S.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const rDe=t=>!!t.onSelectionChangeHandlers;function iDe({onSelectionChange:t}){const e=Bt(rDe);return t||e?g.jsx(nDe,{onSelectionChange:t}):null}const Oq=[0,0],sDe={x:0,y:0,zoom:1},oDe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],t3=[...oDe,"rfId"],aDe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),n3={translateExtent:$p,nodeOrigin:Oq,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function lDe(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=Bt(aDe,En),u=yn();S.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=n3,a()}),[]);const d=S.useRef(n3);return S.useEffect(()=>{for(const h of t3){const m=t[h],y=d.current[h];m!==y&&(typeof t[h]>"u"||(h==="nodes"?e(m):h==="edges"?n(m):h==="minZoom"?r(m):h==="maxZoom"?i(m):h==="translateExtent"?s(m):h==="nodeExtent"?o(m):h==="paneClickDistance"?c(m):h==="fitView"?u.setState({fitViewOnInit:m}):h==="fitViewOptions"?u.setState({fitViewOnInitOptions:m}):u.setState({[h]:m})))}d.current=t},t3.map(h=>t[h])),null}function r3(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function cDe(t){var r;const[e,n]=S.useState(t==="system"?null:t);return S.useEffect(()=>{if(t!=="system"){n(t);return}const i=r3(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=r3())!=null&&r.matches?"dark":"light"}const i3=typeof document<"u"?document:null;function qp(t=null,e={target:i3,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),i=S.useRef(!1),s=S.useRef(new Set([])),[o,a]=S.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((d,h)=>d.concat(...h),[]);return[c,u]}return[[],[]]},[t]);return S.useEffect(()=>{const l=(e==null?void 0:e.target)||i3;if(t!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&IN(h))return!1;const y=o3(h.code,a);s.current.add(h[y]),s3(o,s.current,!1)&&(h.preventDefault(),r(!0))},u=h=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&IN(h))return!1;const y=o3(h.code,a);s3(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[y]),h.key==="Meta"&&s.current.clear(),i.current=!1},d=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[t,r]),n}function s3(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function o3(t,e){return e.includes(t)?"code":"key"}const uDe=()=>{const t=yn();return S.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const a=ON(n,e),{width:l,height:c}=aw(o);return DN({nodes:a,width:l,height:c,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:a}=t.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:o,c=i/2-e*l,u=s/2-n*l;return a?(await a.setViewport({x:c,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=H2(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),c={x:e.x-a,y:e.y-l},u=n.snapGrid??i,d=n.snapToGrid??s;return Om(c,r,d,u)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=uq(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function Dq(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)dDe(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function dDe(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function jq(t,e){return Dq(t,e)}function Iq(t,e){return Dq(t,e)}function ec(t,e){return{id:t,type:"select",selected:e}}function Fu(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(ec(s.id,o)))}return r}function a3({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function l3(t){return{id:t.id,type:"remove"}}const c3=t=>URe(t),fDe=t=>iq(t);function Lq(t){return S.forwardRef(t)}const hDe=typeof window<"u"?S.useLayoutEffect:S.useEffect;function u3(t){const[e,n]=S.useState(BigInt(0)),[r]=S.useState(()=>pDe(()=>n(i=>i+BigInt(1))));return hDe(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function pDe(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const Fq=S.createContext(null);function mDe({children:t}){const e=yn(),n=S.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:d,nodeLookup:h}=e.getState();let m=l;for(const y of a)m=typeof y=="function"?y(m):y;u?c(m):d&&d(a3({items:m,lookup:h}))},[]),r=u3(n),i=S.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:d,edgeLookup:h}=e.getState();let m=l;for(const y of a)m=typeof y=="function"?y(m):y;u?c(m):d&&d(a3({items:m,lookup:h}))},[]),s=u3(i),o=S.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return g.jsx(Fq.Provider,{value:o,children:t})}function gDe(){const t=S.useContext(Fq);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const yDe=t=>!!t.panZoom;function K2(){const t=uDe(),e=yn(),n=gDe(),r=Bt(yDe),i=S.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var b,k;const{nodeLookup:h,nodeOrigin:m}=e.getState(),y=c3(d)?d:h.get(d.id),v=y.parentId?fq(y.position,y.measured,y.parentId,h,m):y.position,w={...y,position:v,width:((b=y.measured)==null?void 0:b.width)??y.width,height:((k=y.measured)==null?void 0:k.height)??y.height};return Pd(w)},c=(d,h,m={replace:!1})=>{o(y=>y.map(v=>{if(v.id===d){const w=typeof h=="function"?h(v):h;return m.replace&&c3(w)?w:{...v,...w}}return v}))},u=(d,h,m={replace:!1})=>{a(y=>y.map(v=>{if(v.id===d){const w=typeof h=="function"?h(v):h;return m.replace&&fDe(w)?w:{...v,...w}}return v}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=s(d))==null?void 0:h.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(h=>({...h}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(m=>[...m,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:m}=e.getState(),[y,v,w]=m;return{nodes:d.map(b=>({...b})),edges:h.map(b=>({...b})),viewport:{x:y,y:v,zoom:w}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:m,edges:y,onNodesDelete:v,onEdgesDelete:w,triggerNodeChanges:b,triggerEdgeChanges:k,onDelete:C,onBeforeDelete:N}=e.getState(),{nodes:_,edges:A}=await GRe({nodesToRemove:d,edgesToRemove:h,nodes:m,edges:y,onBeforeDelete:N}),M=A.length>0,R=_.length>0;if(M){const D=A.map(l3);w==null||w(A),k(D)}if(R){const D=_.map(l3);v==null||v(_),b(D)}return(R||M)&&(C==null||C({nodes:_,edges:A})),{deletedNodes:_,deletedEdges:A}},getIntersectingNodes:(d,h=!0,m)=>{const y=FL(d),v=y?d:l(d),w=m!==void 0;return v?(m||e.getState().nodes).filter(b=>{const k=e.getState().nodeLookup.get(b.id);if(k&&!y&&(b.id===d.id||!k.internals.positionAbsolute))return!1;const C=Pd(w?b:k),N=Hp(C,v);return h&&N>0||N>=v.width*v.height}):[]},isNodeIntersecting:(d,h,m=!0)=>{const v=FL(d)?d:l(d);if(!v)return!1;const w=Hp(v,h);return m&&w>0||w>=v.width*v.height},updateNode:c,updateNodeData:(d,h,m={replace:!1})=>{c(d,y=>{const v=typeof h=="function"?h(y):h;return m.replace?{...y,data:v}:{...y,data:{...y.data,...v}}},m)},updateEdge:u,updateEdgeData:(d,h,m={replace:!1})=>{u(d,y=>{const v=typeof h=="function"?h(y):h;return m.replace?{...y,data:v}:{...y,data:{...y.data,...v}}},m)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:m}=e.getState();return qRe(d,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:d,id:h,nodeId:m})=>{var y;return Array.from(((y=e.getState().connectionLookup.get(`${m}-${d}${h?`-${h}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:m})=>{var y;return Array.from(((y=e.getState().connectionLookup.get(`${m}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:y.values())??[])}}},[]);return S.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const d3=t=>t.selected,xDe={actInsideInputWithModifier:!1},vDe=typeof window<"u"?window:void 0;function wDe({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=yn(),{deleteElements:r}=K2(),i=qp(t,xDe),s=qp(e,{target:vDe});S.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(d3),edges:o.filter(d3)}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function bDe(t){const e=yn();S.useEffect(()=>{const n=()=>{var i,s;if(!t.current)return!1;const r=aw(t.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",xa.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const dw={position:"absolute",width:"100%",height:"100%",top:0,left:0},kDe=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function SDe({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=mc.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:m=!0,children:y,noWheelClassName:v,noPanClassName:w,onViewportChange:b,isControlledViewport:k,paneClickDistance:C}){const N=yn(),_=S.useRef(null),{userSelectionActive:A,lib:M}=Bt(kDe,En),R=qp(h),D=S.useRef();bDe(_);const O=S.useCallback(B=>{b==null||b({x:B[0],y:B[1],zoom:B[2]}),k||N.setState({transform:B})},[b,k]);return S.useEffect(()=>{if(_.current){D.current=AOe({domNode:_.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:C,onDraggingChange:I=>N.setState({paneDragging:I}),onPanZoomStart:(I,Y)=>{const{onViewportChangeStart:V,onMoveStart:G}=N.getState();G==null||G(I,Y),V==null||V(Y)},onPanZoom:(I,Y)=>{const{onViewportChange:V,onMove:G}=N.getState();G==null||G(I,Y),V==null||V(Y)},onPanZoomEnd:(I,Y)=>{const{onViewportChangeEnd:V,onMoveEnd:G}=N.getState();G==null||G(I,Y),V==null||V(Y)}});const{x:B,y:F,zoom:W}=D.current.getViewport();return N.setState({panZoom:D.current,transform:[B,F,W],domNode:_.current.closest(".react-flow")}),()=>{var I;(I=D.current)==null||I.destroy()}}},[]),S.useEffect(()=>{var B;(B=D.current)==null||B.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:R,preventScrolling:m,noPanClassName:w,userSelectionActive:A,noWheelClassName:v,lib:M,onTransformChange:O})},[t,e,n,r,i,s,o,a,R,m,w,A,v,M,O]),g.jsx("div",{className:"react-flow__renderer",ref:_,style:dw,children:y})}const CDe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function EDe(){const{userSelectionActive:t,userSelectionRect:e}=Bt(CDe,En);return t&&e?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const fS=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},NDe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function TDe({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Vp.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:m}){const y=yn(),{userSelectionActive:v,elementsSelectable:w,dragging:b}=Bt(NDe,En),k=w&&(t||v),C=S.useRef(null),N=S.useRef(),_=S.useRef(new Set),A=S.useRef(new Set),M=S.useRef(!1),R=S.useRef(!1),D=V=>{if(M.current){M.current=!1;return}a==null||a(V),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},O=V=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){V.preventDefault();return}l==null||l(V)},B=c?V=>c(V):void 0,F=V=>{var q,U;const{resetSelectedElements:G,domNode:H}=y.getState();if(N.current=H==null?void 0:H.getBoundingClientRect(),!w||!t||V.button!==0||V.target!==C.current||!N.current)return;(U=(q=V.target)==null?void 0:q.setPointerCapture)==null||U.call(q,V.pointerId),R.current=!0,M.current=!1;const{x:$,y:L}=ta(V.nativeEvent,N.current);G(),y.setState({userSelectionRect:{width:0,height:0,startX:$,startY:L,x:$,y:L}}),s==null||s(V)},W=V=>{const{userSelectionRect:G,transform:H,nodeLookup:$,edgeLookup:L,connectionLookup:q,triggerNodeChanges:U,triggerEdgeChanges:j,defaultEdgeOptions:K}=y.getState();if(!N.current||!G)return;M.current=!0;const{x:X,y:J}=ta(V.nativeEvent,N.current),{startX:Z,startY:oe}=G,fe={startX:Z,startY:oe,x:X<Z?X:Z,y:J<oe?J:oe,width:Math.abs(X-Z),height:Math.abs(J-oe)},me=_.current,Te=A.current;_.current=new Set(sq($,fe,H,n===Vp.Partial,!0).map(be=>be.id)),A.current=new Set;const xe=(K==null?void 0:K.selectable)??!0;for(const be of _.current){const Pe=q.get(be);if(Pe)for(const{edgeId:Ze}of Pe.values()){const Qe=L.get(Ze);Qe&&(Qe.selectable??xe)&&A.current.add(Ze)}}if(!BL(me,_.current)){const be=Fu($,_.current,!0);U(be)}if(!BL(Te,A.current)){const be=Fu(L,A.current);j(be)}y.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},I=V=>{var H,$;if(V.button!==0||!R.current)return;($=(H=V.target)==null?void 0:H.releasePointerCapture)==null||$.call(H,V.pointerId);const{userSelectionRect:G}=y.getState();!v&&G&&V.target===C.current&&(D==null||D(V)),y.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:_.current.size>0}),o==null||o(V),(e||i)&&(M.current=!1),R.current=!1},Y=r===!0||Array.isArray(r)&&r.includes(0);return g.jsxs("div",{className:Wn(["react-flow__pane",{draggable:Y,dragging:b,selection:t}]),onClick:k?void 0:fS(D,C),onContextMenu:fS(O,C),onWheel:fS(B,C),onPointerEnter:k?void 0:u,onPointerDown:k?F:d,onPointerMove:k?W:d,onPointerUp:k?I:void 0,onPointerLeave:h,ref:C,style:dw,children:[m,g.jsx(EDe,{})]})}function $N({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",xa.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function Bq({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=yn(),[l,c]=S.useState(!1),u=S.useRef();return S.useEffect(()=>{u.current=pOe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{$N({id:d,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),S.useEffect(()=>{var d,h;if(e)(d=u.current)==null||d.destroy();else if(t.current)return(h=u.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var m;(m=u.current)==null||m.destroy()}},[n,r,e,s,t,i]),l}const ADe=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function zq(){const t=yn();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=t.getState(),d=new Map,h=ADe(o),m=i?s[0]:5,y=i?s[1]:5,v=n.direction.x*m*n.factor,w=n.direction.y*y*n.factor;for(const[,b]of c){if(!h(b))continue;let k={x:b.internals.positionAbsolute.x+v,y:b.internals.positionAbsolute.y+w};i&&(k=ow(k,s));const{position:C,positionAbsolute:N}=oq({nodeId:b.id,nextPosition:k,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});b.position=C,b.internals.positionAbsolute=N,d.set(b.id,b)}l(d)},[])}const X2=S.createContext(null),_De=X2.Provider;X2.Consumer;const $q=()=>S.useContext(X2),MDe=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),PDe=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,u=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===_d.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,valid:u&&c}};function RDe({type:t="source",position:e=Ke.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...h},m){var I,Y;const y=o||null,v=t==="target",w=yn(),b=$q(),{connectOnClick:k,noPanClassName:C,rfId:N}=Bt(MDe,En),{connectingFrom:_,connectingTo:A,clickConnecting:M,isPossibleEndHandle:R,connectionInProcess:D,valid:O}=Bt(PDe(b,y,t),En);b||(Y=(I=w.getState()).onError)==null||Y.call(I,"010",xa.error010());const B=V=>{const{defaultEdgeOptions:G,onConnect:H,hasDefaultEdges:$}=w.getState(),L={...G,...V};if($){const{edges:q,setEdges:U}=w.getState();U(tOe(L,q))}H==null||H(L),a==null||a(L)},F=V=>{if(!b)return;const G=pq(V.nativeEvent);if(i&&(G&&V.button===0||!G)){const H=w.getState();zN.onPointerDown(V.nativeEvent,{autoPanOnConnect:H.autoPanOnConnect,connectionMode:H.connectionMode,connectionRadius:H.connectionRadius,domNode:H.domNode,nodeLookup:H.nodeLookup,lib:H.lib,isTarget:v,handleId:y,nodeId:b,flowId:H.rfId,panBy:H.panBy,cancelConnection:H.cancelConnection,onConnectStart:H.onConnectStart,onConnectEnd:H.onConnectEnd,updateConnection:H.updateConnection,onConnect:B,isValidConnection:n||H.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:H.autoPanSpeed})}G?u==null||u(V):d==null||d(V)},W=V=>{const{onClickConnectStart:G,onClickConnectEnd:H,connectionClickStartHandle:$,connectionMode:L,isValidConnection:q,lib:U,rfId:j,nodeLookup:K,connection:X}=w.getState();if(!b||!$&&!i)return;if(!$){G==null||G(V.nativeEvent,{nodeId:b,handleId:y,handleType:t}),w.setState({connectionClickStartHandle:{nodeId:b,type:t,id:y}});return}const J=hq(V.target),Z=n||q,{connection:oe,isValid:fe}=zN.isValid(V.nativeEvent,{handle:{nodeId:b,id:y,type:t},connectionMode:L,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:Z,flowId:j,doc:J,lib:U,nodeLookup:K});fe&&oe&&B(oe);const me=structuredClone(X);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,H==null||H(V,me),w.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":y,"data-nodeid":b,"data-handlepos":e,"data-id":`${N}-${b}-${y}-${t}`,className:Wn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",C,c,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:s,clickconnecting:M,connectingfrom:_,connectingto:A,valid:O,connectionindicator:r&&(!D||R)&&(D?s:i)}]),onMouseDown:F,onTouchStart:F,onClick:k?W:void 0,ref:m,...h,children:l})}const Sl=S.memo(Lq(RDe));function ODe({data:t,isConnectable:e,sourcePosition:n=Ke.Bottom}){return g.jsxs(g.Fragment,{children:[t==null?void 0:t.label,g.jsx(Sl,{type:"source",position:n,isConnectable:e})]})}function DDe({data:t,isConnectable:e,targetPosition:n=Ke.Top,sourcePosition:r=Ke.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(Sl,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,g.jsx(Sl,{type:"source",position:r,isConnectable:e})]})}function jDe(){return null}function IDe({data:t,isConnectable:e,targetPosition:n=Ke.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(Sl,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const $x={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},f3={input:ODe,default:DDe,output:IDe,group:jDe};function LDe(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const FDe=t=>{const{width:e,height:n,x:r,y:i}=Rm(t.nodeLookup,{filter:s=>!!s.selected});return{width:ws(e)?e:null,height:ws(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function BDe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=yn(),{width:i,height:s,transformString:o,userSelectionActive:a}=Bt(FDe,En),l=zq(),c=S.useRef(null);if(S.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),Bq({nodeRef:c}),a||!i||!s)return null;const u=t?h=>{const m=r.getState().nodes.filter(y=>y.selected);t(h,m)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call($x,h.key)&&(h.preventDefault(),l({direction:$x[h.key],factor:h.shiftKey?4:1}))};return g.jsx("div",{className:Wn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:g.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const h3=typeof window<"u"?window:void 0,zDe=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Vq({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:b,zoomOnScroll:k,zoomOnPinch:C,panOnScroll:N,panOnScrollSpeed:_,panOnScrollMode:A,zoomOnDoubleClick:M,panOnDrag:R,defaultViewport:D,translateExtent:O,minZoom:B,maxZoom:F,preventScrolling:W,onSelectionContextMenu:I,noWheelClassName:Y,noPanClassName:V,disableKeyboardA11y:G,onViewportChange:H,isControlledViewport:$}){const{nodesSelectionActive:L,userSelectionActive:q}=Bt(zDe),U=qp(c,{target:h3}),j=qp(v,{target:h3}),K=j||R,X=j||N,J=u&&K!==!0,Z=U||q||J;return wDe({deleteKeyCode:l,multiSelectionKeyCode:y}),g.jsx(SDe,{onPaneContextMenu:s,elementsSelectable:b,zoomOnScroll:k,zoomOnPinch:C,panOnScroll:X,panOnScrollSpeed:_,panOnScrollMode:A,zoomOnDoubleClick:M,panOnDrag:!U&&K,defaultViewport:D,translateExtent:O,minZoom:B,maxZoom:F,zoomActivationKeyCode:w,preventScrolling:W,noWheelClassName:Y,noPanClassName:V,onViewportChange:H,isControlledViewport:$,paneClickDistance:a,children:g.jsxs(TDe,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:K,isSelecting:!!Z,selectionMode:d,selectionKeyPressed:U,selectionOnDrag:J,children:[t,L&&g.jsx(BDe,{onSelectionContextMenu:I,noPanClassName:V,disableKeyboardA11y:G})]})})}Vq.displayName="FlowRenderer";const $De=S.memo(Vq),VDe=t=>e=>t?sq(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function WDe(t){return Bt(S.useCallback(VDe(t),[t]),En)}const HDe=t=>t.updateNodeInternals;function UDe(){const t=Bt(HDe),[e]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return S.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function qDe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=yn(),s=S.useRef(null),o=S.useRef(null),a=S.useRef(t.sourcePosition),l=S.useRef(t.targetPosition),c=S.useRef(e),u=n&&!!t.internals.handleBounds;return S.useEffect(()=>{s.current&&!t.hidden&&(!u||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[u,t.hidden]),S.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),S.useEffect(()=>{if(s.current){const d=c.current!==e,h=a.current!==t.sourcePosition,m=l.current!==t.targetPosition;(d||h||m)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function YDe({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:y,rfId:v,nodeTypes:w,nodeClickDistance:b,onError:k}){const{node:C,internals:N,isParent:_}=Bt(Z=>{const oe=Z.nodeLookup.get(t),fe=Z.parentLookup.has(t);return{node:oe,internals:oe.internals,isParent:fe}},En);let A=C.type||"default",M=(w==null?void 0:w[A])||f3[A];M===void 0&&(k==null||k("003",xa.error003(A)),A="default",M=f3.default);const R=!!(C.draggable||a&&typeof C.draggable>"u"),D=!!(C.selectable||l&&typeof C.selectable>"u"),O=!!(C.connectable||c&&typeof C.connectable>"u"),B=!!(C.focusable||u&&typeof C.focusable>"u"),F=yn(),W=dq(C),I=qDe({node:C,nodeType:A,hasDimensions:W,resizeObserver:d}),Y=Bq({nodeRef:I,disabled:C.hidden||!R,noDragClassName:h,handleSelector:C.dragHandle,nodeId:t,isSelectable:D,nodeClickDistance:b}),V=zq();if(C.hidden)return null;const G=va(C),H=LDe(C),$=D||R||e||n||r||i,L=n?Z=>n(Z,{...N.userNode}):void 0,q=r?Z=>r(Z,{...N.userNode}):void 0,U=i?Z=>i(Z,{...N.userNode}):void 0,j=s?Z=>s(Z,{...N.userNode}):void 0,K=o?Z=>o(Z,{...N.userNode}):void 0,X=Z=>{const{selectNodesOnDrag:oe,nodeDragThreshold:fe}=F.getState();D&&(!oe||!R||fe>0)&&$N({id:t,store:F,nodeRef:I}),e&&e(Z,{...N.userNode})},J=Z=>{if(!(IN(Z.nativeEvent)||y))if(tq.includes(Z.key)&&D){const oe=Z.key==="Escape";$N({id:t,store:F,unselect:oe,nodeRef:I})}else R&&C.selected&&Object.prototype.hasOwnProperty.call($x,Z.key)&&(Z.preventDefault(),F.setState({ariaLiveMessage:`Moved selected node ${Z.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.positionAbsolute.x}, y: ${~~N.positionAbsolute.y}`}),V({direction:$x[Z.key],factor:Z.shiftKey?4:1}))};return g.jsx("div",{className:Wn(["react-flow__node",`react-flow__node-${A}`,{[m]:R},C.className,{selected:C.selected,selectable:D,parent:_,draggable:R,dragging:Y}]),ref:I,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:W?"visible":"hidden",...C.style,...H},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:L,onMouseMove:q,onMouseLeave:U,onContextMenu:j,onClick:X,onDoubleClick:K,onKeyDown:B?J:void 0,tabIndex:B?0:void 0,role:B?"button":void 0,"aria-describedby":y?void 0:`${Pq}-${v}`,"aria-label":C.ariaLabel,children:g.jsx(_De,{value:t,children:g.jsx(M,{id:t,data:C.data,type:A,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:C.selected??!1,selectable:D,draggable:R,deletable:C.deletable??!0,isConnectable:O,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:Y,dragHandle:C.dragHandle,zIndex:N.z,parentId:C.parentId,...G})})})}const GDe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Wq(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Bt(GDe,En),o=WDe(t.onlyRenderVisibleElements),a=UDe();return g.jsx("div",{className:"react-flow__nodes",style:dw,children:o.map(l=>g.jsx(YDe,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}Wq.displayName="NodeRenderer";const KDe=S.memo(Wq);function XDe(t){return Bt(S.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&QRe({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),En)}const ZDe=({color:t="none",strokeWidth:e=1})=>g.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),QDe=({color:t="none",strokeWidth:e=1})=>g.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),p3={[Wp.Arrow]:ZDe,[Wp.ArrowClosed]:QDe};function JDe(t){const e=yn();return S.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(p3,t)?p3[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",xa.error009(t)),null)},[t])}const eje=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=JDe(e);return l?g.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:g.jsx(l,{color:n,strokeWidth:o})}):null},Hq=({defaultColor:t,rfId:e})=>{const n=Bt(s=>s.edges),r=Bt(s=>s.defaultEdgeOptions),i=S.useMemo(()=>oOe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?g.jsx("svg",{className:"react-flow__marker",children:g.jsx("defs",{children:i.map(s=>g.jsx(eje,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Hq.displayName="MarkerDefinitions";var tje=S.memo(Hq);function Uq({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[d,h]=S.useState({x:1,y:0,width:0,height:0}),m=Wn(["react-flow__edge-textwrapper",c]),y=S.useRef(null);return S.useEffect(()=>{if(y.current){const v=y.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:g.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:m,visibility:d.width?"visible":"hidden",...u,children:[i&&g.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),g.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:y,style:r,children:n}),l]})}Uq.displayName="EdgeText";const nje=S.memo(Uq);function fw({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...u,d:t,fill:"none",className:Wn(["react-flow__edge-path",u.className])}),c&&g.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&ws(e)&&ws(n)?g.jsx(nje,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function m3({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ke.Left||t===Ke.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function qq({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:r,targetY:i,targetPosition:s=Ke.Top}){const[o,a]=m3({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=m3({pos:s,x1:r,y1:i,x2:t,y2:e}),[u,d,h,m]=mq({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,u,d,h,m]}function Yq(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Ke.Bottom,targetPosition:a=Ke.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:m,style:y,markerEnd:v,markerStart:w,interactionWidth:b})=>{const[k,C,N]=qq({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),_=t.isInternal?void 0:e;return g.jsx(fw,{id:_,path:k,labelX:C,labelY:N,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:m,style:y,markerEnd:v,markerStart:w,interactionWidth:b})})}const rje=Yq({isInternal:!1}),Gq=Yq({isInternal:!0});rje.displayName="SimpleBezierEdge";Gq.displayName="SimpleBezierEdgeInternal";function Kq(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:m=Ke.Bottom,targetPosition:y=Ke.Top,markerEnd:v,markerStart:w,pathOptions:b,interactionWidth:k})=>{const[C,N,_]=LN({sourceX:n,sourceY:r,sourcePosition:m,targetX:i,targetY:s,targetPosition:y,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset}),A=t.isInternal?void 0:e;return g.jsx(fw,{id:A,path:C,labelX:N,labelY:_,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:v,markerStart:w,interactionWidth:k})})}const Xq=Kq({isInternal:!1}),Zq=Kq({isInternal:!0});Xq.displayName="SmoothStepEdge";Zq.displayName="SmoothStepEdgeInternal";function Qq(t){return S.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return g.jsx(Xq,{...n,id:r,pathOptions:S.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const ije=Qq({isInternal:!1}),Jq=Qq({isInternal:!0});ije.displayName="StepEdge";Jq.displayName="StepEdgeInternal";function eY(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:y,interactionWidth:v})=>{const[w,b,k]=xq({sourceX:n,sourceY:r,targetX:i,targetY:s}),C=t.isInternal?void 0:e;return g.jsx(fw,{id:C,path:w,labelX:b,labelY:k,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:y,interactionWidth:v})})}const sje=eY({isInternal:!1}),tY=eY({isInternal:!0});sje.displayName="StraightEdge";tY.displayName="StraightEdgeInternal";function nY(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Ke.Bottom,targetPosition:a=Ke.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:m,style:y,markerEnd:v,markerStart:w,pathOptions:b,interactionWidth:k})=>{const[C,N,_]=gq({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:b==null?void 0:b.curvature}),A=t.isInternal?void 0:e;return g.jsx(fw,{id:A,path:C,labelX:N,labelY:_,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:m,style:y,markerEnd:v,markerStart:w,interactionWidth:k})})}const oje=nY({isInternal:!1}),rY=nY({isInternal:!0});oje.displayName="BezierEdge";rY.displayName="BezierEdgeInternal";const g3={default:rY,straight:tY,step:Jq,smoothstep:Zq,simplebezier:Gq},y3={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},aje=(t,e,n)=>n===Ke.Left?t-e:n===Ke.Right?t+e:t,lje=(t,e,n)=>n===Ke.Top?t-e:n===Ke.Bottom?t+e:t,x3="react-flow__edgeupdater";function v3({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return g.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Wn([x3,`${x3}-${a}`]),cx:aje(e,r,t),cy:lje(n,r,t),r,stroke:"transparent",fill:"transparent"})}function cje({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:h,setUpdateHover:m}){const y=yn(),v=(N,_)=>{if(N.button!==0)return;const{autoPanOnConnect:A,domNode:M,isValidConnection:R,connectionMode:D,connectionRadius:O,lib:B,onConnectStart:F,onConnectEnd:W,cancelConnection:I,nodeLookup:Y,rfId:V,panBy:G,updateConnection:H}=y.getState(),$=_.type==="target";h(!0),u==null||u(N,n,_.type);const L=(U,j)=>{h(!1),d==null||d(U,n,_.type,j)},q=U=>c==null?void 0:c(n,U);zN.onPointerDown(N.nativeEvent,{autoPanOnConnect:A,connectionMode:D,connectionRadius:O,domNode:M,handleId:_.id,nodeId:_.nodeId,nodeLookup:Y,isTarget:$,edgeUpdaterType:_.type,lib:B,flowId:V,cancelConnection:I,panBy:G,isValidConnection:R,onConnect:q,onConnectStart:F,onConnectEnd:W,onReconnectEnd:L,updateConnection:H,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle})},w=N=>v(N,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),b=N=>v(N,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),k=()=>m(!0),C=()=>m(!1);return g.jsxs(g.Fragment,{children:[(t===!0||t==="source")&&g.jsx(v3,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:w,onMouseEnter:k,onMouseOut:C,type:"source"}),(t===!0||t==="target")&&g.jsx(v3,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:b,onMouseEnter:k,onMouseOut:C,type:"target"})]})}function uje({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:h,onReconnectEnd:m,rfId:y,edgeTypes:v,noPanClassName:w,onError:b,disableKeyboardA11y:k}){let C=Bt(xe=>xe.edgeLookup.get(t));const N=Bt(xe=>xe.defaultEdgeOptions);C=N?{...N,...C}:C;let _=C.type||"default",A=(v==null?void 0:v[_])||g3[_];A===void 0&&(b==null||b("011",xa.error011(_)),_="default",A=g3.default);const M=!!(C.focusable||e&&typeof C.focusable>"u"),R=typeof d<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),D=!!(C.selectable||r&&typeof C.selectable>"u"),O=S.useRef(null),[B,F]=S.useState(!1),[W,I]=S.useState(!1),Y=yn(),{zIndex:V,sourceX:G,sourceY:H,targetX:$,targetY:L,sourcePosition:q,targetPosition:U}=Bt(S.useCallback(xe=>{const be=xe.nodeLookup.get(C.source),Pe=xe.nodeLookup.get(C.target);if(!be||!Pe)return{zIndex:C.zIndex,...y3};const Ze=sOe({id:t,sourceNode:be,targetNode:Pe,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:xe.connectionMode,onError:b});return{zIndex:ZRe({selected:C.selected,zIndex:C.zIndex,sourceNode:be,targetNode:Pe,elevateOnSelect:xe.elevateEdgesOnSelect}),...Ze||y3}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),En),j=S.useMemo(()=>C.markerStart?`url('#${FN(C.markerStart,y)}')`:void 0,[C.markerStart,y]),K=S.useMemo(()=>C.markerEnd?`url('#${FN(C.markerEnd,y)}')`:void 0,[C.markerEnd,y]);if(C.hidden||G===null||H===null||$===null||L===null)return null;const X=xe=>{var Qe;const{addSelectedEdges:be,unselectNodesAndEdges:Pe,multiSelectionActive:Ze}=Y.getState();D&&(Y.setState({nodesSelectionActive:!1}),C.selected&&Ze?(Pe({nodes:[],edges:[C]}),(Qe=O.current)==null||Qe.blur()):be([t])),i&&i(xe,C)},J=s?xe=>{s(xe,{...C})}:void 0,Z=o?xe=>{o(xe,{...C})}:void 0,oe=a?xe=>{a(xe,{...C})}:void 0,fe=l?xe=>{l(xe,{...C})}:void 0,me=c?xe=>{c(xe,{...C})}:void 0,Te=xe=>{var be;if(!k&&tq.includes(xe.key)&&D){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ze}=Y.getState();xe.key==="Escape"?((be=O.current)==null||be.blur(),Pe({edges:[C]})):Ze([t])}};return g.jsx("svg",{style:{zIndex:V},children:g.jsxs("g",{className:Wn(["react-flow__edge",`react-flow__edge-${_}`,C.className,w,{selected:C.selected,animated:C.animated,inactive:!D&&!i,updating:B,selectable:D}]),onClick:X,onDoubleClick:J,onContextMenu:Z,onMouseEnter:oe,onMouseMove:fe,onMouseLeave:me,onKeyDown:M?Te:void 0,tabIndex:M?0:void 0,role:M?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":M?`${Rq}-${y}`:void 0,ref:O,children:[!W&&g.jsx(A,{id:t,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:D,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:G,sourceY:H,targetX:$,targetY:L,sourcePosition:q,targetPosition:U,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:j,markerEnd:K,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),R&&g.jsx(cje,{edge:C,isReconnectable:R,reconnectRadius:u,onReconnect:d,onReconnectStart:h,onReconnectEnd:m,sourceX:G,sourceY:H,targetX:$,targetY:L,sourcePosition:q,targetPosition:U,setUpdateHover:F,setReconnecting:I})]})})}const dje=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function iY({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:y,disableKeyboardA11y:v}){const{edgesFocusable:w,edgesReconnectable:b,elementsSelectable:k,onError:C}=Bt(dje,En),N=XDe(e);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(tje,{defaultColor:t,rfId:n}),N.map(_=>g.jsx(uje,{id:_,edgesFocusable:w,edgesReconnectable:b,elementsSelectable:k,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:y,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:v},_))]})}iY.displayName="EdgeRenderer";const fje=S.memo(iY),hje=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function pje({children:t}){const e=Bt(hje);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function mje(t){const e=K2(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const gje=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function yje(t){const e=Bt(gje),n=yn();return S.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function xje(t){return t.connection.inProgress?{...t.connection,to:Om(t.connection.to,t.transform)}:{...t.connection}}function vje(t){return xje}function wje(t){const e=vje();return Bt(e,En)}const bje=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function kje({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=Bt(bje,En);return!(s&&i&&l)?null:g.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:Wn(["react-flow__connection",rq(a)]),children:g.jsx(sY,{style:e,type:n,CustomComponent:r,isValid:a})})})}const sY=({style:t,type:e=el.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:h}=wje();if(!i)return;if(n)return g.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:h,connectionStatus:rq(r),toNode:u,toHandle:d});let m="";const y={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:h};switch(e){case el.Bezier:[m]=gq(y);break;case el.SimpleBezier:[m]=qq(y);break;case el.Step:[m]=LN({...y,borderRadius:0});break;case el.SmoothStep:[m]=LN(y);break;default:[m]=xq(y)}return g.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:t})};sY.displayName="ConnectionLine";const Sje={};function w3(t=Sje){S.useRef(t),yn(),S.useEffect(()=>{},[t])}function Cje(){yn(),S.useRef(!1),S.useEffect(()=>{},[])}function oY({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:b,selectionKeyCode:k,selectionOnDrag:C,selectionMode:N,multiSelectionKeyCode:_,panActivationKeyCode:A,zoomActivationKeyCode:M,deleteKeyCode:R,onlyRenderVisibleElements:D,elementsSelectable:O,defaultViewport:B,translateExtent:F,minZoom:W,maxZoom:I,preventScrolling:Y,defaultMarkerColor:V,zoomOnScroll:G,zoomOnPinch:H,panOnScroll:$,panOnScrollSpeed:L,panOnScrollMode:q,zoomOnDoubleClick:U,panOnDrag:j,onPaneClick:K,onPaneMouseEnter:X,onPaneMouseMove:J,onPaneMouseLeave:Z,onPaneScroll:oe,onPaneContextMenu:fe,paneClickDistance:me,nodeClickDistance:Te,onEdgeContextMenu:xe,onEdgeMouseEnter:be,onEdgeMouseMove:Pe,onEdgeMouseLeave:Ze,reconnectRadius:Qe,onReconnect:Dt,onReconnectStart:ee,onReconnectEnd:se,noDragClassName:ce,noWheelClassName:ke,noPanClassName:Ce,disableKeyboardA11y:ye,nodeExtent:ze,rfId:$e,viewport:ae,onViewportChange:he}){return w3(t),w3(e),Cje(),mje(n),yje(ae),g.jsx($De,{onPaneClick:K,onPaneMouseEnter:X,onPaneMouseMove:J,onPaneMouseLeave:Z,onPaneContextMenu:fe,onPaneScroll:oe,paneClickDistance:me,deleteKeyCode:R,selectionKeyCode:k,selectionOnDrag:C,selectionMode:N,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:_,panActivationKeyCode:A,zoomActivationKeyCode:M,elementsSelectable:O,zoomOnScroll:G,zoomOnPinch:H,zoomOnDoubleClick:U,panOnScroll:$,panOnScrollSpeed:L,panOnScrollMode:q,panOnDrag:j,defaultViewport:B,translateExtent:F,minZoom:W,maxZoom:I,onSelectionContextMenu:d,preventScrolling:Y,noDragClassName:ce,noWheelClassName:ke,noPanClassName:Ce,disableKeyboardA11y:ye,onViewportChange:he,isControlledViewport:!!ae,children:g.jsxs(pje,{children:[g.jsx(fje,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Dt,onReconnectStart:ee,onReconnectEnd:se,onlyRenderVisibleElements:D,onEdgeContextMenu:xe,onEdgeMouseEnter:be,onEdgeMouseMove:Pe,onEdgeMouseLeave:Ze,reconnectRadius:Qe,defaultMarkerColor:V,noPanClassName:Ce,disableKeyboardA11y:ye,rfId:$e}),g.jsx(kje,{style:v,type:y,component:w,containerStyle:b}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(KDe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:Te,onlyRenderVisibleElements:D,noPanClassName:Ce,noDragClassName:ce,disableKeyboardA11y:ye,nodeExtent:ze,rfId:$e}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}oY.displayName="GraphView";const Eje=S.memo(oY),b3=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l}={})=>{const c=new Map,u=new Map,d=new Map,h=new Map,m=r??e??[],y=n??t??[],v=a??[0,0],w=l??$p;wq(d,h,m),BN(y,c,u,{nodeOrigin:v,nodeExtent:w,elevateNodesOnSelect:!1});let b=[0,0,1];if(o&&i&&s){const k=Rm(c,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:C,y:N,zoom:_}=H2(k,i,s,.5,2,.1);b=[C,N,_]}return{rfId:"1",width:0,height:0,transform:b,nodes:y,nodeLookup:c,parentLookup:u,edges:m,edgeLookup:h,connectionLookup:d,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:$p,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_d.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...nq},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:KRe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Nje=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l})=>UOe((c,u)=>({...b3({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:d=>{const{nodeLookup:h,parentLookup:m,nodeOrigin:y,elevateNodesOnSelect:v}=u();BN(d,h,m,{nodeOrigin:y,nodeExtent:l,elevateNodesOnSelect:v,checkEquality:!0}),c({nodes:d})},setEdges:d=>{const{connectionLookup:h,edgeLookup:m}=u();wq(h,m,d),c({edges:d})},setDefaultNodesAndEdges:(d,h)=>{if(d){const{setNodes:m}=u();m(d),c({hasDefaultNodes:!0})}if(h){const{setEdges:m}=u();m(h),c({hasDefaultEdges:!0})}},updateNodeInternals:(d,h={triggerFitView:!0})=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:v,fitViewOnInit:w,fitViewDone:b,fitViewOnInitOptions:k,domNode:C,nodeOrigin:N,nodeExtent:_,debug:A,fitViewSync:M}=u(),{changes:R,updatedInternals:D}=dOe(d,y,v,C,N,_);if(D){if(lOe(y,v,{nodeOrigin:N,nodeExtent:_}),h.triggerFitView){let O=b;!b&&w&&(O=M({...k,nodes:k==null?void 0:k.nodes})),c({fitViewDone:O})}else c({});(R==null?void 0:R.length)>0&&(A&&console.log("React Flow: trigger node changes",R),m==null||m(R))}},updateNodePositions:(d,h=!1)=>{const m=[],y=[];for(const[v,w]of d){const b=!!(w!=null&&w.expandParent&&(w!=null&&w.parentId)&&(w!=null&&w.position)),k={id:v,type:"position",position:b?{x:Math.max(0,w.position.x),y:Math.max(0,w.position.y)}:w.position,dragging:h};b&&m.push({id:v,parentId:w.parentId,rect:{...w.internals.positionAbsolute,width:w.measured.width,height:w.measured.height}}),y.push(k)}if(m.length>0){const{nodeLookup:v,parentLookup:w,nodeOrigin:b}=u(),k=G2(m,v,w,b);y.push(...k)}u().triggerNodeChanges(y)},triggerNodeChanges:d=>{const{onNodesChange:h,setNodes:m,nodes:y,hasDefaultNodes:v,debug:w}=u();if(d!=null&&d.length){if(v){const b=jq(d,y);m(b)}w&&console.log("React Flow: trigger node changes",d),h==null||h(d)}},triggerEdgeChanges:d=>{const{onEdgesChange:h,setEdges:m,edges:y,hasDefaultEdges:v,debug:w}=u();if(d!=null&&d.length){if(v){const b=Iq(d,y);m(b)}w&&console.log("React Flow: trigger edge changes",d),h==null||h(d)}},addSelectedNodes:d=>{const{multiSelectionActive:h,edgeLookup:m,nodeLookup:y,triggerNodeChanges:v,triggerEdgeChanges:w}=u();if(h){const b=d.map(k=>ec(k,!0));v(b);return}v(Fu(y,new Set([...d]),!0)),w(Fu(m))},addSelectedEdges:d=>{const{multiSelectionActive:h,edgeLookup:m,nodeLookup:y,triggerNodeChanges:v,triggerEdgeChanges:w}=u();if(h){const b=d.map(k=>ec(k,!0));w(b);return}w(Fu(m,new Set([...d]))),v(Fu(y,new Set,!0))},unselectNodesAndEdges:({nodes:d,edges:h}={})=>{const{edges:m,nodes:y,nodeLookup:v,triggerNodeChanges:w,triggerEdgeChanges:b}=u(),k=d||y,C=h||m,N=k.map(A=>{const M=v.get(A.id);return M&&(M.selected=!1),ec(A.id,!1)}),_=C.map(A=>ec(A.id,!1));w(N),b(_)},setMinZoom:d=>{const{panZoom:h,maxZoom:m}=u();h==null||h.setScaleExtent([d,m]),c({minZoom:d})},setMaxZoom:d=>{const{panZoom:h,minZoom:m}=u();h==null||h.setScaleExtent([m,d]),c({maxZoom:d})},setTranslateExtent:d=>{var h;(h=u().panZoom)==null||h.setTranslateExtent(d),c({translateExtent:d})},setPaneClickDistance:d=>{var h;(h=u().panZoom)==null||h.setClickDistance(d)},resetSelectedElements:()=>{const{edges:d,nodes:h,triggerNodeChanges:m,triggerEdgeChanges:y}=u(),v=h.reduce((b,k)=>k.selected?[...b,ec(k.id,!1)]:b,[]),w=d.reduce((b,k)=>k.selected?[...b,ec(k.id,!1)]:b,[]);m(v),y(w)},setNodeExtent:d=>{const{nodes:h,nodeLookup:m,parentLookup:y,nodeOrigin:v,elevateNodesOnSelect:w,nodeExtent:b}=u();d[0][0]===b[0][0]&&d[0][1]===b[0][1]&&d[1][0]===b[1][0]&&d[1][1]===b[1][1]||(BN(h,m,y,{nodeOrigin:v,nodeExtent:d,elevateNodesOnSelect:w,checkEquality:!1}),c({nodeExtent:d}))},panBy:d=>{const{transform:h,width:m,height:y,panZoom:v,translateExtent:w}=u();return fOe({delta:d,panZoom:v,transform:h,translateExtent:w,width:m,height:y})},fitView:d=>{const{panZoom:h,width:m,height:y,minZoom:v,maxZoom:w,nodeLookup:b}=u();if(!h)return Promise.resolve(!1);const k=ON(b,d);return DN({nodes:k,width:m,height:y,panZoom:h,minZoom:v,maxZoom:w},d)},fitViewSync:d=>{const{panZoom:h,width:m,height:y,minZoom:v,maxZoom:w,nodeLookup:b}=u();if(!h)return!1;const k=ON(b,d);return DN({nodes:k,width:m,height:y,panZoom:h,minZoom:v,maxZoom:w},d),k.size>0},cancelConnection:()=>{c({connection:{...nq}})},updateConnection:d=>{c({connection:d})},reset:()=>c({...b3()})}),Object.is);function Tje({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:a,nodeExtent:l,children:c}){const[u]=S.useState(()=>Nje({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l}));return g.jsx(qOe,{value:u,children:g.jsx(mDe,{children:c})})}function Aje({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,nodeOrigin:l,nodeExtent:c}){return S.useContext(cw)?g.jsx(g.Fragment,{children:t}):g.jsx(Tje,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,nodeOrigin:l,nodeExtent:c,children:t})}const _je={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Mje({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:h,onConnect:m,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:b,onNodeMouseEnter:k,onNodeMouseMove:C,onNodeMouseLeave:N,onNodeContextMenu:_,onNodeDoubleClick:A,onNodeDragStart:M,onNodeDrag:R,onNodeDragStop:D,onNodesDelete:O,onEdgesDelete:B,onDelete:F,onSelectionChange:W,onSelectionDragStart:I,onSelectionDrag:Y,onSelectionDragStop:V,onSelectionContextMenu:G,onSelectionStart:H,onSelectionEnd:$,onBeforeDelete:L,connectionMode:q,connectionLineType:U=el.Bezier,connectionLineStyle:j,connectionLineComponent:K,connectionLineContainerStyle:X,deleteKeyCode:J="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:oe=!1,selectionMode:fe=Vp.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:Te=zx()?"Meta":"Control",zoomActivationKeyCode:xe=zx()?"Meta":"Control",snapToGrid:be,snapGrid:Pe,onlyRenderVisibleElements:Ze=!1,selectNodesOnDrag:Qe,nodesDraggable:Dt,nodesConnectable:ee,nodesFocusable:se,nodeOrigin:ce=Oq,edgesFocusable:ke,edgesReconnectable:Ce,elementsSelectable:ye=!0,defaultViewport:ze=sDe,minZoom:$e=.5,maxZoom:ae=2,translateExtent:he=$p,preventScrolling:We=!0,nodeExtent:et,defaultMarkerColor:ft="#b1b1b7",zoomOnScroll:qt=!0,zoomOnPinch:st=!0,panOnScroll:mt=!1,panOnScrollSpeed:ht=.5,panOnScrollMode:hn=mc.Free,zoomOnDoubleClick:Ct=!0,panOnDrag:Hn=!0,onPaneClick:_t,onPaneMouseEnter:Un,onPaneMouseMove:St,onPaneMouseLeave:Di,onPaneScroll:qr,onPaneContextMenu:jr,paneClickDistance:ss=0,nodeClickDistance:tt=0,children:jt,onReconnect:Wt,onReconnectStart:lr,onReconnectEnd:yr,onEdgeContextMenu:xr,onEdgeDoubleClick:di,onEdgeMouseEnter:qn,onEdgeMouseMove:ji,onEdgeMouseLeave:Dl,reconnectRadius:Bc=10,onNodesChange:zc,onEdgesChange:ef,noDragClassName:hw="nodrag",noWheelClassName:pw="nowheel",noPanClassName:Dm="nopan",fitView:Ds,fitViewOptions:jm,connectOnClick:Im,attributionPosition:mw,proOptions:Lm,defaultEdgeOptions:Fm,elevateNodesOnSelect:Bm,elevateEdgesOnSelect:zm,disableKeyboardA11y:$m=!1,autoPanOnConnect:gw,autoPanOnNodeDrag:xn,autoPanSpeed:yw,connectionRadius:tf,isValidConnection:Vm,onError:$c,style:xw,id:nf,nodeDragThreshold:Vc,viewport:Ii,onViewportChange:vw,width:fi,height:ww,colorMode:bw="light",debug:kw,onScroll:Mo,...Wc},jl){const wa=nf||"1",Sw=cDe(bw),Cw=S.useCallback(Hc=>{Hc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Mo==null||Mo(Hc)},[Mo]);return g.jsx("div",{"data-testid":"rf__wrapper",...Wc,onScroll:Cw,style:{...xw,..._je},ref:jl,className:Wn(["react-flow",i,Sw]),id:nf,children:g.jsxs(Aje,{nodes:t,edges:e,width:fi,height:ww,fitView:Ds,nodeOrigin:ce,nodeExtent:et,children:[g.jsx(Eje,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:k,onNodeMouseMove:C,onNodeMouseLeave:N,onNodeContextMenu:_,onNodeDoubleClick:A,nodeTypes:s,edgeTypes:o,connectionLineType:U,connectionLineStyle:j,connectionLineComponent:K,connectionLineContainerStyle:X,selectionKeyCode:Z,selectionOnDrag:oe,selectionMode:fe,deleteKeyCode:J,multiSelectionKeyCode:Te,panActivationKeyCode:me,zoomActivationKeyCode:xe,onlyRenderVisibleElements:Ze,defaultViewport:ze,translateExtent:he,minZoom:$e,maxZoom:ae,preventScrolling:We,zoomOnScroll:qt,zoomOnPinch:st,zoomOnDoubleClick:Ct,panOnScroll:mt,panOnScrollSpeed:ht,panOnScrollMode:hn,panOnDrag:Hn,onPaneClick:_t,onPaneMouseEnter:Un,onPaneMouseMove:St,onPaneMouseLeave:Di,onPaneScroll:qr,onPaneContextMenu:jr,paneClickDistance:ss,nodeClickDistance:tt,onSelectionContextMenu:G,onSelectionStart:H,onSelectionEnd:$,onReconnect:Wt,onReconnectStart:lr,onReconnectEnd:yr,onEdgeContextMenu:xr,onEdgeDoubleClick:di,onEdgeMouseEnter:qn,onEdgeMouseMove:ji,onEdgeMouseLeave:Dl,reconnectRadius:Bc,defaultMarkerColor:ft,noDragClassName:hw,noWheelClassName:pw,noPanClassName:Dm,rfId:wa,disableKeyboardA11y:$m,nodeExtent:et,viewport:Ii,onViewportChange:vw}),g.jsx(lDe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:b,nodesDraggable:Dt,nodesConnectable:ee,nodesFocusable:se,edgesFocusable:ke,edgesReconnectable:Ce,elementsSelectable:ye,elevateNodesOnSelect:Bm,elevateEdgesOnSelect:zm,minZoom:$e,maxZoom:ae,nodeExtent:et,onNodesChange:zc,onEdgesChange:ef,snapToGrid:be,snapGrid:Pe,connectionMode:q,translateExtent:he,connectOnClick:Im,defaultEdgeOptions:Fm,fitView:Ds,fitViewOptions:jm,onNodesDelete:O,onEdgesDelete:B,onDelete:F,onNodeDragStart:M,onNodeDrag:R,onNodeDragStop:D,onSelectionDrag:Y,onSelectionDragStart:I,onSelectionDragStop:V,onMove:u,onMoveStart:d,onMoveEnd:h,noPanClassName:Dm,nodeOrigin:ce,rfId:wa,autoPanOnConnect:gw,autoPanOnNodeDrag:xn,autoPanSpeed:yw,onError:$c,connectionRadius:tf,isValidConnection:Vm,selectNodesOnDrag:Qe,nodeDragThreshold:Vc,onBeforeDelete:L,paneClickDistance:ss,debug:kw}),g.jsx(iDe,{onSelectionChange:W}),jt,g.jsx(JOe,{proOptions:Lm,position:mw}),g.jsx(ZOe,{rfId:wa,disableKeyboardA11y:$m})]})})}var Pje=Lq(Mje);function Rje(t){const[e,n]=S.useState(t),r=S.useCallback(i=>n(s=>jq(i,s)),[]);return[e,n,r]}function Oje(t){const[e,n]=S.useState(t),r=S.useCallback(i=>n(s=>Iq(i,s)),[]);return[e,n,r]}function Dje({dimensions:t,lineWidth:e,variant:n,className:r}){return g.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Wn(["react-flow__background-pattern",n,r])})}function jje({radius:t,className:e}){return g.jsx("circle",{cx:t,cy:t,r:t,className:Wn(["react-flow__background-pattern","dots",e])})}var na;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(na||(na={}));const Ije={[na.Dots]:1,[na.Lines]:1,[na.Cross]:6},Lje=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function aY({id:t,variant:e=na.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:u}){const d=S.useRef(null),{transform:h,patternId:m}=Bt(Lje,En),y=r||Ije[e],v=e===na.Dots,w=e===na.Cross,b=Array.isArray(n)?n:[n,n],k=[b[0]*h[2]||1,b[1]*h[2]||1],C=y*h[2],N=Array.isArray(s)?s:[s,s],_=w?[C,C]:k,A=[N[0]*h[2]||1+_[0]/2,N[1]*h[2]||1+_[1]/2],M=`${m}${t||""}`;return g.jsxs("svg",{className:Wn(["react-flow__background",c]),style:{...l,...dw,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[g.jsx("pattern",{id:M,x:h[0]%k[0],y:h[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:v?g.jsx(jje,{radius:C/2,className:u}):g.jsx(Dje,{dimensions:_,lineWidth:i,variant:e,className:u})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}aY.displayName="Background";const Fje=S.memo(aY);function Bje(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function zje(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function $je(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Vje(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Wje(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Wy({children:t,className:e,...n}){return g.jsx("button",{type:"button",className:Wn(["react-flow__controls-button",e]),...n,children:t})}const Hje=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function lY({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:h="vertical","aria-label":m="React Flow controls"}){const y=yn(),{isInteractive:v,minZoomReached:w,maxZoomReached:b}=Bt(Hje,En),{zoomIn:k,zoomOut:C,fitView:N}=K2(),_=()=>{k(),s==null||s()},A=()=>{C(),o==null||o()},M=()=>{N(i),a==null||a()},R=()=>{y.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)},D=h==="horizontal"?"horizontal":"vertical";return g.jsxs(uw,{className:Wn(["react-flow__controls",D,c]),position:d,style:t,"data-testid":"rf__controls","aria-label":m,children:[e&&g.jsxs(g.Fragment,{children:[g.jsx(Wy,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b,children:g.jsx(Bje,{})}),g.jsx(Wy,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w,children:g.jsx(zje,{})})]}),n&&g.jsx(Wy,{className:"react-flow__controls-fitview",onClick:M,title:"fit view","aria-label":"fit view",children:g.jsx($je,{})}),r&&g.jsx(Wy,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?g.jsx(Wje,{}):g.jsx(Vje,{})}),u]})}lY.displayName="Controls";const Uje=S.memo(lY);function qje({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:h,onClick:m}){const{background:y,backgroundColor:v}=s||{},w=o||y||v;return g.jsx("rect",{className:Wn(["react-flow__minimap-node",{selected:h},c]),x:e,y:n,rx:u,ry:u,width:r,height:i,style:{fill:w,stroke:a,strokeWidth:l},shapeRendering:d,onClick:m?b=>m(b,t):void 0})}const Yje=S.memo(qje),Gje=t=>t.nodes.map(e=>e.id),hS=t=>t instanceof Function?t:()=>t;function Kje({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Yje,onClick:o}){const a=Bt(Gje,En),l=hS(e),c=hS(t),u=hS(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:a.map(h=>g.jsx(Zje,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},h))})}function Xje({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:u,y:d,width:h,height:m}=Bt(y=>{const v=y.nodeLookup.get(t),{x:w,y:b}=v.internals.positionAbsolute,{width:k,height:C}=va(v);return{node:v,x:w,y:b,width:k,height:C}},En);return!c||c.hidden||!dq(c)?null:g.jsx(a,{x:u,y:d,width:h,height:m,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const Zje=S.memo(Xje);var Qje=S.memo(Kje);const Jje=200,eIe=150,tIe=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?cq(Rm(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},nIe="react-flow__minimap-desc";function cY({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:h="bottom-right",onClick:m,onNodeClick:y,pannable:v=!1,zoomable:w=!1,ariaLabel:b="React Flow mini map",inversePan:k,zoomStep:C=10,offsetScale:N=5}){const _=yn(),A=S.useRef(null),{boundingRect:M,viewBB:R,rfId:D,panZoom:O,translateExtent:B,flowWidth:F,flowHeight:W}=Bt(tIe,En),I=(t==null?void 0:t.width)??Jje,Y=(t==null?void 0:t.height)??eIe,V=M.width/I,G=M.height/Y,H=Math.max(V,G),$=H*I,L=H*Y,q=N*H,U=M.x-($-M.width)/2-q,j=M.y-(L-M.height)/2-q,K=$+q*2,X=L+q*2,J=`${nIe}-${D}`,Z=S.useRef(0),oe=S.useRef();Z.current=H,S.useEffect(()=>{if(A.current&&O)return oe.current=wOe({domNode:A.current,panZoom:O,getTransform:()=>_.getState().transform,getViewScale:()=>Z.current}),()=>{var Te;(Te=oe.current)==null||Te.destroy()}},[O]),S.useEffect(()=>{var Te;(Te=oe.current)==null||Te.update({translateExtent:B,width:F,height:W,inversePan:k,pannable:v,zoomStep:C,zoomable:w})},[v,w,k,C,B,F,W]);const fe=m?Te=>{var Pe;const[xe,be]=((Pe=oe.current)==null?void 0:Pe.pointer(Te))||[0,0];m(Te,{x:xe,y:be})}:void 0,me=y?S.useCallback((Te,xe)=>{const be=_.getState().nodeLookup.get(xe);y(Te,be)},[]):void 0;return g.jsx(uw,{position:h,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*H:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:Wn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:I,height:Y,viewBox:`${U} ${j} ${K} ${X}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":J,ref:A,onClick:fe,children:[b&&g.jsx("title",{id:J,children:b}),g.jsx(Qje,{onClick:me,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${U-q},${j-q}h${K+q*2}v${X+q*2}h${-K-q*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}cY.displayName="MiniMap";const rIe=S.memo(cY);function iIe({nodeId:t,position:e,variant:n=Bh.Handle,className:r,style:i={},children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,shouldResize:h,onResizeStart:m,onResize:y,onResizeEnd:v}){const w=$q(),b=typeof t=="string"?t:w,k=yn(),C=S.useRef(null),N=n===Bh.Line?"right":"bottom-right",_=e??N,A=S.useRef(null);S.useEffect(()=>{if(!(!C.current||!b))return A.current||(A.current=jOe({domNode:C.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:O,transform:B,snapGrid:F,snapToGrid:W,nodeOrigin:I,domNode:Y}=k.getState();return{nodeLookup:O,transform:B,snapGrid:F,snapToGrid:W,nodeOrigin:I,paneDomNode:Y}},onChange:(O,B)=>{const{triggerNodeChanges:F,nodeLookup:W,parentLookup:I,nodeOrigin:Y}=k.getState(),V=[],G={x:O.x,y:O.y},H=W.get(b);if(H&&H.expandParent&&H.parentId){const $=H.origin??Y,L=O.width??H.measured.width,q=O.height??H.measured.height,U={id:H.id,parentId:H.parentId,rect:{width:L,height:q,...fq({x:O.x??H.position.x,y:O.y??H.position.y},{width:L,height:q},H.parentId,W,$)}},j=G2([U],W,I,Y);V.push(...j),G.x=O.x?Math.max($[0]*L,O.x):void 0,G.y=O.y?Math.max($[1]*q,O.y):void 0}if(G.x!==void 0&&G.y!==void 0){const $={id:b,type:"position",position:{...G}};V.push($)}if(O.width!==void 0&&O.height!==void 0){const $={id:b,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:O.width,height:O.height}};V.push($)}for(const $ of B){const L={...$,type:"position"};V.push(L)}F(V)},onEnd:()=>{const O={id:b,type:"dimensions",resizing:!1};k.getState().triggerNodeChanges([O])}})),A.current.update({controlPosition:_,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,onResizeStart:m,onResize:y,onResizeEnd:v,shouldResize:h}),()=>{var O;(O=A.current)==null||O.destroy()}},[_,a,l,c,u,d,m,y,v,h]);const M=_.split("-"),R=n===Bh.Line?"borderColor":"backgroundColor",D=o?{...i,[R]:o}:i;return g.jsx("div",{className:Wn(["react-flow__resize-control","nodrag",...M,n,r]),ref:C,style:D,children:s})}S.memo(iIe);var pS,k3;function Z2(){if(k3)return pS;k3=1;var t="\0",e="\0",n="";class r{constructor(u){Rn(this,"_isDirected",!0);Rn(this,"_isMultigraph",!1);Rn(this,"_isCompound",!1);Rn(this,"_label");Rn(this,"_defaultNodeLabelFn",()=>{});Rn(this,"_defaultEdgeLabelFn",()=>{});Rn(this,"_nodes",{});Rn(this,"_in",{});Rn(this,"_preds",{});Rn(this,"_out",{});Rn(this,"_sucs",{});Rn(this,"_edgeObjs",{});Rn(this,"_edgeLabels",{});Rn(this,"_nodeCount",0);Rn(this,"_edgeCount",0);Rn(this,"_parent");Rn(this,"_children");u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(d=>Object.keys(u._in[d]).length===0)}sinks(){var u=this;return this.nodes().filter(d=>Object.keys(u._out[d]).length===0)}setNodes(u,d){var h=arguments,m=this;return u.forEach(function(y){h.length>1?m.setNode(y,d):m.setNode(y)}),this}setNode(u,d){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=e,this._children[u]={},this._children[e][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var d=this;if(Object.hasOwn(this._nodes,u)){var h=m=>d.removeEdge(d._edgeObjs[m]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(m){d.setParent(m)}),delete this._children[u]),Object.keys(this._in[u]).forEach(h),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(h),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var h=d;h!==void 0;h=this.parent(h))if(h===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var d=this._parent[u];if(d!==e)return d}}children(u=e){if(this._isCompound){var d=this._children[u];if(d)return Object.keys(d)}else{if(u===e)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var d=this._preds[u];if(d)return Object.keys(d)}successors(u){var d=this._sucs[u];if(d)return Object.keys(d)}neighbors(u){var d=this.predecessors(u);if(d){const m=new Set(d);for(var h of this.successors(u))m.add(h);return Array.from(m.values())}}isLeaf(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0}filterNodes(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([v,w]){u(v)&&d.setNode(v,w)}),Object.values(this._edgeObjs).forEach(function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,h.edge(v))});var m={};function y(v){var w=h.parent(v);return w===void 0||d.hasNode(w)?(m[v]=w,w):w in m?m[w]:y(w)}return this._isCompound&&d.nodes().forEach(v=>d.setParent(v,y(v))),d}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,d){var h=this,m=arguments;return u.reduce(function(y,v){return m.length>1?h.setEdge(y,v,d):h.setEdge(y,v),v}),this}setEdge(){var u,d,h,m,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(u=v.v,d=v.w,h=v.name,arguments.length===2&&(m=arguments[1],y=!0)):(u=v,d=arguments[1],h=arguments[3],arguments.length>2&&(m=arguments[2],y=!0)),u=""+u,d=""+d,h!==void 0&&(h=""+h);var w=o(this._isDirected,u,d,h);if(Object.hasOwn(this._edgeLabels,w))return y&&(this._edgeLabels[w]=m),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[w]=y?m:this._defaultEdgeLabelFn(u,d,h);var b=a(this._isDirected,u,d,h);return u=b.v,d=b.w,Object.freeze(b),this._edgeObjs[w]=b,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][w]=b,this._out[u][w]=b,this._edgeCount++,this}edge(u,d,h){var m=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,h);return this._edgeLabels[m]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,d,h){var m=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,h);return Object.hasOwn(this._edgeLabels,m)}removeEdge(u,d,h){var m=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,h),y=this._edgeObjs[m];return y&&(u=y.v,d=y.w,delete this._edgeLabels[m],delete this._edgeObjs[m],s(this._preds[d],u),s(this._sucs[u],d),delete this._in[d][m],delete this._out[u][m],this._edgeCount--),this}inEdges(u,d){var h=this._in[u];if(h){var m=Object.values(h);return d?m.filter(y=>y.v===d):m}}outEdges(u,d){var h=this._out[u];if(h){var m=Object.values(h);return d?m.filter(y=>y.w===d):m}}nodeEdges(u,d){var h=this.inEdges(u,d);if(h)return h.concat(this.outEdges(u,d))}}function i(c,u){c[u]?c[u]++:c[u]=1}function s(c,u){--c[u]||delete c[u]}function o(c,u,d,h){var m=""+u,y=""+d;if(!c&&m>y){var v=m;m=y,y=v}return m+n+y+n+(h===void 0?t:h)}function a(c,u,d,h){var m=""+u,y=""+d;if(!c&&m>y){var v=m;m=y,y=v}var w={v:m,w:y};return h&&(w.name=h),w}function l(c,u){return o(c,u.v,u.w,u.name)}return pS=r,pS}var mS,S3;function sIe(){return S3||(S3=1,mS="2.2.4"),mS}var gS,C3;function oIe(){return C3||(C3=1,gS={Graph:Z2(),version:sIe()}),gS}var yS,E3;function aIe(){if(E3)return yS;E3=1;var t=Z2();yS={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),l=s.parent(o),c={v:o};return a!==void 0&&(c.value=a),l!==void 0&&(c.parent=l),c})}function r(s){return s.edges().map(function(o){var a=s.edge(o),l={v:o.v,w:o.w};return o.name!==void 0&&(l.name=o.name),a!==void 0&&(l.value=a),l})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return yS}var xS,N3;function lIe(){if(N3)return xS;N3=1,xS=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return xS}var vS,T3;function uY(){if(T3)return vS;T3=1;class t{constructor(){Rn(this,"_arr",[]);Rn(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return vS=t,vS}var wS,A3;function dY(){if(A3)return wS;A3=1;var t=uY();wS=n;var e=()=>1;function n(i,s,o,a){return r(i,String(s),o||e,a||function(l){return i.outEdges(l)})}function r(i,s,o,a){var l={},c=new t,u,d,h=function(m){var y=m.v!==u?m.v:m.w,v=l[y],w=o(m),b=d.distance+w;if(w<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+w);b<v.distance&&(v.distance=b,v.predecessor=u,c.decrease(y,b))};for(i.nodes().forEach(function(m){var y=m===s?0:Number.POSITIVE_INFINITY;l[m]={distance:y},c.add(m,y)});c.size()>0&&(u=c.removeMin(),d=l[u],d.distance!==Number.POSITIVE_INFINITY);)a(u).forEach(h);return l}return wS}var bS,_3;function cIe(){if(_3)return bS;_3=1;var t=dY();bS=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return bS}var kS,M3;function fY(){if(M3)return kS;M3=1,kS=t;function t(e){var n=0,r=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var c=[],u;do u=r.pop(),i[u].onStack=!1,c.push(u);while(a!==u);s.push(c)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return kS}var SS,P3;function uIe(){if(P3)return SS;P3=1;var t=fY();SS=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return SS}var CS,R3;function dIe(){if(R3)return CS;R3=1,CS=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(l){o[l]={},o[l][l]={distance:0},a.forEach(function(c){l!==c&&(o[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var u=c.v===l?c.w:c.v,d=i(c);o[l][u]={distance:d,predecessor:l}})}),a.forEach(function(l){var c=o[l];a.forEach(function(u){var d=o[u];a.forEach(function(h){var m=d[l],y=c[h],v=d[h],w=m.distance+y.distance;w<v.distance&&(v.distance=w,v.predecessor=y.predecessor)})})}),o}return CS}var ES,O3;function hY(){if(O3)return ES;O3=1;function t(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return ES=t,t.CycleException=e,ES}var NS,D3;function fIe(){if(D3)return NS;D3=1;var t=hY();NS=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return NS}var TS,j3;function pY(){if(j3)return TS;j3=1,TS=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=o==="post"?e:n,c=[],u={};return s.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,u,c)}),c}function e(i,s,o,a){for(var l=[[i,!1]];l.length>0;){var c=l.pop();c[1]?a.push(c[0]):Object.hasOwn(o,c[0])||(o[c[0]]=!0,l.push([c[0],!0]),r(s(c[0]),u=>l.push([u,!1])))}}function n(i,s,o,a){for(var l=[i];l.length>0;){var c=l.pop();Object.hasOwn(o,c)||(o[c]=!0,a.push(c),r(s(c),u=>l.push(u)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return TS}var AS,I3;function hIe(){if(I3)return AS;I3=1;var t=pY();AS=e;function e(n,r){return t(n,r,"post")}return AS}var _S,L3;function pIe(){if(L3)return _S;L3=1;var t=pY();_S=e;function e(n,r){return t(n,r,"pre")}return _S}var MS,F3;function mIe(){if(F3)return MS;F3=1;var t=Z2(),e=uY();MS=n;function n(r,i){var s=new t,o={},a=new e,l;function c(d){var h=d.v===l?d.w:d.v,m=a.priority(h);if(m!==void 0){var y=i(d);y<m&&(o[h]=l,a.decrease(h,y))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),a.decrease(r.nodes()[0],0);for(var u=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(o,l))s.setEdge(l,o[l]);else{if(u)throw new Error("Input graph is not connected: "+r);u=!0}r.nodeEdges(l).forEach(c)}return s}return MS}var PS,B3;function gIe(){return B3||(B3=1,PS={components:lIe(),dijkstra:dY(),dijkstraAll:cIe(),findCycles:uIe(),floydWarshall:dIe(),isAcyclic:fIe(),postorder:hIe(),preorder:pIe(),prim:mIe(),tarjan:fY(),topsort:hY()}),PS}var RS,z3;function As(){if(z3)return RS;z3=1;var t=oIe();return RS={Graph:t.Graph,json:aIe(),alg:gIe(),version:t.version},RS}var OS,$3;function yIe(){if($3)return OS;$3=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return OS=t,OS}var DS,V3;function xIe(){if(V3)return DS;V3=1;let t=As().Graph,e=yIe();DS=r;let n=()=>1;function r(c,u){if(c.nodeCount()<=1)return[];let d=o(c,u||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(m=>c.outEdges(m.v,m.w))}function i(c,u,d){let h=[],m=u[u.length-1],y=u[0],v;for(;c.nodeCount();){for(;v=y.dequeue();)s(c,u,d,v);for(;v=m.dequeue();)s(c,u,d,v);if(c.nodeCount()){for(let w=u.length-2;w>0;--w)if(v=u[w].dequeue(),v){h=h.concat(s(c,u,d,v,!0));break}}}return h}function s(c,u,d,h,m){let y=m?[]:void 0;return c.inEdges(h.v).forEach(v=>{let w=c.edge(v),b=c.node(v.v);m&&y.push({v:v.v,w:v.w}),b.out-=w,a(u,d,b)}),c.outEdges(h.v).forEach(v=>{let w=c.edge(v),b=v.w,k=c.node(b);k.in-=w,a(u,d,k)}),c.removeNode(h.v),y}function o(c,u){let d=new t,h=0,m=0;c.nodes().forEach(w=>{d.setNode(w,{v:w,in:0,out:0})}),c.edges().forEach(w=>{let b=d.edge(w.v,w.w)||0,k=u(w),C=b+k;d.setEdge(w.v,w.w,C),m=Math.max(m,d.node(w.v).out+=k),h=Math.max(h,d.node(w.w).in+=k)});let y=l(m+h+3).map(()=>new e),v=h+1;return d.nodes().forEach(w=>{a(y,v,d.node(w))}),{graph:d,buckets:y,zeroIdx:v}}function a(c,u,d){d.out?d.in?c[d.out-d.in+u].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}function l(c){const u=[];for(let d=0;d<c;d++)u.push(d);return u}return DS}var jS,W3;function $n(){if(W3)return jS;W3=1;let t=As().Graph;jS={addBorderNode:u,addDummyNode:e,applyWithChunking:m,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:A,maxRank:y,normalizeRanks:l,notime:b,partition:v,pick:_,predecessorWeights:s,range:N,removeEmptyRanks:c,simplify:n,successorWeights:i,time:w,uniqueId:C,zipObject:M};function e(R,D,O,B){let F;do F=C(B);while(R.hasNode(F));return O.dummy=D,R.setNode(F,O),F}function n(R){let D=new t().setGraph(R.graph());return R.nodes().forEach(O=>D.setNode(O,R.node(O))),R.edges().forEach(O=>{let B=D.edge(O.v,O.w)||{weight:0,minlen:1},F=R.edge(O);D.setEdge(O.v,O.w,{weight:B.weight+F.weight,minlen:Math.max(B.minlen,F.minlen)})}),D}function r(R){let D=new t({multigraph:R.isMultigraph()}).setGraph(R.graph());return R.nodes().forEach(O=>{R.children(O).length||D.setNode(O,R.node(O))}),R.edges().forEach(O=>{D.setEdge(O,R.edge(O))}),D}function i(R){let D=R.nodes().map(O=>{let B={};return R.outEdges(O).forEach(F=>{B[F.w]=(B[F.w]||0)+R.edge(F).weight}),B});return M(R.nodes(),D)}function s(R){let D=R.nodes().map(O=>{let B={};return R.inEdges(O).forEach(F=>{B[F.v]=(B[F.v]||0)+R.edge(F).weight}),B});return M(R.nodes(),D)}function o(R,D){let O=R.x,B=R.y,F=D.x-O,W=D.y-B,I=R.width/2,Y=R.height/2;if(!F&&!W)throw new Error("Not possible to find intersection inside of the rectangle");let V,G;return Math.abs(W)*I>Math.abs(F)*Y?(W<0&&(Y=-Y),V=Y*F/W,G=Y):(F<0&&(I=-I),V=I,G=I*W/F),{x:O+V,y:B+G}}function a(R){let D=N(y(R)+1).map(()=>[]);return R.nodes().forEach(O=>{let B=R.node(O),F=B.rank;F!==void 0&&(D[F][B.order]=O)}),D}function l(R){let D=R.nodes().map(B=>{let F=R.node(B).rank;return F===void 0?Number.MAX_VALUE:F}),O=m(Math.min,D);R.nodes().forEach(B=>{let F=R.node(B);Object.hasOwn(F,"rank")&&(F.rank-=O)})}function c(R){let D=R.nodes().map(I=>R.node(I).rank),O=m(Math.min,D),B=[];R.nodes().forEach(I=>{let Y=R.node(I).rank-O;B[Y]||(B[Y]=[]),B[Y].push(I)});let F=0,W=R.graph().nodeRankFactor;Array.from(B).forEach((I,Y)=>{I===void 0&&Y%W!==0?--F:I!==void 0&&F&&I.forEach(V=>R.node(V).rank+=F)})}function u(R,D,O,B){let F={width:0,height:0};return arguments.length>=4&&(F.rank=O,F.order=B),e(R,"border",F,D)}function d(R,D=h){const O=[];for(let B=0;B<R.length;B+=D){const F=R.slice(B,B+D);O.push(F)}return O}const h=65535;function m(R,D){if(D.length>h){const O=d(D);return R.apply(null,O.map(B=>R.apply(null,B)))}else return R.apply(null,D)}function y(R){const O=R.nodes().map(B=>{let F=R.node(B).rank;return F===void 0?Number.MIN_VALUE:F});return m(Math.max,O)}function v(R,D){let O={lhs:[],rhs:[]};return R.forEach(B=>{D(B)?O.lhs.push(B):O.rhs.push(B)}),O}function w(R,D){let O=Date.now();try{return D()}finally{console.log(R+" time: "+(Date.now()-O)+"ms")}}function b(R,D){return D()}let k=0;function C(R){var D=++k;return toString(R)+D}function N(R,D,O=1){D==null&&(D=R,R=0);let B=W=>W<D;O<0&&(B=W=>D<W);const F=[];for(let W=R;B(W);W+=O)F.push(W);return F}function _(R,D){const O={};for(const B of D)R[B]!==void 0&&(O[B]=R[B]);return O}function A(R,D){let O=D;return typeof D=="string"&&(O=B=>B[D]),Object.entries(R).reduce((B,[F,W])=>(B[F]=O(W,F),B),{})}function M(R,D){return R.reduce((O,B,F)=>(O[B]=D[F],O),{})}return jS}var IS,H3;function vIe(){if(H3)return IS;H3=1;let t=xIe(),e=$n().uniqueId;IS={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,a(s)):r(s)).forEach(l=>{let c=s.edge(l);s.removeEdge(l),c.forwardName=l.name,c.reversed=!0,s.setEdge(l.w,l.v,c,e("rev"))});function a(l){return c=>l.edge(c).weight}}function r(s){let o=[],a={},l={};function c(u){Object.hasOwn(l,u)||(l[u]=!0,a[u]=!0,s.outEdges(u).forEach(d=>{Object.hasOwn(a,d.w)?o.push(d):c(d.w)}),delete a[u])}return s.nodes().forEach(c),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let l=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,l)}})}return IS}var LS,U3;function wIe(){if(U3)return LS;U3=1;let t=$n();LS={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,l=s.w,c=i.node(l).rank,u=s.name,d=i.edge(s),h=d.labelRank;if(c===a+1)return;i.removeEdge(s);let m,y,v;for(v=0,++a;a<c;++v,++a)d.points=[],y={width:0,height:0,edgeLabel:d,edgeObj:s,rank:a},m=t.addDummyNode(i,"edge",y,"_d"),a===h&&(y.width=d.width,y.height=d.height,y.dummy="edge-label",y.labelpos=d.labelpos),i.setEdge(o,m,{weight:d.weight},u),v===0&&i.graph().dummyChains.push(m),o=m;i.setEdge(o,l,{weight:d.weight},u)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,l;for(i.setEdge(o.edgeObj,a);o.dummy;)l=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=l,o=i.node(s)})}return LS}var FS,q3;function Vx(){if(q3)return FS;q3=1;const{applyWithChunking:t}=$n();FS={longestPath:e,slack:n};function e(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let l=r.outEdges(o).map(u=>u==null?Number.POSITIVE_INFINITY:s(u.w)-r.edge(u).minlen);var c=t(Math.min,l);return c===Number.POSITIVE_INFINITY&&(c=0),a.rank=c}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return FS}var BS,Y3;function mY(){if(Y3)return BS;Y3=1;var t=As().Graph,e=Vx().slack;BS=n;function n(o){var a=new t({directed:!1}),l=o.nodes()[0],c=o.nodeCount();a.setNode(l,{});for(var u,d;r(a,o)<c;)u=i(a,o),d=a.hasNode(u.v)?e(o,u):-e(o,u),s(a,o,d);return a}function r(o,a){function l(c){a.nodeEdges(c).forEach(u=>{var d=u.v,h=c===d?u.w:d;!o.hasNode(h)&&!e(a,u)&&(o.setNode(h,{}),o.setEdge(c,h,{}),l(h))})}return o.nodes().forEach(l),o.nodeCount()}function i(o,a){return a.edges().reduce((c,u)=>{let d=Number.POSITIVE_INFINITY;return o.hasNode(u.v)!==o.hasNode(u.w)&&(d=e(a,u)),d<c[0]?[d,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,l){o.nodes().forEach(c=>a.node(c).rank+=l)}return BS}var zS,G3;function bIe(){if(G3)return zS;G3=1;var t=mY(),e=Vx().slack,n=Vx().longestPath,r=As().alg.preorder,i=As().alg.postorder,s=$n().simplify;zS=o,o.initLowLimValues=u,o.initCutValues=a,o.calcCutValue=c,o.leaveEdge=h,o.enterEdge=m,o.exchangeEdges=y;function o(k){k=s(k),n(k);var C=t(k);u(C),a(C,k);for(var N,_;N=h(C);)_=m(C,k,N),y(C,k,N,_)}function a(k,C){var N=i(k,k.nodes());N=N.slice(0,N.length-1),N.forEach(_=>l(k,C,_))}function l(k,C,N){var _=k.node(N),A=_.parent;k.edge(N,A).cutvalue=c(k,C,N)}function c(k,C,N){var _=k.node(N),A=_.parent,M=!0,R=C.edge(N,A),D=0;return R||(M=!1,R=C.edge(A,N)),D=R.weight,C.nodeEdges(N).forEach(O=>{var B=O.v===N,F=B?O.w:O.v;if(F!==A){var W=B===M,I=C.edge(O).weight;if(D+=W?I:-I,w(k,N,F)){var Y=k.edge(N,F).cutvalue;D+=W?-Y:Y}}}),D}function u(k,C){arguments.length<2&&(C=k.nodes()[0]),d(k,{},1,C)}function d(k,C,N,_,A){var M=N,R=k.node(_);return C[_]=!0,k.neighbors(_).forEach(D=>{Object.hasOwn(C,D)||(N=d(k,C,N,D,_))}),R.low=M,R.lim=N++,A?R.parent=A:delete R.parent,N}function h(k){return k.edges().find(C=>k.edge(C).cutvalue<0)}function m(k,C,N){var _=N.v,A=N.w;C.hasEdge(_,A)||(_=N.w,A=N.v);var M=k.node(_),R=k.node(A),D=M,O=!1;M.lim>R.lim&&(D=R,O=!0);var B=C.edges().filter(F=>O===b(k,k.node(F.v),D)&&O!==b(k,k.node(F.w),D));return B.reduce((F,W)=>e(C,W)<e(C,F)?W:F)}function y(k,C,N,_){var A=N.v,M=N.w;k.removeEdge(A,M),k.setEdge(_.v,_.w,{}),u(k),a(k,C),v(k,C)}function v(k,C){var N=k.nodes().find(A=>!C.node(A).parent),_=r(k,N);_=_.slice(1),_.forEach(A=>{var M=k.node(A).parent,R=C.edge(A,M),D=!1;R||(R=C.edge(M,A),D=!0),C.node(A).rank=C.node(M).rank+(D?R.minlen:-R.minlen)})}function w(k,C,N){return k.hasEdge(C,N)}function b(k,C,N){return N.low<=C.lim&&C.lim<=N.lim}return zS}var $S,K3;function kIe(){if(K3)return $S;K3=1;var t=Vx(),e=t.longestPath,n=mY(),r=bIe();$S=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":o(l);break;case"longest-path":s(l);break;default:a(l)}}var s=e;function o(l){e(l),n(l)}function a(l){r(l)}return $S}var VS,X3;function SIe(){if(X3)return VS;X3=1,VS=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,l=e(r,i,a.v,a.w),c=l.path,u=l.lca,d=0,h=c[d],m=!0;for(;s!==a.w;){if(o=r.node(s),m){for(;(h=c[d])!==u&&r.node(h).maxRank<o.rank;)d++;h===u&&(m=!1)}if(!m){for(;d<c.length-1&&r.node(h=c[d+1]).minRank<=o.rank;)d++;h=c[d]}r.setParent(s,h),s=r.successors(s)[0]}})}function e(r,i,s,o){let a=[],l=[],c=Math.min(i[s].low,i[o].low),u=Math.max(i[s].lim,i[o].lim),d,h;d=s;do d=r.parent(d),a.push(d);while(d&&(i[d].low>c||u>i[d].lim));for(h=d,d=o;(d=r.parent(d))!==h;)l.push(d);return{path:a.concat(l.reverse()),lca:h}}function n(r){let i={},s=0;function o(a){let l=s;r.children(a).forEach(o),i[a]={low:l,lim:s++}}return r.children().forEach(o),i}return VS}var WS,Z3;function CIe(){if(Z3)return WS;Z3=1;let t=$n();WS={run:e,cleanup:s};function e(o){let a=t.addDummyNode(o,"root",{},"_root"),l=r(o),c=Object.values(l),u=t.applyWithChunking(Math.max,c)-1,d=2*u+1;o.graph().nestingRoot=a,o.edges().forEach(m=>o.edge(m).minlen*=d);let h=i(o)+1;o.children().forEach(m=>n(o,a,d,h,u,l,m)),o.graph().nodeRankFactor=d}function n(o,a,l,c,u,d,h){let m=o.children(h);if(!m.length){h!==a&&o.setEdge(a,h,{weight:0,minlen:l});return}let y=t.addBorderNode(o,"_bt"),v=t.addBorderNode(o,"_bb"),w=o.node(h);o.setParent(y,h),w.borderTop=y,o.setParent(v,h),w.borderBottom=v,m.forEach(b=>{n(o,a,l,c,u,d,b);let k=o.node(b),C=k.borderTop?k.borderTop:b,N=k.borderBottom?k.borderBottom:b,_=k.borderTop?c:2*c,A=C!==N?1:u-d[h]+1;o.setEdge(y,C,{weight:_,minlen:A,nestingEdge:!0}),o.setEdge(N,v,{weight:_,minlen:A,nestingEdge:!0})}),o.parent(h)||o.setEdge(a,y,{weight:0,minlen:u+d[h]})}function r(o){var a={};function l(c,u){var d=o.children(c);d&&d.length&&d.forEach(h=>l(h,u+1)),a[c]=u}return o.children().forEach(c=>l(c,1)),a}function i(o){return o.edges().reduce((a,l)=>a+o.edge(l).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(l=>{var c=o.edge(l);c.nestingEdge&&o.removeEdge(l)})}return WS}var HS,Q3;function EIe(){if(Q3)return HS;Q3=1;let t=$n();HS=e;function e(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,c=a.maxRank+1;l<c;++l)n(r,"borderLeft","_bl",s,a,l),n(r,"borderRight","_br",s,a,l)}}r.children().forEach(i)}function n(r,i,s,o,a,l){let c={width:0,height:0,rank:l,borderType:i},u=a[i][l-1],d=t.addDummyNode(r,"border",c,s);a[i][l]=d,r.setParent(d,o),u&&r.setEdge(u,d,{weight:1})}return HS}var US,J3;function NIe(){if(J3)return US;J3=1,US={adjust:t,undo:e};function t(l){let c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function e(l){let c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(o(l),n(l))}function n(l){l.nodes().forEach(c=>r(l.node(c))),l.edges().forEach(c=>r(l.edge(c)))}function r(l){let c=l.width;l.width=l.height,l.height=c}function i(l){l.nodes().forEach(c=>s(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(s),Object.hasOwn(u,"y")&&s(u)})}function s(l){l.y=-l.y}function o(l){l.nodes().forEach(c=>a(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(a),Object.hasOwn(u,"x")&&a(u)})}function a(l){let c=l.x;l.x=l.y,l.y=c}return US}var qS,eF;function TIe(){if(eF)return qS;eF=1;let t=$n();qS=e;function e(n){let r={},i=n.nodes().filter(u=>!n.children(u).length),s=i.map(u=>n.node(u).rank),o=t.applyWithChunking(Math.max,s),a=t.range(o+1).map(()=>[]);function l(u){if(r[u])return;r[u]=!0;let d=n.node(u);a[d.rank].push(u),n.successors(u).forEach(l)}return i.sort((u,d)=>n.node(u).rank-n.node(d).rank).forEach(l),a}return qS}var YS,tF;function AIe(){if(tF)return YS;tF=1;let t=$n().zipObject;YS=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((h,m)=>m)),a=i.flatMap(h=>r.outEdges(h).map(m=>({pos:o[m.w],weight:r.edge(m).weight})).sort((m,y)=>m.pos-y.pos)),l=1;for(;l<s.length;)l<<=1;let c=2*l-1;l-=1;let u=new Array(c).fill(0),d=0;return a.forEach(h=>{let m=h.pos+l;u[m]+=h.weight;let y=0;for(;m>0;)m%2&&(y+=u[m+1]),m=m-1>>1,u[m]+=h.weight;d+=h.weight*y}),d}return YS}var GS,nF;function _Ie(){if(nF)return GS;nF=1,GS=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let l=e.edge(a),c=e.node(a.v);return{sum:o.sum+l.weight*c.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return GS}var KS,rF;function MIe(){if(rF)return KS;rF=1;let t=$n();KS=e;function e(i,s){let o={};i.forEach((l,c)=>{let u=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:c};l.barycenter!==void 0&&(u.barycenter=l.barycenter,u.weight=l.weight)}),s.edges().forEach(l=>{let c=o[l.v],u=o[l.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(o[l.w]))});let a=Object.values(o).filter(l=>!l.indegree);return n(a)}function n(i){let s=[];function o(l){return c=>{c.merged||(c.barycenter===void 0||l.barycenter===void 0||c.barycenter>=l.barycenter)&&r(l,c)}}function a(l){return c=>{c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){let l=i.pop();s.push(l),l.in.reverse().forEach(o(l)),l.out.forEach(a(l))}return s.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return KS}var XS,iF;function PIe(){if(iF)return XS;iF=1;let t=$n();XS=e;function e(i,s){let o=t.partition(i,y=>Object.hasOwn(y,"barycenter")),a=o.lhs,l=o.rhs.sort((y,v)=>v.i-y.i),c=[],u=0,d=0,h=0;a.sort(r(!!s)),h=n(c,l,h),a.forEach(y=>{h+=y.vs.length,c.push(y.vs),u+=y.barycenter*y.weight,d+=y.weight,h=n(c,l,h)});let m={vs:c.flat(!0)};return d&&(m.barycenter=u/d,m.weight=d),m}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return XS}var ZS,sF;function RIe(){if(sF)return ZS;sF=1;let t=_Ie(),e=MIe(),n=PIe();ZS=r;function r(o,a,l,c){let u=o.children(a),d=o.node(a),h=d?d.borderLeft:void 0,m=d?d.borderRight:void 0,y={};h&&(u=u.filter(k=>k!==h&&k!==m));let v=t(o,u);v.forEach(k=>{if(o.children(k.v).length){let C=r(o,k.v,l,c);y[k.v]=C,Object.hasOwn(C,"barycenter")&&s(k,C)}});let w=e(v,l);i(w,y);let b=n(w,c);if(h&&(b.vs=[h,b.vs,m].flat(!0),o.predecessors(h).length)){let k=o.node(o.predecessors(h)[0]),C=o.node(o.predecessors(m)[0]);Object.hasOwn(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+k.order+C.order)/(b.weight+2),b.weight+=2}return b}function i(o,a){o.forEach(l=>{l.vs=l.vs.flatMap(c=>a[c]?a[c].vs:c)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return ZS}var QS,oF;function OIe(){if(oF)return QS;oF=1;let t=As().Graph,e=$n();QS=n;function n(i,s,o){let a=r(i),l=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>i.node(c));return i.nodes().forEach(c=>{let u=i.node(c),d=i.parent(c);(u.rank===s||u.minRank<=s&&s<=u.maxRank)&&(l.setNode(c),l.setParent(c,d||a),i[o](c).forEach(h=>{let m=h.v===c?h.w:h.v,y=l.edge(m,c),v=y!==void 0?y.weight:0;l.setEdge(m,c,{weight:i.edge(h).weight+v})}),Object.hasOwn(u,"minRank")&&l.setNode(c,{borderLeft:u.borderLeft[s],borderRight:u.borderRight[s]}))}),l}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return QS}var JS,aF;function DIe(){if(aF)return JS;aF=1,JS=t;function t(e,n,r){let i={},s;r.forEach(o=>{let a=e.parent(o),l,c;for(;a;){if(l=e.parent(a),l?(c=i[l],i[l]=a):(c=s,s=a),c&&c!==a){n.setEdge(c,a);return}a=l}})}return JS}var eC,lF;function jIe(){if(lF)return eC;lF=1;let t=TIe(),e=AIe(),n=RIe(),r=OIe(),i=DIe(),s=As().Graph,o=$n();eC=a;function a(d,h){if(h&&typeof h.customOrder=="function"){h.customOrder(d,a);return}let m=o.maxRank(d),y=l(d,o.range(1,m+1),"inEdges"),v=l(d,o.range(m-1,-1,-1),"outEdges"),w=t(d);if(u(d,w),h&&h.disableOptimalOrderHeuristic)return;let b=Number.POSITIVE_INFINITY,k;for(let C=0,N=0;N<4;++C,++N){c(C%2?y:v,C%4>=2),w=o.buildLayerMatrix(d);let _=e(d,w);_<b&&(N=0,k=Object.assign({},w),b=_)}u(d,k)}function l(d,h,m){return h.map(function(y){return r(d,y,m)})}function c(d,h){let m=new s;d.forEach(function(y){let v=y.graph().root,w=n(y,v,m,h);w.vs.forEach((b,k)=>y.node(b).order=k),i(y,m,w.vs)})}function u(d,h){Object.values(h).forEach(m=>m.forEach((y,v)=>d.node(y).order=v))}return eC}var tC,cF;function IIe(){if(cF)return tC;cF=1;let t=As().Graph,e=$n();tC={positionX:m,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:u,balance:h};function n(w,b){let k={};function C(N,_){let A=0,M=0,R=N.length,D=_[_.length-1];return _.forEach((O,B)=>{let F=i(w,O),W=F?w.node(F).order:R;(F||O===D)&&(_.slice(M,B+1).forEach(I=>{w.predecessors(I).forEach(Y=>{let V=w.node(Y),G=V.order;(G<A||W<G)&&!(V.dummy&&w.node(I).dummy)&&s(k,Y,I)})}),M=B+1,A=W)}),_}return b.length&&b.reduce(C),k}function r(w,b){let k={};function C(_,A,M,R,D){let O;e.range(A,M).forEach(B=>{O=_[B],w.node(O).dummy&&w.predecessors(O).forEach(F=>{let W=w.node(F);W.dummy&&(W.order<R||W.order>D)&&s(k,F,O)})})}function N(_,A){let M=-1,R,D=0;return A.forEach((O,B)=>{if(w.node(O).dummy==="border"){let F=w.predecessors(O);F.length&&(R=w.node(F[0]).order,C(A,D,B,M,R),D=B,M=R)}C(A,D,A.length,R,_.length)}),A}return b.length&&b.reduce(N),k}function i(w,b){if(w.node(b).dummy)return w.predecessors(b).find(k=>w.node(k).dummy)}function s(w,b,k){if(b>k){let N=b;b=k,k=N}let C=w[b];C||(w[b]=C={}),C[k]=!0}function o(w,b,k){if(b>k){let C=b;b=k,k=C}return!!w[b]&&Object.hasOwn(w[b],k)}function a(w,b,k,C){let N={},_={},A={};return b.forEach(M=>{M.forEach((R,D)=>{N[R]=R,_[R]=R,A[R]=D})}),b.forEach(M=>{let R=-1;M.forEach(D=>{let O=C(D);if(O.length){O=O.sort((F,W)=>A[F]-A[W]);let B=(O.length-1)/2;for(let F=Math.floor(B),W=Math.ceil(B);F<=W;++F){let I=O[F];_[D]===D&&R<A[I]&&!o(k,D,I)&&(_[I]=D,_[D]=N[D]=N[I],R=A[I])}}})}),{root:N,align:_}}function l(w,b,k,C,N){let _={},A=c(w,b,k,N),M=N?"borderLeft":"borderRight";function R(B,F){let W=A.nodes(),I=W.pop(),Y={};for(;I;)Y[I]?B(I):(Y[I]=!0,W.push(I),W=W.concat(F(I))),I=W.pop()}function D(B){_[B]=A.inEdges(B).reduce((F,W)=>Math.max(F,_[W.v]+A.edge(W)),0)}function O(B){let F=A.outEdges(B).reduce((I,Y)=>Math.min(I,_[Y.w]-A.edge(Y)),Number.POSITIVE_INFINITY),W=w.node(B);F!==Number.POSITIVE_INFINITY&&W.borderType!==M&&(_[B]=Math.max(_[B],F))}return R(D,A.predecessors.bind(A)),R(O,A.successors.bind(A)),Object.keys(C).forEach(B=>_[B]=_[k[B]]),_}function c(w,b,k,C){let N=new t,_=w.graph(),A=y(_.nodesep,_.edgesep,C);return b.forEach(M=>{let R;M.forEach(D=>{let O=k[D];if(N.setNode(O),R){var B=k[R],F=N.edge(B,O);N.setEdge(B,O,Math.max(A(w,D,R),F||0))}R=D})}),N}function u(w,b){return Object.values(b).reduce((k,C)=>{let N=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY;Object.entries(C).forEach(([M,R])=>{let D=v(w,M)/2;N=Math.max(R+D,N),_=Math.min(R-D,_)});const A=N-_;return A<k[0]&&(k=[A,C]),k},[Number.POSITIVE_INFINITY,null])[1]}function d(w,b){let k=Object.values(b),C=e.applyWithChunking(Math.min,k),N=e.applyWithChunking(Math.max,k);["u","d"].forEach(_=>{["l","r"].forEach(A=>{let M=_+A,R=w[M];if(R===b)return;let D=Object.values(R),O=C-e.applyWithChunking(Math.min,D);A!=="l"&&(O=N-e.applyWithChunking(Math.max,D)),O&&(w[M]=e.mapValues(R,B=>B+O))})})}function h(w,b){return e.mapValues(w.ul,(k,C)=>{if(b)return w[b.toLowerCase()][C];{let N=Object.values(w).map(_=>_[C]).sort((_,A)=>_-A);return(N[1]+N[2])/2}})}function m(w){let b=e.buildLayerMatrix(w),k=Object.assign(n(w,b),r(w,b)),C={},N;["u","d"].forEach(A=>{N=A==="u"?b:Object.values(b).reverse(),["l","r"].forEach(M=>{M==="r"&&(N=N.map(B=>Object.values(B).reverse()));let R=(A==="u"?w.predecessors:w.successors).bind(w),D=a(w,N,k,R),O=l(w,N,D.root,D.align,M==="r");M==="r"&&(O=e.mapValues(O,B=>-B)),C[A+M]=O})});let _=u(w,C);return d(C,_),h(C,w.graph().align)}function y(w,b,k){return(C,N,_)=>{let A=C.node(N),M=C.node(_),R=0,D;if(R+=A.width/2,Object.hasOwn(A,"labelpos"))switch(A.labelpos.toLowerCase()){case"l":D=-A.width/2;break;case"r":D=A.width/2;break}if(D&&(R+=k?D:-D),D=0,R+=(A.dummy?b:w)/2,R+=(M.dummy?b:w)/2,R+=M.width/2,Object.hasOwn(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":D=M.width/2;break;case"r":D=-M.width/2;break}return D&&(R+=k?D:-D),D=0,R}}function v(w,b){return w.node(b).width}return tC}var nC,uF;function LIe(){if(uF)return nC;uF=1;let t=$n(),e=IIe().positionX;nC=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(l=>{const c=l.reduce((u,d)=>{const h=i.node(d).height;return u>h?u:h},0);l.forEach(u=>i.node(u).y=a+c/2),a+=c+o})}return nC}var rC,dF;function FIe(){if(dF)return rC;dF=1;let t=vIe(),e=wIe(),n=kIe(),r=$n().normalizeRanks,i=SIe(),s=$n().removeEmptyRanks,o=CIe(),a=EIe(),l=NIe(),c=jIe(),u=LIe(),d=$n(),h=As().Graph;rC=m;function m(j,K){let X=K&&K.debugTiming?d.time:d.notime;X("layout",()=>{let J=X("  buildLayoutGraph",()=>R(j));X("  runLayout",()=>y(J,X,K)),X("  updateInputGraph",()=>v(j,J))})}function y(j,K,X){K("    makeSpaceForEdgeLabels",()=>D(j)),K("    removeSelfEdges",()=>H(j)),K("    acyclic",()=>t.run(j)),K("    nestingGraph.run",()=>o.run(j)),K("    rank",()=>n(d.asNonCompoundGraph(j))),K("    injectEdgeLabelProxies",()=>O(j)),K("    removeEmptyRanks",()=>s(j)),K("    nestingGraph.cleanup",()=>o.cleanup(j)),K("    normalizeRanks",()=>r(j)),K("    assignRankMinMax",()=>B(j)),K("    removeEdgeLabelProxies",()=>F(j)),K("    normalize.run",()=>e.run(j)),K("    parentDummyChains",()=>i(j)),K("    addBorderSegments",()=>a(j)),K("    order",()=>c(j,X)),K("    insertSelfEdges",()=>$(j)),K("    adjustCoordinateSystem",()=>l.adjust(j)),K("    position",()=>u(j)),K("    positionSelfEdges",()=>L(j)),K("    removeBorderNodes",()=>G(j)),K("    normalize.undo",()=>e.undo(j)),K("    fixupEdgeLabelCoords",()=>Y(j)),K("    undoCoordinateSystem",()=>l.undo(j)),K("    translateGraph",()=>W(j)),K("    assignNodeIntersects",()=>I(j)),K("    reversePoints",()=>V(j)),K("    acyclic.undo",()=>t.undo(j))}function v(j,K){j.nodes().forEach(X=>{let J=j.node(X),Z=K.node(X);J&&(J.x=Z.x,J.y=Z.y,J.rank=Z.rank,K.children(X).length&&(J.width=Z.width,J.height=Z.height))}),j.edges().forEach(X=>{let J=j.edge(X),Z=K.edge(X);J.points=Z.points,Object.hasOwn(Z,"x")&&(J.x=Z.x,J.y=Z.y)}),j.graph().width=K.graph().width,j.graph().height=K.graph().height}let w=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k=["acyclicer","ranker","rankdir","align"],C=["width","height"],N={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function R(j){let K=new h({multigraph:!0,compound:!0}),X=U(j.graph());return K.setGraph(Object.assign({},b,q(X,w),d.pick(X,k))),j.nodes().forEach(J=>{let Z=U(j.node(J));const oe=q(Z,C);Object.keys(N).forEach(fe=>{oe[fe]===void 0&&(oe[fe]=N[fe])}),K.setNode(J,oe),K.setParent(J,j.parent(J))}),j.edges().forEach(J=>{let Z=U(j.edge(J));K.setEdge(J,Object.assign({},A,q(Z,_),d.pick(Z,M)))}),K}function D(j){let K=j.graph();K.ranksep/=2,j.edges().forEach(X=>{let J=j.edge(X);J.minlen*=2,J.labelpos.toLowerCase()!=="c"&&(K.rankdir==="TB"||K.rankdir==="BT"?J.width+=J.labeloffset:J.height+=J.labeloffset)})}function O(j){j.edges().forEach(K=>{let X=j.edge(K);if(X.width&&X.height){let J=j.node(K.v),oe={rank:(j.node(K.w).rank-J.rank)/2+J.rank,e:K};d.addDummyNode(j,"edge-proxy",oe,"_ep")}})}function B(j){let K=0;j.nodes().forEach(X=>{let J=j.node(X);J.borderTop&&(J.minRank=j.node(J.borderTop).rank,J.maxRank=j.node(J.borderBottom).rank,K=Math.max(K,J.maxRank))}),j.graph().maxRank=K}function F(j){j.nodes().forEach(K=>{let X=j.node(K);X.dummy==="edge-proxy"&&(j.edge(X.e).labelRank=X.rank,j.removeNode(K))})}function W(j){let K=Number.POSITIVE_INFINITY,X=0,J=Number.POSITIVE_INFINITY,Z=0,oe=j.graph(),fe=oe.marginx||0,me=oe.marginy||0;function Te(xe){let be=xe.x,Pe=xe.y,Ze=xe.width,Qe=xe.height;K=Math.min(K,be-Ze/2),X=Math.max(X,be+Ze/2),J=Math.min(J,Pe-Qe/2),Z=Math.max(Z,Pe+Qe/2)}j.nodes().forEach(xe=>Te(j.node(xe))),j.edges().forEach(xe=>{let be=j.edge(xe);Object.hasOwn(be,"x")&&Te(be)}),K-=fe,J-=me,j.nodes().forEach(xe=>{let be=j.node(xe);be.x-=K,be.y-=J}),j.edges().forEach(xe=>{let be=j.edge(xe);be.points.forEach(Pe=>{Pe.x-=K,Pe.y-=J}),Object.hasOwn(be,"x")&&(be.x-=K),Object.hasOwn(be,"y")&&(be.y-=J)}),oe.width=X-K+fe,oe.height=Z-J+me}function I(j){j.edges().forEach(K=>{let X=j.edge(K),J=j.node(K.v),Z=j.node(K.w),oe,fe;X.points?(oe=X.points[0],fe=X.points[X.points.length-1]):(X.points=[],oe=Z,fe=J),X.points.unshift(d.intersectRect(J,oe)),X.points.push(d.intersectRect(Z,fe))})}function Y(j){j.edges().forEach(K=>{let X=j.edge(K);if(Object.hasOwn(X,"x"))switch((X.labelpos==="l"||X.labelpos==="r")&&(X.width-=X.labeloffset),X.labelpos){case"l":X.x-=X.width/2+X.labeloffset;break;case"r":X.x+=X.width/2+X.labeloffset;break}})}function V(j){j.edges().forEach(K=>{let X=j.edge(K);X.reversed&&X.points.reverse()})}function G(j){j.nodes().forEach(K=>{if(j.children(K).length){let X=j.node(K),J=j.node(X.borderTop),Z=j.node(X.borderBottom),oe=j.node(X.borderLeft[X.borderLeft.length-1]),fe=j.node(X.borderRight[X.borderRight.length-1]);X.width=Math.abs(fe.x-oe.x),X.height=Math.abs(Z.y-J.y),X.x=oe.x+X.width/2,X.y=J.y+X.height/2}}),j.nodes().forEach(K=>{j.node(K).dummy==="border"&&j.removeNode(K)})}function H(j){j.edges().forEach(K=>{if(K.v===K.w){var X=j.node(K.v);X.selfEdges||(X.selfEdges=[]),X.selfEdges.push({e:K,label:j.edge(K)}),j.removeEdge(K)}})}function $(j){var K=d.buildLayerMatrix(j);K.forEach(X=>{var J=0;X.forEach((Z,oe)=>{var fe=j.node(Z);fe.order=oe+J,(fe.selfEdges||[]).forEach(me=>{d.addDummyNode(j,"selfedge",{width:me.label.width,height:me.label.height,rank:fe.rank,order:oe+ ++J,e:me.e,label:me.label},"_se")}),delete fe.selfEdges})})}function L(j){j.nodes().forEach(K=>{var X=j.node(K);if(X.dummy==="selfedge"){var J=j.node(X.e.v),Z=J.x+J.width/2,oe=J.y,fe=X.x-Z,me=J.height/2;j.setEdge(X.e,X.label),j.removeNode(K),X.label.points=[{x:Z+2*fe/3,y:oe-me},{x:Z+5*fe/6,y:oe-me},{x:Z+fe,y:oe},{x:Z+5*fe/6,y:oe+me},{x:Z+2*fe/3,y:oe+me}],X.label.x=X.x,X.label.y=X.y}})}function q(j,K){return d.mapValues(d.pick(j,K),Number)}function U(j){var K={};return j&&Object.entries(j).forEach(([X,J])=>{typeof X=="string"&&(X=X.toLowerCase()),K[X]=J}),K}return rC}var iC,fF;function BIe(){if(fF)return iC;fF=1;let t=$n(),e=As().Graph;iC={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let l="layer"+a;s.setNode(l,{rank:"same"}),o.reduce((c,u)=>(s.setEdge(c,u,{style:"invis"}),u))}),s}return iC}var sC,hF;function zIe(){return hF||(hF=1,sC="1.1.4"),sC}var oC,pF;function $Ie(){return pF||(pF=1,oC={graphlib:As(),layout:FIe(),debug:BIe(),util:{time:$n().time,notime:$n().notime},version:zIe()}),oC}var VIe=$Ie();const mF=Od(VIe);function gF(t){let e=[];if(!t)return e;function n(r,i){const s=Object.entries(r).find(([o])=>o.includes("."));if(s){const[o,a]=s,[l,...c]=o.split("."),u={step:{id:l},path:c.join(".")};e.push({ref:u,query:{[a===!0||a===!1?"is":"eq"]:String(a)},conj:i})}if("ref"in r){const{ref:o,query:a}=r;e.push({ref:o,query:a,conj:i})}if("and"in r)for(const o of r.and)n({...o},"and");if("or"in r)for(const o of r.or)n({...o},"or")}return n(t),e}const yF=(t,e)=>{const n=new mF.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return n.setGraph({rankdir:"TB"}),e.forEach(r=>n.setEdge(r.source,r.target)),t.forEach(r=>{var i,s;return n.setNode(r.id,{...r,width:((i=r.measured)==null?void 0:i.width)??274,height:((s=r.measured)==null?void 0:s.height)??100})}),mF.layout(n),{nodes:t.map(r=>{var a,l;const i=n.node(r.id),s=i.x-(((a=r.measured)==null?void 0:a.width)??274)/2,o=i.y-(((l=r.measured)==null?void 0:l.height)??100)/2;return{...r,position:{x:s,y:o}}}),edges:e}},Hy={animated:!0,markerEnd:{type:Wp.ArrowClosed,width:20,height:20,color:"#8e8e8e"}},WIe=({stepGraph:t,stepSubscriberGraph:e})=>{if(!t)return{nodes:[],edges:[]};const{initial:n,...r}=t;if(!n.length)return{nodes:[],edges:[]};let i=[],s=[];for(const[l,c]of n.entries()){const d=c.step.id,h=[c,...(r==null?void 0:r[d])||[]].reduce((w,b,k)=>{var N;const C={...b.step,label:b.step.id,type:"default-node",id:i.some(_=>_.id===b.step.id)?`${b.step.id}-${k}`:b.step.id};if((N=b.config)!=null&&N.when){const _=gF(b.config.when),A={id:crypto.randomUUID(),conditions:_,type:"condition-node"};w.push(A)}return w.push(C),w},[]),m=[...h].map((w,b)=>{const k=e==null?void 0:e[w.id];return{id:w.id,position:{x:l*300,y:b*100},type:w.type,data:{conditions:w.conditions,label:w.label,description:w.description,withoutTopHandle:k!=null&&k[w.id]?!1:b===0,withoutBottomHandle:k?!1:b===h.length-1}}});i=[...i,...m];const v=[...h].slice(0,-1).map((w,b)=>({id:`e${w.id}-${h[b+1].id}`,source:w.id,target:h[b+1].id,...Hy}));s=[...s,...v]}if(!e||!Object.keys(e).length){const{nodes:l,edges:c}=yF(i,s);return{nodes:l,edges:c}}for(const[l,c]of Object.entries(e)){const{initial:u,...d}=c;if(u.length)for(const[h,m]of u.entries()){const v=m.step.id,w=[m,...(d==null?void 0:d[v])||[]].map(D=>D.step),b=[m,...(d==null?void 0:d[v])||[]].reduce((D,O,B)=>{var W;const F={...O.step,label:O.step.id,type:"default-node",id:i.some(I=>I.id===O.step.id)?`${O.step.id}-${B}`:O.step.id};if((W=O.config)!=null&&W.when){const I=gF(O.config.when),Y={id:crypto.randomUUID(),conditions:I,type:"condition-node"};D.push(Y)}return D.push(F),D},[]),k=[...b].map((D,O)=>{const B=e==null?void 0:e[D.id];return{id:D.id,position:{x:h*300+300,y:O*100+100},type:D.type,data:{conditions:D.conditions,label:D.label,description:D.description,withoutBottomHandle:w.some(({id:F})=>F===D.label&&F!==D.id)||B?!1:O===b.length-1}}});i=[...i,...k];const N=[...b].slice(0,-1).map((D,O)=>({id:`e${D.id}-${b[O+1].id}`,source:D.id,target:b[O+1].id,...Hy})),_=b[0],A=b[b.length-1],M=l===_.id?[]:[{id:`e${l}-${_.id}`,source:l,target:_.id,...Hy}],R=w.some(({id:D})=>D===A.label&&D!==A.id)?[{id:`e${A.id}-${l}`,source:A.id,target:l,...Hy}]:[];s=[...s,...M,...N,...R]}}const{nodes:o,edges:a}=yF(i,s);return{nodes:o,edges:a}};function HIe({data:t}){const{conditions:e}=t;return g.jsxs("div",{className:ve("bg-mastra-bg-3 rounded-md min-w-[154.23px] max-w-[274px] flex flex-col p-2 gap-2"),children:[g.jsx(Sl,{type:"target",position:Ke.Top,style:{visibility:"hidden"}}),e.map((n,r)=>{var i;return g.jsx(S.Fragment,{children:n.ref.step?g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Fn,{size:"xs",weight:"medium",className:"text-mastra-el-3 bg-mastra-bg-11 my-auto block rounded-[0.125rem] px-2 py-1 text-[10px]",children:((i=n.conj)==null?void 0:i.toLocaleUpperCase())||"WHEN"}),g.jsxs(Fn,{size:"xs",className:" text-mastra-el-3",children:[n.ref.step.id||n.ref.step,"'s ",n.ref.path," ",Object.entries(n.query).map(([s,o])=>g.jsxs("span",{className:"flex items-center gap-0.5",children:[g.jsx(Fn,{size:"xs",className:"lowercase",children:s}),g.jsx(Fn,{size:"xs",children:o})]},`${s}-${o}`))]})]}):null},`${n.ref.path}-${r}`)}),g.jsx(Sl,{type:"source",position:Ke.Bottom,style:{visibility:"hidden"}})]})}function UIe({data:t}){const{label:e,description:n,withoutTopHandle:r,withoutBottomHandle:i}=t;return g.jsxs("div",{className:ve("bg-mastra-bg-8 rounded-md w-[274px]"),children:[!r&&g.jsx(Sl,{type:"target",position:Ke.Top,style:{visibility:"hidden"}}),g.jsx("div",{className:"p-2",children:g.jsxs("div",{className:"text-sm bg-mastra-bg-9 flex items-center gap-[6px] rounded-sm  p-2",children:[g.jsx(HX,{className:"text-current w-4 h-4"}),g.jsx(Fn,{size:"xs",weight:"medium",className:"text-mastra-el-6 capitalize",children:e})]})}),n&&g.jsx("div",{className:"bg-mastra-bg-4 rounded-b-md p-2 text-[10px] text-left text-mastra-el-4",children:n}),!i&&g.jsx(Sl,{type:"source",position:Ke.Bottom,style:{visibility:"hidden"}})]})}function qIe({workflow:t}){const{nodes:e,edges:n}=WIe(t),[r,i,s]=Rje(e),[o]=Oje(n),a={"default-node":UIe,"condition-node":HIe};return g.jsx("div",{className:"w-full h-full",children:g.jsxs(Pje,{nodes:r,edges:o,nodeTypes:a,onNodesChange:s,fitView:!0,fitViewOptions:{maxZoom:.85},children:[g.jsx(Uje,{}),g.jsx(rIe,{pannable:!0,zoomable:!0,maskColor:"#121212",bgColor:"#171717",nodeColor:"#2c2c2c"}),g.jsx(Fje,{variant:na.Dots,gap:12,size:.5})]})})}function YIe({workflowId:t}){return g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs w-[400px]",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"GET"}),g.jsx("p",{className:"text-mastra-el-5",children:"/api/workflows"})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"GET"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/workflows/",t]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/workflows/",t,"/execute"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/workflows/",t,"/watch"]})]}),g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-2",children:[g.jsx("p",{className:"text-mastra-el-3",children:"POST"}),g.jsxs("p",{className:"text-mastra-el-5",children:["/api/workflows/",t,"/resume"]})]})]})})}function GIe({runId:t}){const{logs:e,isLoading:n,refetchLogs:r}=L$(t);return g.jsxs(Bn,{className:"h-[calc(100vh-126px)] px-4 pb-4 text-xs w-[400px]",children:[g.jsx("div",{className:"flex justify-end sticky top-0 bg-mastra-bg-2 py-2",children:g.jsx(pt,{variant:"outline",onClick:()=>r(t),children:n?g.jsx(nd,{className:"w-4 h-4 animate-spin"}):g.jsx(nd,{className:"w-4 h-4"})})}),g.jsx("div",{className:"space-y-4",children:e.length===0?g.jsxs("p",{className:"text-gray-300/60",children:["No log drains. By default, logs are sent to the console. To configure log drains see"," ",g.jsx("a",{href:"https://mastra.ai/docs/reference/observability/create-logger#upstash-logger-remote-log-drain",target:"_blank",rel:"noopener",className:" hover:text-gray-100 underline",children:"docs."})]}):e.map(i=>{const s=JSON.parse(i.message);return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("p",{className:"text-mastra-el-4",children:["[",i.timestamp,"]"]}),g.jsxs("p",{className:"text-mastra-el-5",children:["[",i.level,"]"]})]}),g.jsx("p",{className:"text-mastra-el-5 whitespace-pre-wrap",children:g.jsx("code",{children:JSON.stringify(s,null,2)})})]},i.timestamp)})})]})}function KIe({workflowId:t,setRunId:e}){const{isLoading:n,workflow:r}=Kx(t),{executeWorkflow:i,isExecutingWorkflow:s}=bQ(),{watchWorkflow:o,watchResult:a}=kQ(),{resumeWorkflow:l,isResumingWorkflow:c}=SQ(),[u,d]=S.useState(null),[h,m]=S.useState([]),y=r==null?void 0:r.triggerSchema,v=async k=>{if(!r)return;o({workflowId:t});const C=await i({workflowId:t,input:k});d(C),e(C.runId)},w=async k=>{if(!r)return;const{stepId:C,runId:N,context:_}=k,A=await l({stepId:C,runId:N,context:_,workflowId:t});d(A)};if(S.useEffect(()=>{if(!(a!=null&&a.activePaths)||!(u!=null&&u.runId))return;const k=a.activePaths.filter(C=>{var N,_,A;return((A=(_=(N=a.context)==null?void 0:N.steps)==null?void 0:_[C.stepId])==null?void 0:A.status)==="suspended"}).map(C=>({stepId:C.stepId,runId:u.runId}));m(k)},[a,u]),n)return g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs",children:g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[g.jsx(Ue,{className:"h-3"}),g.jsx(Ue,{className:"h-3"})]})})});if(!r)return null;if(!y)return g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs w-[400px]",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"space-y-4 px-4",children:g.jsx(pt,{className:"w-full",disabled:s,onClick:()=>v(null),children:s?g.jsx(uC,{className:"h-4 w-4 animate-spin"}):"Trigger"})}),g.jsxs("div",{children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3  px-4",size:"xs",children:"Output"}),g.jsx("div",{className:"flex flex-col gap-2",children:g.jsx(A0,{classname:"absolute z-40 top-4 right-4 w-8 h-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-150 ease-in-out",content:JSON.stringify(u??{},null,2)})}),g.jsx(CN,{className:"w-[368px] overflow-x-auto",code:JSON.stringify(u??{},null,2),language:"json"})]})]})});const b=k2(v2(w2(y)));return g.jsx(Bn,{className:"h-[calc(100vh-126px)] pt-2 px-4 pb-4 text-xs w-[400px]",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[h.length>0?h==null?void 0:h.map(k=>g.jsxs("div",{className:"px-4",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3",size:"xs",children:k.stepId}),g.jsx(SN,{schema:Gt.record(Gt.string(),Gt.any()),isSubmitLoading:c,submitButtonLabel:"Resume",onSubmit:C=>{w({stepId:k.stepId,runId:k.runId,context:C})}})]})):g.jsx(g.Fragment,{}),g.jsxs("div",{className:"flex items-center justify-between w-full",children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3 px-4",size:"xs",children:"Input"}),c?g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(uC,{className:"animate-spin w-3 h-3 text-mastra-el-accent"})," Resuming workflow"]}):g.jsx(g.Fragment,{})]}),g.jsx(SN,{schema:b,isSubmitLoading:s,onSubmit:k=>{v(k)}})]}),g.jsxs("div",{children:[g.jsx(Fn,{variant:"secondary",className:"text-mastra-el-3  px-4",size:"xs",children:"Output"}),g.jsx("div",{className:"flex flex-col gap-2",children:g.jsx(A0,{classname:"absolute z-40 top-4 right-4 w-8 h-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-150 ease-in-out",content:JSON.stringify(u??{},null,2)})}),g.jsx(CN,{className:"w-[368px] overflow-x-auto",code:JSON.stringify(u??{},null,2),language:"json"})]})]})})}function Wx({workflowId:t}){const[e,n]=S.useState("");return g.jsxs(dA,{defaultValue:"run",children:[g.jsxs(dv,{className:"flex shrink-0 border-b",children:[g.jsx(Zs,{value:"run",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Run"})}),g.jsx(Zs,{value:"endpoints",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Endpoints"})}),g.jsx(Zs,{value:"logs",className:"group",children:g.jsx("p",{className:"text-xs p-3 text-mastra-el-3 group-data-[state=active]:text-mastra-el-5 group-data-[state=active]:border-b-2 group-data-[state=active]:pb-2.5 border-white",children:"Log Drains"})})]}),g.jsx(Qs,{value:"run",children:t?g.jsx(KIe,{workflowId:t,setRunId:n}):null}),g.jsx(Qs,{value:"endpoints",children:g.jsx(YIe,{workflowId:t})}),g.jsx(Qs,{value:"logs",children:g.jsx(GIe,{runId:e})})]})}function XIe(){const{workflowId:t}=fa(),{workflow:e,isLoading:n}=Kx(t);return n?g.jsxs("main",{className:"flex-1 relative grid grid-cols-[1fr_400px] divide-x",children:[g.jsx("div",{className:"p-4",children:g.jsx(Ue,{className:"h-[600px]"})}),g.jsx("div",{className:"flex flex-col",children:g.jsx(Wx,{workflowId:t})})]}):g.jsxs("main",{className:"flex-1 relative grid grid-cols-[1fr_400px] divide-x",children:[g.jsx(qIe,{workflow:e}),g.jsx("div",{className:"flex flex-col",children:g.jsx(Wx,{workflowId:t})})]})}function ZIe({workflowId:t,workflowName:e}){const{traces:n,error:r,firstCallLoading:i}=V6(e,!0),{isOpen:s}=S.useContext(Ps),{sidebarWidth:o,isDragging:a,handleMouseDown:l,containerRef:c}=Nv({defaultWidth:60,minimumWidth:50,maximumWidth:90});return i?g.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[g.jsx("div",{className:"h-full w-[calc(100%_-_400px)]",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"text-mastra-el-3",children:"Trace"}),g.jsxs(yt,{className:"text-mastra-el-3 flex items-center gap-1",children:[g.jsx(Vh,{className:"h-3 w-3"})," Trace Id"]}),g.jsx(yt,{className:"text-mastra-el-3",children:"Started"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Total Duration"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:g.jsxs(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})}),g.jsx(ot,{children:g.jsx(Ue,{className:"h-8 w-full"})})]})})]})}),g.jsx(aC,{workflowId:t})]}):!n||n.length===0?g.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[g.jsx("div",{className:"h-full w-[calc(100%_-_400px)]",children:g.jsxs(fo,{children:[g.jsx(ho,{className:"bg-[#171717] sticky top-0 z-10",children:g.jsxs(cn,{className:"border-gray-6 border-b-[0.1px] text-[0.8125rem]",children:[g.jsx(yt,{className:"text-mastra-el-3",children:"Trace"}),g.jsxs(yt,{className:"text-mastra-el-3 flex items-center gap-1",children:[g.jsx(Vh,{className:"h-3 w-3"})," Trace Id"]}),g.jsx(yt,{className:"text-mastra-el-3",children:"Started"}),g.jsx(yt,{className:"text-mastra-el-3",children:"Total Duration"})]})}),g.jsx(po,{className:"border-b border-gray-6",children:g.jsx(cn,{className:"border-b-gray-6 border-b-[0.1px] text-[0.8125rem]",children:g.jsx(ot,{colSpan:4,className:"h-24 text-center",children:(r==null?void 0:r.message)||"No traces found"})})})]})}),g.jsx(aC,{workflowId:t})]}):g.jsxs("main",{className:"flex-1 relative overflow-hidden",ref:c,children:[g.jsx(W6,{traces:n}),g.jsx(aC,{workflowId:t,sidebarWidth:o,className:ve(s?"grid grid-cols-2 w-[60%]":""),isDragging:a,handleMouseDown:l})]})}function aC({workflowId:t,className:e,sidebarWidth:n,isDragging:r,handleMouseDown:i}){const{openDetail:s,isOpen:o}=S.useContext(Ps),{sidebarWidth:a,isDragging:l,handleMouseDown:c,containerRef:u}=Nv({defaultWidth:50,minimumWidth:30,maximumWidth:80});return g.jsxs("aside",{className:ve("absolute right-0 top-0 h-full w-[400px] z-20 overflow-x-scroll border-l-[0.5px] bg-mastra-bg-1",e),style:{width:o?`${n}%`:void 0},ref:u,children:[o?g.jsx("div",{className:`w-1 bg-mastra-border-1 cursor-col-resize h-full hover:w-2 hover:bg-mastra-border-2 active:bg-mastra-border-3 transition-colors absolute inset-y-0 -left-1 -right-1 z-10
          ${r?"bg-mastra-border-2 w-2 cursor-col-resize":""}`,onMouseDown:i}):null,o&&g.jsx("div",{className:"h-full overflow-x-scroll px-0 absolute left-0 top-0 min-w-[50%]",style:{width:`${100-a}%`},children:g.jsx(q6,{})}),g.jsxs("div",{className:"h-full overflow-y-hidden border-l-[0.5px] absolute right-0 top-0 z-20 bg-mastra-bg-1",style:{width:`${s?a:100}%`},children:[s?g.jsx("div",{className:`w-1 h-full bg-mastra-border-1 cursor-col-resize hover:w-2 hover:bg-mastra-border-2 active:bg-mastra-border-3 transition-colors absolute inset-y-0 -left-1 -right-1 z-10
            ${l?"bg-mastra-border-2 w-2 cursor-col-resize":""}`,onMouseDown:c}):null,g.jsx("div",{className:"h-full overflow-y-scroll",children:s?g.jsx(YW,{}):g.jsx(Wx,{workflowId:t})})]})]})}function QIe(){const{workflowId:t}=fa(),{workflow:e,isLoading:n}=Kx(t);return n?g.jsxs("main",{className:"flex-1 relative grid grid-cols-[1fr_400px] divide-x",children:[g.jsx("div",{className:"p-4",children:g.jsx(Ue,{className:"h-[600px]"})}),g.jsx("div",{className:"flex flex-col",children:g.jsx(Wx,{workflowId:t})})]}):g.jsx(z6,{children:g.jsx(ZIe,{workflowId:t,workflowName:e==null?void 0:e.name})})}function JIe(){return g.jsx(bX,{children:g.jsx(ZK,{children:g.jsxs(rr,{element:g.jsx(pQ,{children:g.jsx(u1,{})}),children:[g.jsx(rr,{path:"/agents",element:g.jsx(Sre,{})}),g.jsx(rr,{path:"/agents/:agentId",element:g.jsx(c1,{to:"/agents/:agentId/chat"})}),g.jsxs(rr,{path:"/agents/:agentId",element:g.jsx(vQ,{children:g.jsx(u1,{})}),children:[g.jsx(rr,{path:"chat",element:g.jsx(AD,{})}),g.jsx(rr,{path:"chat/:threadId",element:g.jsx(AD,{})}),g.jsx(rr,{path:"evals",element:g.jsx(Eye,{})}),g.jsx(rr,{path:"traces",element:g.jsx(cSe,{})})]}),g.jsx(rr,{path:"/tools",element:g.jsx(AQ,{})}),g.jsx(rr,{path:"/tools/:agentId/:toolId",element:g.jsx(d_e,{})}),g.jsx(rr,{path:"/tools/all/:toolId",element:g.jsx(h_e,{})}),g.jsx(rr,{path:"/workflows",element:g.jsx(p_e,{})}),g.jsx(rr,{path:"/workflows/:workflowId",element:g.jsx(c1,{to:"/workflows/:workflowId/graph"})}),g.jsxs(rr,{path:"/workflows/:workflowId",element:g.jsx(EQ,{children:g.jsx(u1,{})}),children:[g.jsx(rr,{path:"graph",element:g.jsx(XIe,{})}),g.jsx(rr,{path:"traces",element:g.jsx(QIe,{})})]}),g.jsx(rr,{path:"/",element:g.jsx(c1,{to:"/agents"})})]})})})}oK.createRoot(document.getElementById("root")).render(g.jsx(S.StrictMode,{children:g.jsx(JIe,{})}));export{Mue as _,oie as a,Sie as b,XO as c,xie as f,kie as h,UT as s,die as w};
